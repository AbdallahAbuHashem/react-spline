{"version":3,"file":"react-spline.modern.js","sources":["../src/setup.ts","../src/spline-runtime.js","../src/index.tsx"],"sourcesContent":["import * as three from 'three'\r\n\r\n// @ts-ignore\r\nimport anime from 'animejs/lib/anime.es.js'\r\n\r\nwindow.THREE = three\r\nwindow.anime = anime\r\nwindow.SPE = window.SPE || {}\r\n\r\n// @ts-ignore\r\nwindow.SPE_USES_PREVIEW_IMAGE = false\r\n","// @ts-nocheck\r\nwindow.SPE = window.SPE || {}\r\n\r\nconst UNSIGNED_BYTE = 5121,\r\n  UNSIGNED_SHORT = 5123,\r\n  UNSIGNED_INT = 5125,\r\n  FLOAT = 5126,\r\n  ARRAY_BUFFER = 34962,\r\n  ELEMENT_ARRAY_BUFFER = 34963,\r\n  SPE_LAYER_TYPE_LIGHTING = 'light',\r\n  SPE_LAYER_TYPE_COLOR = 'color',\r\n  SPE_LAYER_TYPE_GRADIENT = 'gradient',\r\n  SPE_LAYER_TYPE_NORMAL = 'normal',\r\n  SPE_LAYER_TYPE_DEPTH = 'depth',\r\n  SPE_LAYER_TYPE_TEXTURE = 'texture',\r\n  SPE_LAYER_TYPE_NOISE = 'noise',\r\n  SPE_LAYER_TYPE_FRESNEL = 'fresnel',\r\n  SPE_LAYER_TYPE_POINTS = 'points',\r\n  SPE_LAYER_TYPE_LINES = 'lines',\r\n  SPE_LAYER_UNIFORM_TYPE_BOOL = 0,\r\n  SPE_LAYER_UNIFORM_TYPE_INT = 1,\r\n  SPE_LAYER_UNIFORM_TYPE_FLOAT = 2,\r\n  SPE_LAYER_UNIFORM_TYPE_VEC2 = 3,\r\n  SPE_LAYER_UNIFORM_TYPE_VEC3 = 4,\r\n  SPE_LAYER_UNIFORM_TYPE_VEC4 = 5,\r\n  SPE_LAYER_UNIFORM_TYPE_COLOR = 6,\r\n  SPE_LAYER_UNIFORM_TYPE_ARRAY_INT = 7,\r\n  SPE_LAYER_UNIFORM_TYPE_ARRAY_FLOAT = 8,\r\n  SPE_LAYER_UNIFORM_TYPE_ARRAY_VEC2 = 9,\r\n  SPE_LAYER_UNIFORM_TYPE_ARRAY_VEC3 = 10,\r\n  SPE_LAYER_UNIFORM_TYPE_ARRAY_VEC4 = 11,\r\n  SPE_LAYER_UNIFORM_TYPE_ARRAY_COLOR = 12,\r\n  SPE_LAYER_UNIFORM_TYPE_MAT3 = 13,\r\n  SPE_LAYER_UNIFORM_TYPE_MAT4 = 14,\r\n  SPE_LAYER_UNIFORM_TYPE_SAMPLER_2D = 15,\r\n  SPE_RENDERABLE_MESH3D = 0,\r\n  SPE_RENDERABLE_MESH2D = 1,\r\n  SPE_RENDERABLE_TEXT = 2,\r\n  SPE_RENDERABLE_RIGGING = 3,\r\n  SPE_MATERIAL_SIDE_FRONT = 0,\r\n  SPE_MATERIAL_SIDE_BACK = 1,\r\n  SPE_MATERIAL_SIDE_BOTH = 2,\r\n  SPE_COLOR_MAIN_BLUE = 3447804,\r\n  SPE_COLOR_DEFAULT = 8026746,\r\n  SPE_COLOR_RED = 16603997,\r\n  SPE_COLOR_GREEN = 6218333,\r\n  SPE_COLOR_PURPLE = 13192447,\r\n  SPE_COLOR_PINK = 16741879,\r\n  SPE_COLOR_YELLOW = 15711266,\r\n  SPE_COLOR_GRAY_DARK = 7105644,\r\n  SPE_COLOR_BLACK = 7105644,\r\n  SPE_TEXT_VERTICAL_ALIGN_TOP = 1,\r\n  SPE_TEXT_VERTICAL_ALIGN_MIDDLE = 2,\r\n  SPE_TEXT_VERTICAL_ALIGN_BOTTOM = 3,\r\n  SPE_TEXT_HORIZONTAL_ALIGN_LEFT = 1,\r\n  SPE_TEXT_HORIZONTAL_ALIGN_RIGHT = 2,\r\n  SPE_TEXT_HORIZONTAL_ALIGN_CENTER = 3,\r\n  SPE_TEXT_HORIZONTAL_ALIGN_JUSTIFY = 4,\r\n  SPE_TEXT_TRANSFORM_STANDARD = 1,\r\n  SPE_TEXT_TRANSFORM_UPPERCASE = 2,\r\n  SPE_TEXT_TRANSFORM_LOWERCASE = 3,\r\n  SPE_TEXT_TRAVELDIR_TO_RIGHT = 1,\r\n  SPE_TEXT_TRAVELDIR_TO_LEFT = -1,\r\n  SPE_BLENDING_NORMAL = 0,\r\n  SPE_BLENDING_MULTIPLY = 1,\r\n  SPE_BLENDING_SCREEN = 2,\r\n  SPE_BLENDING_OVERLAY = 3,\r\n  SPE_RUNTIME_VIEWMODE_FULLSCREEN = 1,\r\n  SPE_RUNTIME_VIEWMODE_CUSTOM_SIZE = 2,\r\n  SPE_RUNTIME_VIEWMODE_FULL_WIDTH = 3,\r\n  SPE_RUNTIME_VIEWMODE_FULL_HEIGHT = 4,\r\n  SPE_RUNTIME_QUALITY_HIGH = 'high',\r\n  SPE_RUNTIME_QUALITY_MIDDLE = 'middle',\r\n  SPE_RUNTIME_QUALITY_LOW = 'low',\r\n  SPE_RUNTIME_QUALITY_DEFAULT = 'default'\r\nSPE.QualityModifiers = {\r\n  SphereGeometry: {\r\n    widthSegments: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 128\r\n    },\r\n    heightSegments: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 128\r\n    }\r\n  },\r\n  CubeGeometry: {\r\n    cornerSegments: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 128\r\n    }\r\n  },\r\n  ConeGeometry: {\r\n    radialSegments: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 64\r\n    },\r\n    heightSegments: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 64\r\n    },\r\n    cornerSegments: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 64\r\n    }\r\n  },\r\n  CylinderGeometry: {\r\n    radialSegments: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 64\r\n    },\r\n    cornerSegments: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 64\r\n    }\r\n  },\r\n  EllipseGeometry: {\r\n    spikes: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 64\r\n    }\r\n  },\r\n  PolygonGeometry: {\r\n    extrudeBevelSegments: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 16\r\n    }\r\n  },\r\n  RectangleGeometry: {\r\n    extrudeBevelSegments: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 16\r\n    }\r\n  },\r\n  StarGeometry: {\r\n    extrudeBevelSegments: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 16\r\n    }\r\n  },\r\n  TorusGeometry: {\r\n    radialSegments: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 64\r\n    },\r\n    tubularSegments: {\r\n      scalers: { high: 2, middle: 1, low: 0.5, default: 1 },\r\n      minValue: 1,\r\n      maxValue: 128\r\n    }\r\n  }\r\n}\r\nclass SpeGltfDecoder {\r\n  constructor(e) {\r\n    ;(this.mGltfSceneGraph = e),\r\n      (this.mSceneGraph = null),\r\n      (this.mSceneCamera = null),\r\n      (this.mSceneOptions = {}),\r\n      (this.mNodes = []),\r\n      (this.mCameras = []),\r\n      (this.mLights = []),\r\n      (this.mGeometries = []),\r\n      (this.mGeometriesSpe = []),\r\n      (this.mAccessors = []),\r\n      (this.mMaterials = [])\r\n  }\r\n  decode(e) {\r\n    e && (this.mGltfSceneGraph = e),\r\n      (this.mSceneGraph = new SpeScene()),\r\n      (this.mSceneCamera = null),\r\n      (this.mSceneOptions = {}),\r\n      (this.mNodes = [this.mSceneGraph]),\r\n      (this.mObjects = {}),\r\n      (this.mCameras = []),\r\n      (this.mLights = []),\r\n      (this.mGeometries = []),\r\n      (this.mGeometriesSpe = []),\r\n      (this.mAccessors = []),\r\n      (this.mMaterials = []),\r\n      (this.mInteractionStates = {}),\r\n      void 0 !== this.mGltfSceneGraph.spline &&\r\n        ((this.mSceneOptions.usePrimitives =\r\n          void 0 === this.mGltfSceneGraph.spline.usePrimitives ||\r\n          this.mGltfSceneGraph.spline.usePrimitives),\r\n        (this.mSceneOptions.useOrbitControls =\r\n          void 0 === this.mGltfSceneGraph.spline.useOrbitControls ||\r\n          this.mGltfSceneGraph.spline.useOrbitControls),\r\n        (this.mSceneOptions.bgColor =\r\n          void 0 !== this.mGltfSceneGraph.spline.bgColor\r\n            ? this.mGltfSceneGraph.spline.bgColor\r\n            : new THREE.Color(1644825)),\r\n        (this.mSceneOptions.bgAlpha =\r\n          void 0 !== this.mGltfSceneGraph.spline.bgAlpha\r\n            ? this.mGltfSceneGraph.spline.bgAlpha\r\n            : 0),\r\n        (this.mSceneOptions.orbitDamped =\r\n          void 0 !== this.mGltfSceneGraph.spline.orbitDamped &&\r\n          this.mGltfSceneGraph.spline.orbitDamped),\r\n        (this.mSceneOptions.orbitTarget =\r\n          void 0 !== this.mGltfSceneGraph.spline.orbitTarget\r\n            ? this.mGltfSceneGraph.spline.orbitTarget\r\n            : [0, 0, 0]),\r\n        (this.mSceneOptions.cameraType =\r\n          void 0 !== this.mGltfSceneGraph.spline.cameraType\r\n            ? this.mGltfSceneGraph.spline.cameraType\r\n            : 'Orthographic'),\r\n        (this.mSceneOptions.cameraRotate =\r\n          void 0 === this.mGltfSceneGraph.spline.cameraRotate ||\r\n          this.mGltfSceneGraph.spline.cameraRotate),\r\n        (this.mSceneOptions.cameraPan =\r\n          void 0 === this.mGltfSceneGraph.spline.cameraPan ||\r\n          this.mGltfSceneGraph.spline.cameraPan),\r\n        (this.mSceneOptions.cameraZoom =\r\n          void 0 === this.mGltfSceneGraph.spline.cameraZoom ||\r\n          this.mGltfSceneGraph.spline.cameraZoom),\r\n        (this.mSceneOptions.viewMode =\r\n          void 0 !== this.mGltfSceneGraph.spline.viewMode\r\n            ? this.mGltfSceneGraph.spline.viewMode\r\n            : SPE_RUNTIME_VIEWMODE_FULLSCREEN),\r\n        (this.mSceneOptions.viewWidth =\r\n          void 0 !== this.mGltfSceneGraph.spline.viewWidth\r\n            ? this.mGltfSceneGraph.spline.viewWidth\r\n            : 1024),\r\n        (this.mSceneOptions.viewHeight =\r\n          void 0 !== this.mGltfSceneGraph.spline.viewHeight\r\n            ? this.mGltfSceneGraph.spline.viewHeight\r\n            : 768),\r\n        (this.mSceneOptions.quality =\r\n          void 0 !== this.mGltfSceneGraph.spline.quality\r\n            ? this.mGltfSceneGraph.spline.quality\r\n            : SPE_RUNTIME_QUALITY_DEFAULT))\r\n    const t = 'function' == typeof Interaction\r\n    if (t) {\r\n      if (\r\n        ((SPE.CachedImages = {}),\r\n        this.mGltfSceneGraph.spline && this.mGltfSceneGraph.spline.images)\r\n      ) {\r\n        const e = this.mGltfSceneGraph.spline.images\r\n        for (const [t, i] of Object.entries(e)) {\r\n          const e = new Image()\r\n          ;(e.src = i.url), (SPE.CachedImages[t] = e)\r\n        }\r\n      }\r\n      if (\r\n        ((SPE.CachedTextures = {}),\r\n        this.mGltfSceneGraph.spline && this.mGltfSceneGraph.spline.textures)\r\n      ) {\r\n        const e = this.mGltfSceneGraph.spline.textures\r\n        for (const [t, i] of Object.entries(e)) {\r\n          const e = i.image,\r\n            r = SPE.CachedImages[e],\r\n            a = new THREE.Texture(\r\n              r,\r\n              i.mapping,\r\n              i.wrap[0],\r\n              i.wrap[1],\r\n              i.magFilter,\r\n              i.minFilter,\r\n              i.format,\r\n              i.type,\r\n              i.anisotropy,\r\n              i.encoding\r\n            )\r\n          a.offset.fromArray(i.offset),\r\n            a.repeat.fromArray(i.repeat),\r\n            a.center.fromArray(i.center),\r\n            a.updateMatrix(),\r\n            (SPE.CachedTextures[t] = a)\r\n        }\r\n      }\r\n      if (\r\n        this.mGltfSceneGraph.spline &&\r\n        this.mGltfSceneGraph.spline.interactionStates\r\n      ) {\r\n        const e = this.mGltfSceneGraph.spline.interactionStates\r\n        this.mGltfSceneGraph.spline.textures\r\n        for (const [t, i] of Object.entries(e))\r\n          this.mInteractionStates[t] = new InteractionState().fromJSON(\r\n            i,\r\n            SPE.CachedTextures\r\n          )\r\n      }\r\n    }\r\n    const i = this.mGltfSceneGraph.cameras || []\r\n    for (let e = 0; e < i.length; e++) this._decodeCamera(i[e])\r\n    if (\r\n      this.mGltfSceneGraph.extensions &&\r\n      this.mGltfSceneGraph.extensions.KHR_lights_punctual &&\r\n      this.mGltfSceneGraph.extensions.KHR_lights_punctual.lights\r\n    ) {\r\n      const e = this.mGltfSceneGraph.extensions.KHR_lights_punctual.lights\r\n      for (let t = 0; t < e.length; t++) this._decodeLight(e[t])\r\n    }\r\n    this._constructGeometricData()\r\n    const r = this.mGltfSceneGraph.materials || []\r\n    for (let e = 0; e < r.length; e++) this._decodeMaterial(r[e])\r\n    const a = this.mGltfSceneGraph.meshes_spe || []\r\n    for (let e = 0; e < a.length; e++) this._decodeSpeGeometry(a[e])\r\n    const s = this.mGltfSceneGraph.meshes || []\r\n    for (let e = 0; e < s.length; e++) this._decodeGeometry(s[e])\r\n    const n = this.mGltfSceneGraph.nodes || []\r\n    for (let e = 1; e < n.length; e++) this._decodeNode(n[e])\r\n    if (\r\n      t &&\r\n      this.mGltfSceneGraph.spline &&\r\n      this.mGltfSceneGraph.spline.interactions\r\n    ) {\r\n      const e = this.mGltfSceneGraph.spline.interactions\r\n      for (let t = 0; t < n.length; t++) {\r\n        const i = n[t]\r\n        if (void 0 !== i.spe_interaction && null !== i.spe_interaction) {\r\n          const r = i.spe_interaction\r\n          if (r < e.length && r >= 0) {\r\n            const i = e[r],\r\n              a = this.mInteractionStates,\r\n              s = this.mObjects\r\n            this.mNodes[t].interaction.fromJSON(i, s, a)\r\n          }\r\n        }\r\n      }\r\n    }\r\n    const o = this.mGltfSceneGraph.nodes[0],\r\n      h = new SpeStack()\r\n    for (let e = 0; e < o.children.length; e++)\r\n      h.push([o.children[e], this.mSceneGraph])\r\n    for (; !h.empty(); ) {\r\n      const e = h.pop(),\r\n        t = e[0],\r\n        i = e[1]\r\n      if (t < this.mNodes.length && t >= 0) {\r\n        const e = this.mNodes[t]\r\n        if (!e) continue\r\n        i && i.add(e)\r\n        const r = this.mGltfSceneGraph.nodes[t].children\r\n        if (void 0 !== r) for (let t = 0; t < r.length; t++) h.push([r[t], e])\r\n      }\r\n    }\r\n    if (\r\n      void 0 !== this.mGltfSceneGraph.spline &&\r\n      this.mGltfSceneGraph.spline.fog\r\n    ) {\r\n      const e = this.mGltfSceneGraph.spline.fog,\r\n        t = void 0 !== e.color ? e.color : 16777215,\r\n        i = void 0 !== e.near ? e.near : 500,\r\n        r = void 0 !== e.far ? e.far : 2e3\r\n      this.mSceneGraph.fog = new THREE.Fog(t, i, r)\r\n    }\r\n    if (\r\n      void 0 !== this.mGltfSceneGraph.spline &&\r\n      void 0 !== this.mGltfSceneGraph.spline.mainCameraIndex\r\n    ) {\r\n      const e = this.mGltfSceneGraph.spline.mainCameraIndex\r\n      e < this.mNodes.length && e >= 0 && (this.mSceneCamera = this.mNodes[e])\r\n    }\r\n    return [this.mSceneGraph, this.mSceneCamera, this.mSceneOptions]\r\n  }\r\n  _decodeCamera(e) {\r\n    let t = void 0 !== e.type ? e.type : 'Perspective',\r\n      i = 100,\r\n      r = 100,\r\n      a = 45,\r\n      s = 1,\r\n      n = 0.1,\r\n      o = 5e4,\r\n      h = null\r\n    if ('Perspective' === t) {\r\n      const t = e.perspective ? e.perspective : {},\r\n        l = e.spe_options ? e.spe_options : {}\r\n      ;(a = void 0 !== t.yfov ? t.yfov : 45),\r\n        (s = void 0 !== t.aspectRatio ? t.aspectRatio : 1),\r\n        (n = void 0 !== t.znear ? t.znear : 0.1),\r\n        (o = void 0 !== t.zfar ? t.zfar : 5e4),\r\n        (h = new SPE.CombinedCamera(i, r, a, n, o)).toPerspective()\r\n      const c = void 0 !== l.zoom ? l.zoom : 1\r\n      h.zoom = c\r\n    } else if ('Orthographic' === t) {\r\n      const t = e.orthographic ? e.orthographic : {},\r\n        s = e.spe_options ? e.spe_options : {}\r\n      ;(i = void 0 !== t.xmag ? t.xmag : 100),\r\n        (r = void 0 !== t.ymag ? t.ymag : 100),\r\n        (n = void 0 !== t.znear ? t.znear : 0.1),\r\n        (o = void 0 !== t.zfar ? t.zfar : 5e4),\r\n        (h = new SPE.CombinedCamera(i, r, a, n, o)).toOrthographic()\r\n      const l = void 0 !== s.zoom ? s.zoom : 1\r\n      h.zoom = l\r\n    } else\r\n      console.warn(\r\n        `SpeGltfDecoder::_decodeCamera >>> unsupported camera type: ${t}. Using Orthographic instead`\r\n      ),\r\n        (h = new SPE.CombinedCamera(i, r, a, n, o)).toOrthographic()\r\n    this.mCameras.push(h)\r\n  }\r\n  _decodeLight(e) {\r\n    if ('hemispheric' === e.type) {\r\n      const t = new THREE.Color().fromArray(\r\n          void 0 !== e.color ? e.color : [1, 1, 1]\r\n        ),\r\n        i = new THREE.Color().setHex(8553090),\r\n        r = e.intensity ? e.intensity : 1\r\n      this.mLights.push(new THREE.HemisphereLight(t, i, r))\r\n    } else if ('directional' === e.type) {\r\n      const t = new SPE.LightDirectional(\r\n          new THREE.Color().fromArray(e.color),\r\n          e.intensity\r\n        ),\r\n        i = e.shadows || {}\r\n      ;(t.castShadow = void 0 !== i.castShadow && i.castShadow),\r\n        (t.shadow.camera.right =\r\n          void 0 !== i.shadowmapViewRight ? i.shadowmapViewRight : 1250),\r\n        (t.shadow.camera.left =\r\n          void 0 !== i.shadowmapViewLeft ? i.shadowmapViewLeft : -1250),\r\n        (t.shadow.camera.top =\r\n          void 0 !== i.shadowmapViewTop ? i.shadowmapViewTop : 1250),\r\n        (t.shadow.camera.bottom =\r\n          void 0 !== i.shadowmapViewBottom ? i.shadowmapViewBottom : -1250),\r\n        (t.shadow.camera.near =\r\n          void 0 !== i.shadowmapViewNear ? i.shadowmapViewNear : 1),\r\n        (t.shadow.camera.far =\r\n          void 0 !== i.shadowmapViewFar ? i.shadowmapViewFar : 2500),\r\n        this.mLights.push(t)\r\n    } else if ('point' === e.type) {\r\n      const t = new THREE.Color().fromArray(\r\n          void 0 !== e.color ? e.color : [1, 1, 1]\r\n        ),\r\n        i = e.intensity ? e.intensity : 1,\r\n        r = void 0 !== e.range ? e.range : 0,\r\n        a = void 0 !== e.decay ? e.decay : 1,\r\n        s = new SPE.LightPoint(t, i, r, a),\r\n        n = e.shadows || {}\r\n      ;(s.castShadow = void 0 !== n.castShadow && n.castShadow),\r\n        (s.shadow.camera.near =\r\n          void 0 !== n.shadowmapViewNear ? n.shadowmapViewNear : 1),\r\n        (s.shadow.camera.far =\r\n          void 0 !== n.shadowmapViewFar ? n.shadowmapViewFar : 2500),\r\n        this.mLights.push(s)\r\n    } else if ('spot' === e.type) {\r\n      const t = new THREE.Color().fromArray(\r\n          void 0 !== e.color ? e.color : [1, 1, 1]\r\n        ),\r\n        i = e.intensity ? e.intensity : 1,\r\n        r = void 0 !== e.range ? e.range : 0,\r\n        a = void 0 !== e.decay ? e.decay : 1,\r\n        s = void 0 !== e.innerConeAngle ? e.innerConeAngle : Math.PI / 3,\r\n        n = void 0 !== e.penumbra ? e.penumbra : 0,\r\n        o = new SPE.LightSpot(t, i, r, s, n, a),\r\n        h = e.shadows || {}\r\n      ;(o.castShadow = void 0 !== h.castShadow && h.castShadow),\r\n        (o.shadow.camera.fov =\r\n          void 0 !== h.shadowmapViewFov\r\n            ? h.shadowmapViewFov\r\n            : 2 * THREE.MathUtils.RAD2DEG * s),\r\n        (o.shadow.camera.near =\r\n          void 0 !== h.shadowmapViewNear ? h.shadowmapViewNear : 1),\r\n        (o.shadow.camera.far =\r\n          void 0 !== h.shadowmapViewFar ? h.shadowmapViewFar : 2500),\r\n        this.mLights.push(o)\r\n    } else\r\n      console.error(\r\n        'SpeGltfDecoder::_decodeLight >>> unsupported light type: ',\r\n        e.type\r\n      )\r\n  }\r\n  _constructGeometricData() {\r\n    const e = this.mGltfSceneGraph.buffers,\r\n      t = []\r\n    for (let i = 0; i < e.length; i++) t.push(this._decodeBuffer(e[i]))\r\n    const i = this.mGltfSceneGraph.bufferViews,\r\n      r = []\r\n    for (let e = 0; e < i.length; e++) r.push(this._decodeBufferView(i[e], t))\r\n    const a = this.mGltfSceneGraph.accessors\r\n    for (let e = 0; e < a.length; e++)\r\n      this.mAccessors.push(this._decodeAccessor(a[e], r))\r\n  }\r\n  _decodeBuffer(e) {\r\n    const t = e.byteLength,\r\n      i = e.uri\r\n    if (i.indexOf('base64')) {\r\n      const e = i.slice(i.indexOf('base64') + 7),\r\n        r = atob(e),\r\n        a = new Uint8Array(e.length)\r\n      for (let e = 0; e < r.length; e++) a[e] = r.charCodeAt(e)\r\n      return { data: a, length: t }\r\n    }\r\n    return i.indexOf('.bin')\r\n      ? (console.error(\r\n          'SpeGltfDecoder::_decodeBuffer >>> encode-from-.bin is not implement yet'\r\n        ),\r\n        '')\r\n      : (console.error(\r\n          'SpeGltfDecoder::_decodeBuffer >>> invalid options to parse buffer data'\r\n        ),\r\n        '')\r\n  }\r\n  _decodeBufferView(e, t) {\r\n    const i = e.byteLength,\r\n      r = e.byteOffset,\r\n      a = e.buffer,\r\n      s = e.target\r\n    if (a < t.length && a >= 0) {\r\n      return { data: t[a].data.slice(r, r + i), length: i, target: s }\r\n    }\r\n    return (\r\n      console.error(\r\n        'SpeGltfDecoder::_decodeBufferView >>> index-out-of-range in buffers array'\r\n      ),\r\n      {}\r\n    )\r\n  }\r\n  _decodeAccessor(e, t) {\r\n    const i = e.bufferView,\r\n      r = e.byteOffset,\r\n      a = e.componentType,\r\n      s = e.count,\r\n      n = e.type\r\n    if (i < t.length && i >= 0) {\r\n      const e = t[i].data,\r\n        o = this._getAccessorItemSize(n),\r\n        h = s * o * this._getAccessorComponentSize(a),\r\n        l = e.slice(r, r + h)\r\n      let c = null\r\n      return (\r\n        a === UNSIGNED_SHORT\r\n          ? (c = this._createUint16Buffer(l))\r\n          : a === UNSIGNED_INT\r\n          ? (c = this._createUint32Buffer(l))\r\n          : a === FLOAT && (c = this._createFloat32Buffer(l)),\r\n        c\r\n          ? this._createBufferAttribute(c, o)\r\n          : (console.error(\r\n              'SpeGltfDecoder::_decodeAccessor >>> invalid component-type given'\r\n            ),\r\n            null)\r\n      )\r\n    }\r\n    return (\r\n      console.error(\r\n        'SpeGltfDecoder::_decodeAccessor >>> index-out-of-range in bufferViews array'\r\n      ),\r\n      null\r\n    )\r\n  }\r\n  _decodeMaterial(e) {\r\n    let [t, i] = Object.entries(e)[0]\r\n    void 0 !== i.extensions && void 0 !== i.extensions.KHR_materials_common\r\n      ? this._decodeSimpleMaterial(\r\n          i.extensions.KHR_materials_common,\r\n          i.spe_options,\r\n          i.spe_layers\r\n        )\r\n      : this._decodePbrMaterial(i)\r\n  }\r\n  _decodeSimpleMaterial(e, t, i) {\r\n    const r = e.technique || 'PHONG',\r\n      a = e.values || {},\r\n      s = t || {},\r\n      n = i || {}\r\n    if ('PHONG' === r) {\r\n      const e = new THREE.Color().fromArray(\r\n          void 0 !== a.diffuse ? a.diffuse : [0.5, 0.5, 0.5]\r\n        ),\r\n        t = new THREE.Color().fromArray(\r\n          void 0 !== a.specular ? a.specular : [0.5, 0.5, 0.5]\r\n        ),\r\n        i = new THREE.Color().fromArray(\r\n          void 0 !== a.emission ? a.emission : [0, 0, 0]\r\n        ),\r\n        r = void 0 !== a.shininess ? a.shininess : 32,\r\n        o = void 0 !== a.transparent && a.transparent,\r\n        h = void 0 !== a.transparency ? a.transparency : 1,\r\n        l = void 0 === s.visible || s.visible,\r\n        c = void 0 !== s.wireframe && s.wireframe,\r\n        d = void 0 !== s.side ? s.side : THREE.FrontSide,\r\n        m = void 0 !== s.flatShading && s.flatShading,\r\n        u = new SpePhongMaterial(n, {\r\n          color: e,\r\n          specular: t,\r\n          emissive: i,\r\n          shininess: r,\r\n          transparent: o,\r\n          opacity: h,\r\n          flatShading: m,\r\n          side: d,\r\n          wireframe: c,\r\n          visible: l\r\n        })\r\n      this.mMaterials.push(u)\r\n    } else if ('LAMBERT' === r) {\r\n      const e = new THREE.Color().fromArray(\r\n          void 0 !== a.diffuse ? a.diffuse : [0.5, 0.5, 0.5]\r\n        ),\r\n        t = new THREE.Color().fromArray(\r\n          void 0 !== a.emission ? a.emission : [0, 0, 0]\r\n        ),\r\n        i = void 0 !== a.transparent && a.transparent,\r\n        r = void 0 !== a.transparency ? a.transparency : 1,\r\n        o = void 0 === s.visible || s.visible,\r\n        h = void 0 !== s.wireframe && s.wireframe,\r\n        l = void 0 !== s.side ? s.side : THREE.FrontSide,\r\n        c = void 0 !== s.flatShading && s.flatShading,\r\n        d = new SpeLambertMaterial(n, {\r\n          color: e,\r\n          emissive: t,\r\n          transparent: i,\r\n          opacity: r,\r\n          flatShading: c,\r\n          side: l,\r\n          wireframe: h,\r\n          visible: o\r\n        })\r\n      this.mMaterials.push(d)\r\n    } else if ('CONSTANT' === r) {\r\n      const e = new THREE.Color().fromArray(\r\n          void 0 !== a.ambient ? a.ambient : [0.5, 0.5, 0.5]\r\n        ),\r\n        t = void 0 !== a.transparent && a.transparent,\r\n        i = void 0 !== a.transparency ? a.transparency : 1,\r\n        r = void 0 === s.visible || s.visible,\r\n        o = void 0 !== s.wireframe && s.wireframe,\r\n        h = void 0 !== s.side ? s.side : THREE.FrontSide,\r\n        l = void 0 !== s.flatShading && s.flatShading,\r\n        c = new SpeBasicMaterial(n, {\r\n          color: e,\r\n          transparent: t,\r\n          opacity: i,\r\n          flatShading: l,\r\n          side: h,\r\n          wireframe: o,\r\n          visible: r\r\n        })\r\n      this.mMaterials.push(c)\r\n    } else if ('TOON' === r) {\r\n      const e = new THREE.Color().fromArray(\r\n          void 0 !== a.ambient ? a.ambient : [0.5, 0.5, 0.5]\r\n        ),\r\n        t = void 0 !== a.transparent && a.transparent,\r\n        i = void 0 !== a.transparency ? a.transparency : 1,\r\n        r = void 0 === s.visible || s.visible,\r\n        o = void 0 !== s.wireframe && s.wireframe,\r\n        h = void 0 !== s.side ? s.side : THREE.FrontSide,\r\n        l = void 0 !== s.flatShading && s.flatShading,\r\n        c = new SpeToonMaterial(n, {\r\n          color: e,\r\n          transparent: t,\r\n          opacity: i,\r\n          flatShading: l,\r\n          side: h,\r\n          wireframe: o,\r\n          visible: r\r\n        })\r\n      this.mMaterials.push(c)\r\n    } else if ('PHYSICAL' === r) {\r\n      const e = new THREE.Color().fromArray(\r\n          void 0 !== a.ambient ? a.ambient : [0.5, 0.5, 0.5]\r\n        ),\r\n        t = void 0 !== a.transparent && a.transparent,\r\n        i = void 0 !== a.transparency ? a.transparency : 1,\r\n        r = void 0 !== a.roughness ? a.roughness : 0.3,\r\n        o = void 0 !== a.metalness ? a.metalness : 0,\r\n        h = void 0 !== a.reflectivity ? a.reflectivity : 0.5,\r\n        l = void 0 === s.visible || s.visible,\r\n        c = void 0 !== s.wireframe && s.wireframe,\r\n        d = void 0 !== s.side ? s.side : THREE.FrontSide,\r\n        m = void 0 !== s.flatShading && s.flatShading,\r\n        u = new SpePhysicalMaterial(n, {\r\n          color: e,\r\n          transparent: t,\r\n          opacity: i,\r\n          roughness: r,\r\n          metalness: o,\r\n          reflectivity: h,\r\n          flatShading: m,\r\n          side: d,\r\n          wireframe: c,\r\n          visible: l\r\n        })\r\n      this.mMaterials.push(u)\r\n    } else if ('ARRAY' === r) {\r\n      const e =\r\n          void 0 !== a.techniques\r\n            ? a.techniques\r\n            : new Array(n.length).fill('CONSTANT'),\r\n        t = []\r\n      for (let i = 0; i < n.length; i++)\r\n        'CONSTANT' === e[i]\r\n          ? t.push(new SpeBasicMaterial(n[i], {}))\r\n          : 'LAMBERT' === e[i]\r\n          ? t.push(new SpeLambertMaterial(n[i], {}))\r\n          : 'PHONG' === e[i]\r\n          ? t.push(new SpePhongMaterial(n[i], {}))\r\n          : 'TOON' === e[i]\r\n          ? t.push(new SpeToonMaterial(n[i], {}))\r\n          : 'PHYSICAL' === e[i]\r\n          ? t.push(new SpePhysicalMaterial(n[i], {}))\r\n          : (console.error(\r\n              `SpeGltfDecoder::_decodeSimpleMaterial >>> unsupported technique (${e[i]}) for element of array of materials`\r\n            ),\r\n            t.push(new SpeBasicMaterial(n[i], {})))\r\n      this.mMaterials.push(t)\r\n    } else\r\n      console.error(\r\n        'SpeGltfDecoder::_decodeSimpleMaterial >>> unsupported material type: ',\r\n        e.technique\r\n      )\r\n  }\r\n  _decodePbrMaterial(e) {}\r\n  _decodeSpeGeometry(e) {\r\n    const t = void 0 !== e.type ? e.type : 'SphereGeometry',\r\n      i = this._applyQualityScalers(\r\n        t,\r\n        void 0 !== e.parameters\r\n          ? { ...e.parameters }\r\n          : { width: 100, height: 100, depth: 100 }\r\n      )\r\n    if ('CharacterGeometry' === t) {\r\n      SpeLoadCharData(\r\n        void 0 !== i.char ? i.char : '.',\r\n        void 0 !== i.fontFamily ? i.fontFamily : 'roboto_regular',\r\n        void 0 !== i.lod ? i.lod : 1\r\n      ),\r\n        this.mGeometriesSpe.push(i)\r\n    } else {\r\n      const e = (0, SPE[t].build)(i)\r\n      this.mGeometriesSpe.push(e)\r\n    }\r\n  }\r\n  _applyQualityScalers(e, t) {\r\n    if (void 0 === SPE.QualityModifiers[e]) return t\r\n    const i = {},\r\n      r = this.mSceneOptions.quality\r\n    for (const [a, s] of Object.entries(t)) {\r\n      if (void 0 === SPE.QualityModifiers[e][a]) {\r\n        i[a] = s\r\n        continue\r\n      }\r\n      const t = SPE.QualityModifiers[e][a].minValue,\r\n        n = SPE.QualityModifiers[e][a].maxValue,\r\n        o = SPE.QualityModifiers[e][a].scalers[r]\r\n      i[a] = Math.max(t, Math.min(n, o * s))\r\n    }\r\n    return i\r\n  }\r\n  _decodeGeometry(e) {\r\n    const t = e.primitives,\r\n      i = e.groups,\r\n      r = e.parameters,\r\n      a = t[0],\r\n      s = a.indices,\r\n      n = a.attributes,\r\n      o = this.mAccessors[s],\r\n      h = {}\r\n    for (let e in n) h[e] = this.mAccessors[n[e]]\r\n    const l = new THREE.BufferGeometry()\r\n    o && l.setIndex(o)\r\n    for (let e in h) l.setAttribute(e.toLowerCase(), h[e])\r\n    if (void 0 !== i)\r\n      for (let e = 0; e < i.length; e++)\r\n        l.addGroup(i[e].start, i[e].count, i[e].materialIndex)\r\n    if (void 0 !== r) {\r\n      const e = new THREE.Vector3()\r\n      l.computeBoundingBox(), l.boundingBox.getSize(e)\r\n      const t = void 0 !== r.width ? r.width : e.x,\r\n        i = void 0 !== r.height ? r.height : e.y,\r\n        a = void 0 !== r.depth ? r.depth : e.z\r\n      l.scale(\r\n        Math.abs(e.x) < 1e-5 ? 1 : t / e.x,\r\n        Math.abs(e.y) < 1e-5 ? 1 : i / e.y,\r\n        Math.abs(e.z) < 1e-5 ? 1 : a / e.z\r\n      ),\r\n        (l.userData = {\r\n          type: 'NonParametricGeometry',\r\n          parameters: { width: t, height: i, depth: a }\r\n        })\r\n    }\r\n    this.mGeometries.push(l)\r\n  }\r\n  _decodeNode(e) {\r\n    if (void 0 !== e.camera) {\r\n      const t = e.camera\r\n      if (t < this.mCameras.length && t >= 0) {\r\n        const i = this.mCameras[t]\r\n        ;(i.visible = void 0 === e.visible || e.visible),\r\n          i.position.copy(\r\n            new THREE.Vector3().fromArray(\r\n              e.translation ? e.translation : [0, 0, 0]\r\n            )\r\n          ),\r\n          i.quaternion.copy(\r\n            new THREE.Quaternion().fromArray(\r\n              e.rotation ? e.rotation : [0, 0, 0, 1]\r\n            )\r\n          ),\r\n          i.hiddenMatrix.copy(\r\n            new THREE.Matrix4().fromArray(\r\n              e.hiddenMatrix\r\n                ? e.hiddenMatrix\r\n                : [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]\r\n            )\r\n          ),\r\n          i.updateMatrix(),\r\n          this.mNodes.push(i)\r\n        const r = void 0 !== e.uuid ? e.uuid : THREE.MathUtils.generateUUID()\r\n        this.mObjects[r] = i\r\n      } else\r\n        console.error(\r\n          'SpeGltfDecoder::_decodeNode >>> couldnt create node for associated camera (index out of bounds)'\r\n        )\r\n    } else if (void 0 !== e.mesh_spe) {\r\n      const t = e.mesh_spe\r\n      let i = null\r\n      t < this.mGeometriesSpe.length && t >= 0\r\n        ? (i = this.mGeometriesSpe[t])\r\n        : (console.warn(\r\n            'SpeGltfDecoder::_decodeNode >>> couldnt grab any associated geometry for a mesh-node (index out of bounds). Creating a default sphere instead'\r\n          ),\r\n          (i = new THREE.SphereBufferGeometry(1, 10, 10)))\r\n      let r = null\r\n      if (void 0 !== e.material) {\r\n        const t = e.material\r\n        t < this.mMaterials.length && t >= 0\r\n          ? (r = this.mMaterials[t])\r\n          : console.warn(\r\n              'SpeGltfDecoder::_decodeNode >>> couldnt grab any associated material for a mesh-node (index out of bounds)'\r\n            )\r\n      }\r\n      r ||\r\n        (console.error(\r\n          'SpeGltfDecoder::_decodeNode >>> mesh-node doesnt have a material. Creating a default phong-material instead'\r\n        ),\r\n        (r = new SpePhongMaterial(\r\n          {},\r\n          {\r\n            color: new THREE.Color(16777215),\r\n            specular: new THREE.Color(16777215)\r\n          }\r\n        )))\r\n      const a = void 0 !== e.type ? e.type : 'mesh3d'\r\n      let s = null\r\n      'mesh3d' === a\r\n        ? (s = new SpeMesh3D(i, r))\r\n        : 'mesh2d' === a\r\n        ? (s = new SpeMesh2D(i, r))\r\n        : 'text' === a\r\n        ? (s = new SpeTextContainer(i, r))\r\n        : 'character' === a\r\n        ? (s = new SpeTextChar3D(i, r))\r\n        : (console.error(\r\n            `SpeGltfDecoder::_decodeNode >>> mesh-type ${a} not supported`\r\n          ),\r\n          (s = new SpeMesh3D(i, r))),\r\n        (s.visible = void 0 === e.visible || e.visible),\r\n        (s.castShadow = void 0 === e.castShadow || e.castShadow),\r\n        (s.receiveShadow = void 0 === e.receiveShadow || e.receiveShadow),\r\n        s.position.copy(\r\n          new THREE.Vector3().fromArray(\r\n            e.translation ? e.translation : [0, 0, 0]\r\n          )\r\n        ),\r\n        s.quaternion.copy(\r\n          new THREE.Quaternion().fromArray(\r\n            e.rotation ? e.rotation : [0, 0, 0, 1]\r\n          )\r\n        ),\r\n        s.scale.copy(\r\n          new THREE.Vector3().fromArray(e.scale ? e.scale : [1, 1, 1])\r\n        ),\r\n        s.hiddenMatrix.copy(\r\n          new THREE.Matrix4().fromArray(\r\n            e.hiddenMatrix\r\n              ? e.hiddenMatrix\r\n              : [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]\r\n          )\r\n        ),\r\n        s.updateMatrix(),\r\n        this.mNodes.push(s)\r\n      const n = void 0 !== e.uuid ? e.uuid : THREE.MathUtils.generateUUID()\r\n      ;(this.mObjects[n] = s),\r\n        e.spe_cloner &&\r\n          ((s.cloner = new Cloner(s).fromJSON(e.spe_cloner_data)),\r\n          s.add(s.cloner))\r\n    } else if (void 0 !== e.mesh) {\r\n      const t = e.mesh\r\n      let i = null\r\n      t < this.mGeometries.length && t >= 0\r\n        ? (i = this.mGeometries[t])\r\n        : (console.warn(\r\n            'SpeGltfDecoder::_decodeNode >>> couldnt grab any associated geometry for a mesh-node (index out of bounds). Creating a default sphere instead'\r\n          ),\r\n          (i = new THREE.SphereBufferGeometry(1, 10, 10)))\r\n      let r = null\r\n      if (void 0 !== e.material) {\r\n        const t = e.material\r\n        t < this.mMaterials.length && t >= 0\r\n          ? (r = this.mMaterials[t])\r\n          : console.warn(\r\n              'SpeGltfDecoder::_decodeNode >>> couldnt grab any associated material for a mesh-node (index out of bounds)'\r\n            )\r\n      }\r\n      r ||\r\n        (console.warn(\r\n          'SpeGltfDecoder::_decodeNode >>> mesh-node doesnt have a material. Creating a default phong-material instead'\r\n        ),\r\n        (r = new SpePhongMaterial(\r\n          {},\r\n          {\r\n            color: new THREE.Color(16777215),\r\n            specular: new THREE.Color(16777215)\r\n          }\r\n        )))\r\n      const a = new SpeMesh3D(i, r)\r\n      ;(a.visible = void 0 === e.visible || e.visible),\r\n        (a.castShadow = void 0 === e.castShadow || e.castShadow),\r\n        (a.receiveShadow = void 0 === e.receiveShadow || e.receiveShadow),\r\n        a.position.copy(\r\n          new THREE.Vector3().fromArray(\r\n            e.translation ? e.translation : [0, 0, 0]\r\n          )\r\n        ),\r\n        a.quaternion.copy(\r\n          new THREE.Quaternion().fromArray(\r\n            e.rotation ? e.rotation : [0, 0, 0, 1]\r\n          )\r\n        ),\r\n        a.scale.copy(\r\n          new THREE.Vector3().fromArray(e.scale ? e.scale : [1, 1, 1])\r\n        ),\r\n        a.hiddenMatrix.copy(\r\n          new THREE.Matrix4().fromArray(\r\n            e.hiddenMatrix\r\n              ? e.hiddenMatrix\r\n              : [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]\r\n          )\r\n        ),\r\n        a.updateMatrix(),\r\n        this.mNodes.push(a)\r\n      const s = void 0 !== e.uuid ? e.uuid : THREE.MathUtils.generateUUID()\r\n      ;(this.mObjects[s] = a),\r\n        e.spe_cloner &&\r\n          ((a.cloner = new Cloner(a).fromJSON(e.spe_cloner_data)),\r\n          a.add(a.cloner))\r\n    } else if (\r\n      void 0 !== e.extensions &&\r\n      void 0 !== e.extensions.KHR_lights_punctual &&\r\n      void 0 !== e.extensions.KHR_lights_punctual.light\r\n    ) {\r\n      const t = e.extensions.KHR_lights_punctual.light\r\n      if (t < this.mLights.length && t >= 0) {\r\n        const i = this.mLights[t]\r\n        if (\r\n          (i.position.copy(\r\n            new THREE.Vector3().fromArray(\r\n              e.translation ? e.translation : [0, 0, 0]\r\n            )\r\n          ),\r\n          'SpotLight' === i.type || 'DirectionalLight' === i.type)\r\n        ) {\r\n          const t = new THREE.Quaternion().fromArray(\r\n              e.rotation ? e.rotation : [0, 0, 0, 1]\r\n            ),\r\n            r = new THREE.Matrix4().makeRotationFromQuaternion(t),\r\n            a = new THREE.Vector3(r.elements[8], r.elements[9], r.elements[10])\r\n          ;(i.target.position.x = i.position.x + a.x),\r\n            (i.target.position.y = i.position.y + a.y),\r\n            (i.target.position.z = i.position.z + a.z)\r\n        }\r\n        i.hiddenMatrix &&\r\n          i.hiddenMatrix.copy(\r\n            new THREE.Matrix4().fromArray(\r\n              e.hiddenMatrix\r\n                ? e.hiddenMatrix\r\n                : [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]\r\n            )\r\n          ),\r\n          (i.visible = void 0 === e.visible || e.visible),\r\n          this.mNodes.push(i)\r\n        const r = void 0 !== e.uuid ? e.uuid : THREE.MathUtils.generateUUID()\r\n        this.mObjects[r] = i\r\n      } else\r\n        console.error(\r\n          'SpeGltfDecoder::_decodeNode >>> couldnt create node for associated light (index out of bounds)'\r\n        )\r\n    } else if (e.spe_empty_object) {\r\n      const t = new SpeEmptyObject()\r\n      ;(t.visible = void 0 === e.visible || e.visible),\r\n        t.position.copy(\r\n          new THREE.Vector3().fromArray(\r\n            e.translation ? e.translation : [0, 0, 0]\r\n          )\r\n        ),\r\n        t.quaternion.copy(\r\n          new THREE.Quaternion().fromArray(\r\n            e.rotation ? e.rotation : [0, 0, 0, 1]\r\n          )\r\n        ),\r\n        t.scale.copy(\r\n          new THREE.Vector3().fromArray(e.scale ? e.scale : [1, 1, 1])\r\n        ),\r\n        t.hiddenMatrix.copy(\r\n          new THREE.Matrix4().fromArray(\r\n            e.hiddenMatrix\r\n              ? e.hiddenMatrix\r\n              : [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]\r\n          )\r\n        ),\r\n        t.updateMatrix(),\r\n        this.mNodes.push(t)\r\n      const i = void 0 !== e.uuid ? e.uuid : THREE.MathUtils.generateUUID()\r\n      this.mObjects[i] = t\r\n    } else {\r\n      console.warn(\r\n        'SpeGltfDecoder::_decodeNode >>> Unsupported node, creating a default THREE.Object3D instead'\r\n      )\r\n      const t = new THREE.Object3D()\r\n      t.position.copy(\r\n        new THREE.Vector3().fromArray(e.translation ? e.translation : [0, 0, 0])\r\n      ),\r\n        t.quaternion.copy(\r\n          new THREE.Quaternion().fromArray(\r\n            e.rotation ? e.rotation : [0, 0, 0, 1]\r\n          )\r\n        ),\r\n        t.scale.copy(\r\n          new THREE.Vector3().fromArray(e.scale ? e.scale : [1, 1, 1])\r\n        ),\r\n        this.mNodes.push(t)\r\n    }\r\n  }\r\n  _getAccessorItemSize(e) {\r\n    return 'SCALAR' === e\r\n      ? 1\r\n      : 'VEC2' === e\r\n      ? 2\r\n      : 'VEC3' === e\r\n      ? 3\r\n      : 'VEC4' === e\r\n      ? 4\r\n      : 'MAT4' === e\r\n      ? 16\r\n      : (console.error(\r\n          'SpeGltfDecoder::_getAccessorItemSize >>> invalid item-type'\r\n        ),\r\n        1)\r\n  }\r\n  _getAccessorComponentSize(e) {\r\n    return e === UNSIGNED_BYTE\r\n      ? 1\r\n      : e === UNSIGNED_SHORT\r\n      ? 2\r\n      : e === UNSIGNED_INT\r\n      ? 4\r\n      : e === FLOAT\r\n      ? 4\r\n      : (console.error(\r\n          'SpeGltfDecoder::_getAccessorComponentSize >>> invalid component-type'\r\n        ),\r\n        1)\r\n  }\r\n  _createUint16Buffer(e) {\r\n    return new Uint16Array(e.buffer)\r\n  }\r\n  _createUint32Buffer(e) {\r\n    return new Uint32Array(e.buffer)\r\n  }\r\n  _createFloat32Buffer(e) {\r\n    const t = new Float32Array(e.length / Float32Array.BYTES_PER_ELEMENT),\r\n      i = new DataView(new ArrayBuffer(Float32Array.BYTES_PER_ELEMENT))\r\n    for (let r = 0; r < t.length; r++)\r\n      i.setUint8(0, e[4 * r + 0]),\r\n        i.setUint8(1, e[4 * r + 1]),\r\n        i.setUint8(2, e[4 * r + 2]),\r\n        i.setUint8(3, e[4 * r + 3]),\r\n        (t[r] = i.getFloat32(0, !0))\r\n    return t\r\n  }\r\n  _createBufferAttribute(e, t) {\r\n    return 'Float32Array' === e.constructor.name\r\n      ? new THREE.Float32BufferAttribute(e, t)\r\n      : 'Uint16Array' === e.constructor.name\r\n      ? new THREE.Uint16BufferAttribute(e, t)\r\n      : 'Uint32Array' === e.constructor.name\r\n      ? new THREE.Uint32BufferAttribute(e, t)\r\n      : (console.error(\r\n          'SpeGltfDecoder::_createBufferAttribute >>> unsupported buffer-array-type'\r\n        ),\r\n        null)\r\n  }\r\n}\r\nclass SpeIMesh extends THREE.Mesh {\r\n  constructor(e, t) {\r\n    super(e, t),\r\n      (this.mLocalTransform = new THREE.Matrix4()),\r\n      (this.mInteraction =\r\n        'function' == typeof Interaction ? new Interaction(this) : null)\r\n  }\r\n  get interaction() {\r\n    return this.mInteraction\r\n  }\r\n  set interaction(e) {\r\n    this.mInteraction = e\r\n  }\r\n  get hiddenMatrix() {\r\n    return this.mLocalTransform\r\n  }\r\n  set hiddenMatrix(e) {\r\n    this.mLocalTransform.copy(e)\r\n  }\r\n  set visibility(e) {\r\n    this.visible = e\r\n    for (let t = 0, i = this.children.length; t < i; ++t)\r\n      void 0 !== this.children[t].traverseEntity &&\r\n        this.children[t].traverseEntity(function (t) {\r\n          void 0 !== t.objectHelper &&\r\n            !0 === t.visible &&\r\n            (t.objectHelper.visible = e)\r\n        })\r\n  }\r\n  get visibility() {\r\n    return this.visible\r\n  }\r\n  updateGeometry(e) {\r\n    this.geometry.copy(e)\r\n  }\r\n  computeSingleBoundingBox() {\r\n    this.singleBoundingBox || (this.singleBoundingBox = new SPE.Box3()),\r\n      this.singleBoundingBox.setFromObjectSize(this, !1),\r\n      this.singleBoundingBox.computeVertices(),\r\n      this.singleBoundingBox.computeEdges()\r\n  }\r\n  computeComplexBoundingBox(e) {\r\n    this.complexBoundingBox || (this.complexBoundingBox = new SPE.Box3()),\r\n      this.complexBoundingBox.setFromObjectSize(this, e)\r\n  }\r\n  updateMatrixWorld(e) {\r\n    this.matrixAutoUpdate && this.updateMatrix(),\r\n      (this.matrixWorldNeedsUpdate || e) &&\r\n        (null === this.parent\r\n          ? this.matrixWorld.multiplyMatrices(this.mLocalTransform, this.matrix)\r\n          : (this.matrixWorld.multiplyMatrices(\r\n              this.parent.matrixWorld,\r\n              this.mLocalTransform\r\n            ),\r\n            this.matrixWorld.multiplyMatrices(this.matrixWorld, this.matrix)),\r\n        (this.matrixWorldNeedsUpdate = !1),\r\n        (e = !0))\r\n    const t = this.children\r\n    for (let i = 0, r = t.length; i < r; i++) t[i].updateMatrixWorld(e)\r\n  }\r\n  updateWorldMatrix(e, t) {\r\n    var i = this.parent\r\n    if (\r\n      (!0 === e && null !== i && i.updateWorldMatrix(!0, !1),\r\n      this.matrixAutoUpdate && this.updateMatrix(),\r\n      null === this.parent\r\n        ? this.matrixWorld.multiplyMatrices(this.mLocalTransform, this.matrix)\r\n        : (this.matrixWorld.multiplyMatrices(\r\n            this.parent.matrixWorld,\r\n            this.mLocalTransform\r\n          ),\r\n          this.matrixWorld.multiplyMatrices(this.matrixWorld, this.matrix)),\r\n      !0 === t)\r\n    )\r\n      for (var r = this.children, a = 0, s = r.length; a < s; a++)\r\n        r[a].updateWorldMatrix(!1, !0)\r\n  }\r\n  shallowClone(e) {\r\n    return new this.constructor(this.geometry, this.material).shallowCopy(\r\n      this,\r\n      e\r\n    )\r\n  }\r\n  shallowCopy(e, t = !0) {\r\n    let i = e.children\r\n    if (\r\n      ((e.children = []),\r\n      super.copy(e),\r\n      (e.children = i),\r\n      this.userDataFromJson(this.userData),\r\n      !0 === t)\r\n    )\r\n      for (let t = 0, r = i.length; t < r; ++t) {\r\n        let i = e.children[t]\r\n        !0 === i.userData.isEntity && this.add(i.shallowClone())\r\n      }\r\n    return this\r\n  }\r\n  traverseEntity(e) {\r\n    !(function t(i) {\r\n      if (!i.userData.isEntity) return\r\n      e(i)\r\n      const r = i.children\r\n      for (let e = 0, i = r.length; e < i; ++e) t(r[e])\r\n    })(this)\r\n  }\r\n  userDataFromJson(e) {\r\n    ;(this.userData = e),\r\n      (this.userData.positionToCenter = new THREE.Vector3()),\r\n      void 0 !== e.hiddenMatrix &&\r\n        (this.userData.hiddenMatrix = new THREE.Matrix4().fromArray(\r\n          e.hiddenMatrix.elements\r\n        )),\r\n      void 0 === e.lock && (this.userData.lock = !1)\r\n  }\r\n}\r\nclass SpeMesh3D extends SpeIMesh {\r\n  constructor(e, t) {\r\n    super(e, t)\r\n  }\r\n}\r\nclass SpeMesh2D extends SpeIMesh {\r\n  constructor(e, t) {\r\n    super(e, t)\r\n  }\r\n}\r\nclass SpeEmptyObject extends THREE.Group {\r\n  constructor() {\r\n    super(),\r\n      (this.mLocalTransform = new THREE.Matrix4()),\r\n      (this.mInteraction =\r\n        'function' == typeof Interaction ? new Interaction(this) : null)\r\n  }\r\n  get interaction() {\r\n    return this.mInteraction\r\n  }\r\n  set interaction(e) {\r\n    this.mInteraction = e\r\n  }\r\n  get hiddenMatrix() {\r\n    return this.mLocalTransform\r\n  }\r\n  set hiddenMatrix(e) {\r\n    this.mLocalTransform.copy(e)\r\n  }\r\n  updateMatrixWorld(e) {\r\n    this.matrixAutoUpdate && this.updateMatrix(),\r\n      (this.matrixWorldNeedsUpdate || e) &&\r\n        (null === this.parent\r\n          ? this.matrixWorld.multiplyMatrices(this.mLocalTransform, this.matrix)\r\n          : (this.matrixWorld.multiplyMatrices(\r\n              this.parent.matrixWorld,\r\n              this.mLocalTransform\r\n            ),\r\n            this.matrixWorld.multiplyMatrices(this.matrixWorld, this.matrix)),\r\n        (this.matrixWorldNeedsUpdate = !1),\r\n        (e = !0))\r\n    const t = this.children\r\n    for (let i = 0, r = t.length; i < r; i++) t[i].updateMatrixWorld(e)\r\n  }\r\n  updateWorldMatrix(e, t) {\r\n    var i = this.parent\r\n    if (\r\n      (!0 === e && null !== i && i.updateWorldMatrix(!0, !1),\r\n      this.matrixAutoUpdate && this.updateMatrix(),\r\n      null === this.parent\r\n        ? this.matrixWorld.multiplyMatrices(this.mLocalTransform, this.matrix)\r\n        : (this.matrixWorld.multiplyMatrices(\r\n            this.parent.matrixWorld,\r\n            this.mLocalTransform\r\n          ),\r\n          this.matrixWorld.multiplyMatrices(this.matrixWorld, this.matrix)),\r\n      !0 === t)\r\n    )\r\n      for (var r = this.children, a = 0, s = r.length; a < s; a++)\r\n        r[a].updateWorldMatrix(!1, !0)\r\n  }\r\n}\r\nclass SpeLayer {\r\n  constructor(e, t = SPE_LAYER_TYPE_COLOR, i = {}) {\r\n    ;(this.mId = e),\r\n      (this.mType = t),\r\n      (this.mNext = null),\r\n      (this.mDefines = {}),\r\n      (this.mUniforms = {}),\r\n      (this.mProgramVertUniforms = ''),\r\n      (this.mProgramFragUniforms = ''),\r\n      this.initializeUniformsAndDefines(i)\r\n  }\r\n  get id() {\r\n    return this.mId\r\n  }\r\n  get type() {\r\n    return this.mType\r\n  }\r\n  get next() {\r\n    return this.mNext\r\n  }\r\n  set next(e) {\r\n    this.mNext = e\r\n  }\r\n  get defines() {\r\n    return this.mDefines\r\n  }\r\n  get uniforms() {\r\n    return this.mUniforms\r\n  }\r\n  get paramNames() {\r\n    const e = Object.keys(this.mUniforms),\r\n      t = `f${this.mId}_`,\r\n      i = []\r\n    for (let r = 0; r < e.length; r++) {\r\n      const a = e[r]\r\n      i.push(a.slice(a.indexOf(t) + t.length))\r\n    }\r\n    return i\r\n  }\r\n  getValues() {\r\n    const e = `f${this.mId}_`,\r\n      t = { type: this.type }\r\n    for (const [i, r] of Object.entries(this.mUniforms)) {\r\n      const a = i.slice(i.indexOf(e) + e.length)\r\n      r.value.toArray ? (t[a] = r.value.toArray()) : (t[a] = r.value)\r\n    }\r\n    return t\r\n  }\r\n  initializeUniformsAndDefines(e) {\r\n    console.error('SpeLayer::initializeUniformsAndDefines >>> virtual method')\r\n  }\r\n  generateUniformsCodeVert() {\r\n    return '\\n\\r'\r\n  }\r\n  generateUniformsCodeFrag() {\r\n    return '\\n\\r'\r\n  }\r\n  generateShaderCodeVert(e) {\r\n    return '\\n\\r'\r\n  }\r\n  generateShaderCodeFrag(e) {\r\n    return '\\n\\r'\r\n  }\r\n  copy(e) {\r\n    this.mType === e.mType\r\n      ? ((this.mId = e.mId),\r\n        (this.mDefines = { ...e.mDefines }),\r\n        this.copyUniforms(e))\r\n      : console.error(\r\n          `SpeLayer::copy >>> cant copy layer of different type dst=${this.mType}, src=${e.mType}`\r\n        )\r\n  }\r\n  clone() {\r\n    return SpeLayer.CreateLayer(this.mId, this.mType, this.mUniforms)\r\n  }\r\n  copyUniforms(e) {\r\n    console.error('SpeLayer::copyUniforms >>> virtual method')\r\n  }\r\n  static CreateLayer(e, t, i) {\r\n    return t === SPE_LAYER_TYPE_LIGHTING\r\n      ? new SpeLayerLighting(e, i)\r\n      : t === SPE_LAYER_TYPE_COLOR\r\n      ? new SpeLayerColor(e, i)\r\n      : t === SPE_LAYER_TYPE_GRADIENT\r\n      ? new SpeLayerGradient(e, i)\r\n      : t === SPE_LAYER_TYPE_NORMAL\r\n      ? new SpeLayerNormal(e, i)\r\n      : t === SPE_LAYER_TYPE_DEPTH\r\n      ? new SpeLayerDepth(e, i)\r\n      : t === SPE_LAYER_TYPE_TEXTURE\r\n      ? new SpeLayerTexture(e, i)\r\n      : t === SPE_LAYER_TYPE_NOISE\r\n      ? new SpeLayerNoise(e, i)\r\n      : t === SPE_LAYER_TYPE_FRESNEL\r\n      ? new SpeLayerFresnel(e, i)\r\n      : t === SPE_LAYER_TYPE_POINTS\r\n      ? new SpeLayerPoints(e, i)\r\n      : t === SPE_LAYER_TYPE_LINES\r\n      ? new SpeLayerLines(e, i)\r\n      : null\r\n  }\r\n  static DictToUniforms(e) {\r\n    const t = {}\r\n    for (const [i, r] of Object.entries(e)) t[i] = { value: r }\r\n    return t\r\n  }\r\n}\r\nclass SpeLayerLighting extends SpeLayer {\r\n  constructor(e, t) {\r\n    super(e, SPE_LAYER_TYPE_LIGHTING, t)\r\n  }\r\n  initializeUniformsAndDefines(e) {\r\n    ;(this.mDefines.SPE_USE_LAYER_LIGHTING = ''),\r\n      (this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: void 0 !== e.alpha ? e.alpha.value : 1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: void 0 !== e.mode ? e.mode.value : SPE_BLENDING_NORMAL\r\n      })\r\n  }\r\n  generateUniformsCodeFrag() {\r\n    return `\\n            // SPE: Lighting layer uniforms *****\\n            uniform float f${this.mId}_alpha;\\n            uniform int f${this.mId}_mode;\\n            // **********************************\\n        `\r\n  }\r\n  generateShaderCodeFrag() {\r\n    return `\\n            // SPE: Lighting layer frag-shader-code ************************************************\\n            // @todo: instead of == use absolute distance for vector comparison\\n            if ( outgoingLight != diffuseColor.rgb ) {\\n                float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\\n                accumAlpha += ( 1.0 - accumAlpha ) * f${this.mId}_alpha * lightAccu;\\n                outgoingLight = spe_blend( diffuseColor.rgb, outgoingLight, f${this.mId}_alpha, f${this.mId}_mode );\\n            }\\n            // *************************************************************************************\\n        `\r\n  }\r\n  copyUniforms(e) {\r\n    e instanceof SpeLayerLighting &&\r\n      ((this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: e.uniforms[`f${e.id}_alpha`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: e.uniforms[`f${e.id}_mode`].value\r\n      }))\r\n  }\r\n}\r\nclass SpeLayerColor extends SpeLayer {\r\n  constructor(e, t) {\r\n    super(e, SPE_LAYER_TYPE_COLOR, t)\r\n  }\r\n  initializeUniformsAndDefines(e) {\r\n    ;(this.mDefines.SPE_USE_LAYER_COLOR = ''),\r\n      (this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: void 0 !== e.alpha ? e.alpha.value : 1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: void 0 !== e.mode ? e.mode.value : SPE_BLENDING_NORMAL\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_color`] = {\r\n        value:\r\n          void 0 !== e.color\r\n            ? new THREE.Color(e.color.value)\r\n            : new THREE.Color(SPE_COLOR_DEFAULT)\r\n      })\r\n  }\r\n  generateUniformsCodeFrag() {\r\n    return `\\n            // SPE: Color layer uniforms **********\\n            uniform float f${this.mId}_alpha;\\n            uniform int f${this.mId}_mode;\\n            uniform vec3 f${this.mId}_color;\\n            // ************************************\\n        `\r\n  }\r\n  generateShaderCodeFrag(e) {\r\n    return `\\n            // SPE: Color layer frag-shader-code ***************************************************\\n            float f${this.mId}_calpha = f${this.mId}_alpha / clamp( f${this.mId}_alpha + accumAlpha, 0.00001, 1.0 );\\n            accumAlpha += ( 1.0 - accumAlpha ) * f${this.mId}_alpha;\\n            ${e} = spe_blend( ${e}, f${this.mId}_color, f${this.mId}_calpha, f${this.mId}_mode );\\n            // *************************************************************************************\\n        `\r\n  }\r\n  copyUniforms(e) {\r\n    e instanceof SpeLayerColor &&\r\n      ((this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: e.uniforms[`f${e.id}_alpha`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: e.uniforms[`f${e.id}_mode`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_color`] = {\r\n        value: e.uniforms[`f${e.id}_color`].value.clone()\r\n      }))\r\n  }\r\n}\r\nclass SpeLayerTexture extends SpeLayer {\r\n  constructor(e, t) {\r\n    super(e, SPE_LAYER_TYPE_TEXTURE, t)\r\n  }\r\n  initializeUniformsAndDefines(e) {\r\n    var t\r\n    ;(this.mDefines.SPE_USE_LAYER_TEXTURE = ''),\r\n      (this.mDefines.USE_UV = ''),\r\n      (this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: void 0 !== e.alpha ? e.alpha.value : 1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: void 0 !== e.mode ? e.mode.value : SPE_BLENDING_NORMAL\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_texture`] = {\r\n        value:\r\n          void 0 !== e.texture\r\n            ? ((t = e.texture.value),\r\n              t instanceof THREE.Texture\r\n                ? t\r\n                : 'string' == typeof t\r\n                ? (function (e) {\r\n                    const t = new Image()\r\n                    t.src = e\r\n                    const i = new THREE.Texture(t)\r\n                    return (i.needsUpdate = !0), i\r\n                  })(t)\r\n                : (console.error(\r\n                    'SpeLayerTexture::get_texture >>> cant retrieve texture from given parameters'\r\n                  ),\r\n                  new THREE.Texture()))\r\n            : new THREE.Texture()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mat`] = {\r\n        value:\r\n          void 0 !== e.mat\r\n            ? this.mUniforms[`f${this.mId}_texture`].value.matrix.fromArray(\r\n                void 0 !== e.mat.value.elements\r\n                  ? e.mat.value.elements\r\n                  : e.mat.value\r\n              )\r\n            : this.mUniforms[`f${this.mId}_texture`].value.matrix\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_crop`] = {\r\n        value: void 0 !== e.crop ? e.crop.value : 0\r\n      })\r\n  }\r\n  generateUniformsCodeFrag() {\r\n    return `\\n            // SPE: Texture layer uniforms ********\\n            uniform float f${this.mId}_alpha;\\n            uniform int f${this.mId}_mode;\\n            uniform sampler2D f${this.mId}_texture;\\n            uniform mat3 f${this.mId}_mat;\\n            uniform float f${this.mId}_crop;\\n            // ************************************\\n        `\r\n  }\r\n  generateShaderCodeFrag(e) {\r\n    return `\\n            // SPE: Texture layer frag-shader-code *************************************************\\n            vec2 f${this.mId}_vUv = ( f${this.mId}_mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\\n            vec4 f${this.mId}_tmp = texture2D( f${this.mId}_texture, f${this.mId}_vUv );\\n            vec3 f${this.mId}_col = f${this.mId}_tmp.rgb;\\n            float f${this.mId}_lalpha = f${this.mId}_alpha * f${this.mId}_tmp.a;\\n            if ( f${this.mId}_crop > 0.5 ) {\\n                if ( f${this.mId}_vUv.x < 0.0 || f${this.mId}_vUv.x > 1.0 ||\\n                     f${this.mId}_vUv.y < 0.0 || f${this.mId}_vUv.y > 1.0 ) {\\n                        f${this.mId}_lalpha = 0.0;\\n                }\\n            }\\n            float f${this.mId}_calpha =  f${this.mId}_lalpha / clamp( f${this.mId}_lalpha + accumAlpha, 0.00001, 1.0 );\\n            accumAlpha += ( 1.0 - accumAlpha ) * f${this.mId}_lalpha;\\n            ${e} = spe_blend( ${e}, f${this.mId}_col, f${this.mId}_calpha, f${this.mId}_mode );\\n            // *************************************************************************************\\n        `\r\n  }\r\n  copyUniforms(e) {\r\n    e instanceof SpeLayerTexture &&\r\n      ((this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: e.uniforms[`f${e.id}_alpha`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: e.uniforms[`f${e.id}_mode`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_texture`] = {\r\n        value: e.uniforms[`f${e.id}_texture`].value.clone()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mat`] = {\r\n        value: this.mUniforms[`f${this.mId}_texture`].value.matrix\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_crop`] = {\r\n        value: e.uniforms[`f${e.id}_crop`].value\r\n      }))\r\n  }\r\n  static DictToUniforms(e) {\r\n    return {\r\n      alpha: { value: e.alpha },\r\n      mode: { value: e.mode },\r\n      texture: { value: e.texture },\r\n      mat: { value: e.texture.matrix },\r\n      crop: { value: e.crop }\r\n    }\r\n  }\r\n}\r\nclass SpeLayerNormal extends SpeLayer {\r\n  constructor(e, t) {\r\n    super(e, SPE_LAYER_TYPE_NORMAL, t)\r\n  }\r\n  initializeUniformsAndDefines(e) {\r\n    ;(this.mDefines.SPE_USE_LAYER_NORMAL = ''),\r\n      (this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: void 0 !== e.alpha ? e.alpha.value : 1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: void 0 !== e.mode ? e.mode.value : SPE_BLENDING_NORMAL\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_cnormal`] = {\r\n        value:\r\n          void 0 !== e.cnormal\r\n            ? new THREE.Vector3().fromArray(e.cnormal.value)\r\n            : new THREE.Vector3(1, 1, 1)\r\n      })\r\n  }\r\n  generateUniformsCodeFrag() {\r\n    return `\\n            // SPE: Normal layer uniforms ********\\n            uniform float f${this.mId}_alpha;\\n            uniform int f${this.mId}_mode;\\n            uniform vec3 f${this.mId}_cnormal;\\n            // ***********************************\\n        `\r\n  }\r\n  generateShaderCodeFrag(e) {\r\n    return `\\n            // SPE: Normal layer frag-shader-code **************************************************\\n            vec3 f${this.mId}_normal = packNormalToRGB( normal ).rgb;\\n            f${this.mId}_normal *= step( vec3(0.5), f${this.mId}_cnormal );\\n            float f${this.mId}_calpha = f${this.mId}_alpha / clamp( f${this.mId}_alpha + accumAlpha, 0.00001, 1.0 );\\n            accumAlpha += ( 1.0 - accumAlpha ) * f${this.mId}_alpha;\\n            ${e} = spe_blend( ${e}, f${this.mId}_normal, f${this.mId}_calpha, f${this.mId}_mode );\\n            // *************************************************************************************\\n        `\r\n  }\r\n  copyUniforms(e) {\r\n    e instanceof SpeLayerNormal &&\r\n      ((this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: e.uniforms[`f${e.id}_alpha`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: e.uniforms[`f${e.id}_mode`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_cnormal`] = {\r\n        value: e.uniforms[`f${e.id}_cnormal`].value.clone()\r\n      }))\r\n  }\r\n}\r\nclass SpeLayerDepth extends SpeLayer {\r\n  constructor(e, t) {\r\n    super(e, SPE_LAYER_TYPE_DEPTH, t)\r\n  }\r\n  initializeUniformsAndDefines(e) {\r\n    ;(this.mDefines.SPE_USE_LAYER_DEPTH = ''),\r\n      (this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: void 0 !== e.alpha ? e.alpha.value : 1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: void 0 !== e.mode ? e.mode.value : SPE_BLENDING_NORMAL\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_near`] = {\r\n        value: void 0 !== e.near ? e.near.value : 700\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_far`] = {\r\n        value: void 0 !== e.far ? e.far.value : 1e3\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_origin`] = {\r\n        value:\r\n          void 0 !== e.origin\r\n            ? new THREE.Vector3().fromArray(e.origin.value)\r\n            : new THREE.Vector3()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_isVector`] = {\r\n        value: void 0 !== e.isVector ? e.isVector.value : 0\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colorA`] = {\r\n        value: e.colorA ? new THREE.Color(e.colorA.value) : new THREE.Color()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colorB`] = {\r\n        value: e.colorB\r\n          ? new THREE.Color(e.colorB.value)\r\n          : new THREE.Color(0, 0, 0)\r\n      })\r\n  }\r\n  generateUniformsCodeFrag() {\r\n    return `\\n            // SPE: Depth layer uniforms *************\\n            uniform float f${this.mId}_alpha;\\n            uniform int f${this.mId}_mode;\\n            uniform float f${this.mId}_near;\\n            uniform float f${this.mId}_far;\\n            uniform float f${this.mId}_isVector;\\n            uniform vec3 f${this.mId}_origin;\\n            uniform vec3 f${this.mId}_colorA;\\n            uniform vec3 f${this.mId}_colorB;\\n            // ***************************************\\n        `\r\n  }\r\n  generateShaderCodeFrag(e) {\r\n    return `\\n            // SPE: Depth layer frag-shader-code ***************************************************\\n            vec3 base${this.mId} = ( f${this.mId}_isVector > 0.5 ) ?  f${this.mId}_origin : cameraPosition;\\n            float dist${this.mId} = length( dWorldPosition.xyz - base${this.mId} );\\n            float dep${this.mId} = ( dist${this.mId} - f${this.mId}_near ) / ( f${this.mId}_far - f${this.mId}_near );\\n            vec3 f${this.mId}_depth =  mix( f${this.mId}_colorB, f${this.mId}_colorA, 1.0 - clamp( dep${this.mId}, 0., 1. ) );\\n            float f${this.mId}_calpha = f${this.mId}_alpha / clamp( f${this.mId}_alpha + accumAlpha, 0.001, 1.0 );\\n            accumAlpha += ( 1.0 - accumAlpha ) * f${this.mId}_alpha;\\n            ${e} = spe_blend( ${e}, f${this.mId}_depth, f${this.mId}_calpha, f${this.mId}_mode );\\n            // *************************************************************************************\\n        `\r\n  }\r\n  copyUniforms(e) {\r\n    e instanceof SpeLayerDepth &&\r\n      ((this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: e.uniforms[`f${e.id}_alpha`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: e.uniforms[`f${e.id}_mode`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_near`] = {\r\n        value: e.uniforms[`f${e.id}_near`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_far`] = {\r\n        value: e.uniforms[`f${e.id}_far`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_origin`] = {\r\n        value: e.uniforms[`f${e.id}_origin`].value.clone()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_isVector`] = {\r\n        value: e.uniforms[`f${e.id}_isVector`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colorA`] = {\r\n        value: e.uniforms[`f${e.id}_colorA`].value.clone()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colorB`] = {\r\n        value: e.uniforms[`f${e.id}_colorB`].value.clone()\r\n      }))\r\n  }\r\n}\r\nclass SpeLayerNoise extends SpeLayer {\r\n  constructor(e, t) {\r\n    super(e, SPE_LAYER_TYPE_NOISE, t)\r\n  }\r\n  initializeUniformsAndDefines(e) {\r\n    ;(this.mDefines.SPE_USE_LAYER_NOISE = ''),\r\n      (this.mDefines.SPE_USE_LAYER_TEXTURE = ''),\r\n      (this.mDefines.SPE_NOISE_NUM_OCTAVES = '5'),\r\n      (this.mDefines.USE_UV = ''),\r\n      (this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: void 0 !== e.alpha ? e.alpha.value : 1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: void 0 !== e.mode ? e.mode.value : SPE_BLENDING_NORMAL\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_scale`] = {\r\n        value: void 0 !== e.scale ? e.scale.value : 2\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_move`] = {\r\n        value: void 0 !== e.move ? e.move.value : 1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_distortion`] = {\r\n        value:\r\n          void 0 !== e.distortion\r\n            ? new THREE.Vector2().fromArray(e.distortion.value)\r\n            : new THREE.Vector2(1, 1)\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_fA`] = {\r\n        value:\r\n          void 0 !== e.fA\r\n            ? new THREE.Vector2().fromArray(e.fA.value)\r\n            : new THREE.Vector2(1.7, 9.2)\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_fB`] = {\r\n        value:\r\n          void 0 !== e.fB\r\n            ? new THREE.Vector2().fromArray(e.fB.value)\r\n            : new THREE.Vector2(8.3, 2.8)\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colorA`] = {\r\n        value:\r\n          void 0 !== e.colorA\r\n            ? new THREE.Color(e.colorA.value)\r\n            : new THREE.Color(0.4, 0.4, 0.4)\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colorB`] = {\r\n        value:\r\n          void 0 !== e.colorB\r\n            ? new THREE.Color(e.colorB.value)\r\n            : new THREE.Color(0.4, 0.4, 0.4)\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colorC`] = {\r\n        value:\r\n          void 0 !== e.colorC\r\n            ? new THREE.Color(e.colorC.value)\r\n            : new THREE.Color(1, 1, 1)\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colorD`] = {\r\n        value:\r\n          void 0 !== e.colorD\r\n            ? new THREE.Color(e.colorD.value)\r\n            : new THREE.Color(1, 1, 1)\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_intA`] = {\r\n        value: void 0 !== e.intA ? e.intA.value : 10\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_intB`] = {\r\n        value: void 0 !== e.intB ? e.intB.value : 10\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_intC`] = {\r\n        value: void 0 !== e.intC ? e.intC.value : 10\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_intD`] = {\r\n        value: void 0 !== e.intD ? e.intD.value : 10\r\n      })\r\n  }\r\n  generateUniformsCodeFrag() {\r\n    return `\\n            // SPE: Noise layer uniforms *******************\\n            uniform float f${this.mId}_alpha;\\n            uniform int f${this.mId}_mode;\\n            uniform float f${this.mId}_scale;\\n            uniform float f${this.mId}_move;\\n            uniform vec2 f${this.mId}_fA;\\n            uniform vec2 f${this.mId}_fB;\\n            uniform vec2 f${this.mId}_distortion;\\n            uniform vec3 f${this.mId}_colorA;\\n            uniform vec3 f${this.mId}_colorB;\\n            uniform vec3 f${this.mId}_colorC;\\n            uniform vec3 f${this.mId}_colorD;\\n            uniform float f${this.mId}_intA;\\n            uniform float f${this.mId}_intB;\\n            uniform float f${this.mId}_intC;\\n            uniform float f${this.mId}_intD;\\n            // *********************************************\\n        `\r\n  }\r\n  generateShaderCodeFrag(e) {\r\n    return `\\n            // SPE: Noise layer frag-shader-code ***************************************************\\n            vec2 f${this.mId}_st = vUv * f${this.mId}_scale;\\n            vec3 f${this.mId}_color;\\n            vec2 f${this.mId}_q = vec2( fbm( f${this.mId}_st ), fbm( f${this.mId}_st + vec2(1.0) ) );\\n            vec2 f${this.mId}_r = vec2( fbm( f${this.mId}_st + f${this.mId}_distortion * f${this.mId}_q + f${this.mId}_fA + f${this.mId}_move ),\\n                                        fbm( f${this.mId}_st + f${this.mId}_distortion * f${this.mId}_q + f${this.mId}_fB + f${this.mId}_move ) );\\n            float f${this.mId}_f = fbm( f${this.mId}_st + f${this.mId}_r );\\n            f${this.mId}_color = mix( f${this.mId}_colorA * f${this.mId}_intA, f${this.mId}_colorB * f${this.mId}_intB,\\n                         clamp((f${this.mId}_f*f${this.mId}_f)*4.0,0.0,1.0) );\\n            f${this.mId}_color = mix( f${this.mId}_color, f${this.mId}_colorC * f${this.mId}_intC,\\n                         clamp( length(f${this.mId}_q), 0.0, 1.0 ) );\\n            f${this.mId}_color = mix( f${this.mId}_color, f${this.mId}_colorD * f${this.mId}_intD,\\n                         clamp( length(f${this.mId}_r.x), 0.0, 1.0 ) );\\n            vec3 f${this.mId}_noise = clamp( vec3( f${this.mId}_f * f${this.mId}_color ), 0.0, 1.0 );\\n            float f${this.mId}_calpha = f${this.mId}_alpha / clamp( f${this.mId}_alpha + accumAlpha, 0.001, 1.0 );\\n            accumAlpha += ( 1.0 - accumAlpha ) * f${this.mId}_alpha;\\n            ${e} = spe_blend( ${e}, f${this.mId}_noise, f${this.mId}_calpha, f${this.mId}_mode );\\n            // *************************************************************************************\\n        `\r\n  }\r\n  copyUniforms(e) {\r\n    e instanceof SpeLayerNoise &&\r\n      ((this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: e.uniforms[`f${e.id}_alpha`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: e.uniforms[`f${e.id}_mode`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_scale`] = {\r\n        value: e.uniforms[`f${e.id}_scale`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_move`] = {\r\n        value: e.uniforms[`f${e.id}_move`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_distortion`] = {\r\n        value: e.uniforms[`f${e.id}_distortion`].value.clone()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_fA`] = {\r\n        value: e.uniforms[`f${e.id}_fA`].value.clone()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_fB`] = {\r\n        value: e.uniforms[`f${e.id}_fB`].value.clone()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colorA`] = {\r\n        value: e.uniforms[`f${e.id}_colorA`].value.clone()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colorB`] = {\r\n        value: e.uniforms[`f${e.id}_colorB`].value.clone()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colorC`] = {\r\n        value: e.uniforms[`f${e.id}_colorC`].value.clone()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colorD`] = {\r\n        value: e.uniforms[`f${e.id}_colorD`].value.clone()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_intA`] = {\r\n        value: e.uniforms[`f${e.id}_intA`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_intB`] = {\r\n        value: e.uniforms[`f${e.id}_intB`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_intC`] = {\r\n        value: e.uniforms[`f${e.id}_intC`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_intD`] = {\r\n        value: e.uniforms[`f${e.id}_intD`].value\r\n      }))\r\n  }\r\n}\r\nclass SpeLayerFresnel extends SpeLayer {\r\n  constructor(e, t) {\r\n    super(e, SPE_LAYER_TYPE_FRESNEL, t)\r\n  }\r\n  initializeUniformsAndDefines(e) {\r\n    ;(this.mDefines.SPE_USE_LAYER_FRESNEL = ''),\r\n      (this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: void 0 !== e.alpha ? e.alpha.value : 1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: void 0 !== e.mode ? e.mode.value : SPE_BLENDING_NORMAL\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_bias`] = {\r\n        value: void 0 !== e.bias ? e.bias.value : 0.1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_scale`] = {\r\n        value: void 0 !== e.scale ? e.scale.value : 1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_intensity`] = {\r\n        value: void 0 !== e.intensity ? e.intensity.value : 2\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_factor`] = {\r\n        value: void 0 !== e.factor ? e.factor.value : 1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_color`] = {\r\n        value:\r\n          void 0 !== e.color\r\n            ? new THREE.Color(e.color.value)\r\n            : new THREE.Color()\r\n      })\r\n  }\r\n  generateUniformsCodeFrag() {\r\n    return `\\n            // SPE: Fresnel layer uniforms *********\\n            uniform float f${this.mId}_alpha;\\n            uniform int f${this.mId}_mode;\\n            uniform float f${this.mId}_bias;\\n            uniform float f${this.mId}_scale;\\n            uniform float f${this.mId}_intensity;\\n            uniform float f${this.mId}_factor;\\n            uniform vec3 f${this.mId}_color;\\n            // *************************************\\n        `\r\n  }\r\n  generateShaderCodeFrag(e) {\r\n    return `\\n            // SPE: Fresnel layer frag-shader-code *************************************************\\n            float f${this.mId}_fresnel = f${this.mId}_bias + f${this.mId}_scale * pow( f${this.mId}_factor + dot( normalize( vWorldViewDir ), normalize( vWorldNormal ) ), f${this.mId}_intensity );\\n            float f${this.mId}_lalpha = clamp( f${this.mId}_fresnel, 0.0, 1.0 ) * f${this.mId}_alpha;\\n            float f${this.mId}_calpha = f${this.mId}_lalpha / clamp( f${this.mId}_lalpha + accumAlpha, 0.001, 1.0 );\\n            accumAlpha += ( 1.0 - accumAlpha ) * f${this.mId}_lalpha;\\n            ${e} = spe_blend( ${e}, f${this.mId}_color, f${this.mId}_calpha, f${this.mId}_mode );\\n            // *************************************************************************************\\n        `\r\n  }\r\n  copyUniforms(e) {\r\n    e instanceof SpeLayerFresnel &&\r\n      ((this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: e.uniforms[`f${e.id}_alpha`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: e.uniforms[`f${e.id}_mode`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_bias`] = {\r\n        value: e.uniforms[`f${e.id}_bias`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_scale`] = {\r\n        value: e.uniforms[`f${e.id}_scale`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_intensity`] = {\r\n        value: e.uniforms[`f${e.id}_intensity`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_factor`] = {\r\n        value: e.uniforms[`f${e.id}_factor`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_color`] = {\r\n        value: e.uniforms[`f${e.id}_color`].value.clone()\r\n      }))\r\n  }\r\n}\r\nclass SpeLayerGradient extends SpeLayer {\r\n  constructor(e, t) {\r\n    super(e, SPE_LAYER_TYPE_GRADIENT, t)\r\n  }\r\n  initializeUniformsAndDefines(e) {\r\n    ;(this.mDefines.SPE_USE_LAYER_GRADIENT = ''),\r\n      (this.mDefines.SPE_GRADIENT_MAX_SIZE = '10'),\r\n      (this.mDefines.USE_UV = ''),\r\n      (this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: void 0 !== e.alpha ? e.alpha.value : 1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: void 0 !== e.mode ? e.mode.value : SPE_BLENDING_NORMAL\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_gl_type`] = {\r\n        value: void 0 !== e.gl_type ? e.gl_type.value : 0\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_num`] = {\r\n        value: void 0 !== e.num ? e.num.value : 2\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_smooth`] = {\r\n        value: void 0 !== e.smooth && e.smooth.value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colors`] = {\r\n        value: (function (e) {\r\n          const t = []\r\n          for (let i = 0; i < Math.floor(e.length / 4); i++)\r\n            t.push(\r\n              new THREE.Vector4(\r\n                e[4 * i + 0],\r\n                e[4 * i + 1],\r\n                e[4 * i + 2],\r\n                e[4 * i + 3]\r\n              )\r\n            )\r\n          return t\r\n        })(void 0 !== e.colors ? e.colors.value : new Array(40).fill())\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_steps`] = {\r\n        value: void 0 !== e.steps ? e.steps.value : new Array(10).fill()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_offset`] = {\r\n        value:\r\n          void 0 !== e.offset\r\n            ? new THREE.Vector2().fromArray(e.offset.value)\r\n            : new THREE.Vector2(0, 0)\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_morph`] = {\r\n        value:\r\n          void 0 !== e.morph\r\n            ? new THREE.Vector2().fromArray(e.morph.value)\r\n            : new THREE.Vector2(0, 0)\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_angle`] = {\r\n        value: void 0 !== e.angle ? e.angle.value : 0\r\n      })\r\n  }\r\n  generateUniformsCodeFrag() {\r\n    return `\\n            // SPE: Gradient layer uniforms ****************\\n            uniform float f${this.mId}_alpha;\\n            uniform int f${this.mId}_mode;\\n            uniform int f${this.mId}_gl_type;\\n            uniform int f${this.mId}_num;\\n            uniform bool f${this.mId}_smooth;\\n            uniform vec4 f${this.mId}_colors[SPE_GRADIENT_MAX_SIZE];\\n            uniform float f${this.mId}_steps[SPE_GRADIENT_MAX_SIZE];\\n            uniform vec2 f${this.mId}_offset;\\n            uniform vec2 f${this.mId}_morph;\\n            uniform float f${this.mId}_angle;\\n            // *********************************************\\n        `\r\n  }\r\n  generateShaderCodeFrag(e) {\r\n    return `\\n            // SPE: Gradient layer frag-shader-code ************************************************\\n            vec4 f${this.mId}_color = f${this.mId}_colors[0];\\n            vec2 f${this.mId}_m = f${this.mId}_morph / vUv.xy;\\n            vec2 f${this.mId}_rot = vec2( 0.5 + f${this.mId}_m.x, f${this.mId}_m.y );\\n            vec2 f${this.mId}_dt = vec2(\\n                cos( f${this.mId}_angle ) * f${this.mId}_rot.x - sin( f${this.mId}_angle ) * f${this.mId}_rot.y,\\n                sin( f${this.mId}_angle ) * f${this.mId}_rot.x + cos( f${this.mId}_angle ) * f${this.mId}_rot.y\\n            );\\n            vec2 f${this.mId}_pt = ( vUv - 0.5 + f${this.mId}_offset ) / 2.0 + f${this.mId}_dt / 2.0;\\n            float f${this.mId}_t = dot( f${this.mId}_pt, f${this.mId}_dt ) / dot( f${this.mId}_dt, f${this.mId}_dt );\\n            if ( f${this.mId}_gl_type == 1 ) {\\n                f${this.mId}_t = distance (\\n                    ( vUv + f${this.mId}_morph ) * 3.0,\\n                    ( vUv + f${this.mId}_offset ) + 1.0\\n                ) + f${this.mId}_angle;\\n            } else if ( f${this.mId}_gl_type == 2 ) {\\n                float f${this.mId}_polar = atan(\\n                    vUv.x + f${this.mId}_morph.x - 0.5 + f${this.mId}_offset.x,\\n                    vUv.y + f${this.mId}_morph.y - 0.5 + f${this.mId}_offset.y\\n                ) * -1.0;\\n                f${this.mId}_t = fract( ( f${this.mId}_angle / PI / -2.0 ) + 0.5 * ( f${this.mId}_polar / PI ) );\\n            }\\n            float f${this.mId}_p;\\n            for ( int i = 1; i < SPE_GRADIENT_MAX_SIZE; i++ ) {\\n                if ( i < f${this.mId}_num ) {\\n                    f${this.mId}_p = clamp( ( f${this.mId}_t - f${this.mId}_steps[i-1] ) / ( f${this.mId}_steps[i] - f${this.mId}_steps[i-1] ), 0.0, 1.0 );\\n                    f${this.mId}_color = mix( f${this.mId}_color, f${this.mId}_colors[i],\\n                        ( f${this.mId}_smooth ) ? smoothstep( 0.0, 1.0, f${this.mId}_p ) : f${this.mId}_p\\n                    );\\n                } else {\\n                    break;\\n                }\\n            }\\n            float f${this.mId}_lalpha = f${this.mId}_alpha * f${this.mId}_color.a;\\n            float f${this.mId}_calpha =  f${this.mId}_lalpha / clamp( f${this.mId}_lalpha + accumAlpha, 0.00001, 1.0 );\\n            accumAlpha += ( 1.0 - accumAlpha ) * f${this.mId}_lalpha;\\n            ${e} = spe_blend( ${e}, f${this.mId}_color.xyz, f${this.mId}_calpha, f${this.mId}_mode );\\n            // *************************************************************************************\\n        `\r\n  }\r\n  getValues() {\r\n    const e = { type: this.type }\r\n    return (\r\n      (e.alpha = this.mUniforms[`f${this.mId}_alpha`].value),\r\n      (e.mode = this.mUniforms[`f${this.mId}_mode`].value),\r\n      (e.gl_type = this.mUniforms[`f${this.mId}_gl_type`].value),\r\n      (e.num = this.mUniforms[`f${this.mId}_num`].value),\r\n      (e.smooth = this.mUniforms[`f${this.mId}_smooth`].value),\r\n      (e.colors = (function (e) {\r\n        const t = []\r\n        for (let i = 0; i < e.length; i++)\r\n          t.push(e[i].x, e[i].y, e[i].z, e[i].w)\r\n        return t\r\n      })(this.mUniforms[`f${this.mId}_colors`].value)),\r\n      (e.steps = [].concat(this.mUniforms[`f${this.mId}_steps`].value)),\r\n      (e.offset = this.mUniforms[`f${this.mId}_offset`].value.toArray()),\r\n      (e.morph = this.mUniforms[`f${this.mId}_morph`].value.toArray()),\r\n      (e.angle = this.mUniforms[`f${this.mId}_angle`].value),\r\n      e\r\n    )\r\n  }\r\n  copyUniforms(e) {\r\n    e instanceof SpeLayerGradient &&\r\n      ((this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: e.uniforms[`f${e.id}_alpha`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: e.uniforms[`f${e.id}_mode`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_gl_type`] = {\r\n        value: e.uniforms[`f${e.id}_gl_type`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_num`] = {\r\n        value: e.uniforms[`f${e.id}_num`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_smooth`] = {\r\n        value: e.uniforms[`f${e.id}_smooth`].value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_colors`] = {\r\n        value: (function (e) {\r\n          const t = []\r\n          for (let i = 0; i < e.length; i++) t.push(e[i].clone())\r\n          return t\r\n        })(e.uniforms[`f${e.id}_colors`].value)\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_steps`] = {\r\n        value: [].concat(e.uniforms[`f${e.id}_steps`].value)\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_offset`] = {\r\n        value: e.uniforms[`f${e.id}_offset`].value.clone()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_morph`] = {\r\n        value: e.uniforms[`f${e.id}_morph`].value.clone()\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_angle`] = {\r\n        value: e.uniforms[`f${e.id}_angle`].value\r\n      }))\r\n  }\r\n}\r\nclass SpeLayerPoints extends SpeLayer {\r\n  constructor(e, t) {\r\n    super(e, SPE_LAYER_TYPE_POINTS, t)\r\n  }\r\n  initializeUniformsAndDefines(e) {\r\n    ;(this.mDefines.SPE_USE_LAYER_POINTS = ''),\r\n      (this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: void 0 !== e.alpha ? e.alpha.value : 1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: void 0 !== e.mode ? e.mode.value : SPE_BLENDING_NORMAL\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_color`] = {\r\n        value:\r\n          void 0 !== e.color\r\n            ? new THREE.Color(e.color.value)\r\n            : new THREE.Color(12237498)\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_useBack`] = {\r\n        value: void 0 === e.useBack || e.useBack.value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_threshold`] = {\r\n        value: void 0 !== e.threshold ? e.threshold.value : 0.9\r\n      })\r\n  }\r\n  generateUniformsCodeFrag() {\r\n    return `\\n            // SPE: Points layer uniforms **************\\n            uniform float f${this.mId}_alpha;\\n            uniform int f${this.mId}_mode;\\n            uniform vec3 f${this.mId}_color;\\n            uniform bool f${this.mId}_useBack;\\n            uniform float f${this.mId}_threshold;\\n            // *****************************************\\n        `\r\n  }\r\n  generateShaderCodeFrag(e) {\r\n    return `\\n            // SPE: Points layer frag-shader-code **************************************************\\n            float f${this.mId}_dist = length( vBarycentric );\\n            float f${this.mId}_edge = aastep( f${this.mId}_threshold, f${this.mId}_dist, 0.00 );\\n            float f${this.mId}_factor = gl_FrontFacing ? 1.0 : ( f${this.mId}_useBack ? 0.5 : 0.0 );\\n            accumAlpha += ( 1.0 - accumAlpha ) * f${this.mId}_alpha * f${this.mId}_edge;\\n            ${e} = spe_blend( ${e}, f${this.mId}_factor * f${this.mId}_color, f${this.mId}_alpha * f${this.mId}_edge, f${this.mId}_mode );\\n            // *************************************************************************************\\n        `\r\n  }\r\n}\r\nclass SpeLayerLines extends SpeLayer {\r\n  constructor(e, t) {\r\n    super(e, SPE_LAYER_TYPE_LINES, t)\r\n  }\r\n  initializeUniformsAndDefines(e) {\r\n    ;(this.mDefines.SPE_USE_LAYER_LINES = ''),\r\n      (this.mUniforms[`f${this.mId}_alpha`] = {\r\n        value: void 0 !== e.alpha ? e.alpha.value : 1\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_mode`] = {\r\n        value: void 0 !== e.mode ? e.mode.value : SPE_BLENDING_NORMAL\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_color`] = {\r\n        value:\r\n          void 0 !== e.color\r\n            ? new THREE.Color(e.color.value)\r\n            : new THREE.Color(12237498)\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_thickness`] = {\r\n        value: void 0 !== e.thickness ? e.thickness.value : 0.01\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_useBack`] = {\r\n        value: void 0 === e.useBack || e.useBack.value\r\n      }),\r\n      (this.mUniforms[`f${this.mId}_smoothOffset`] = {\r\n        value: void 0 !== e.smoothOffset ? e.smoothOffset.value : 0.03\r\n      })\r\n  }\r\n  generateUniformsCodeFrag() {\r\n    return `\\n            // SPE: Lines layer uniforms *************************\\n            uniform float f${this.mId}_alpha;\\n            uniform int f${this.mId}_mode;\\n            uniform vec3 f${this.mId}_color;\\n            uniform float f${this.mId}_thickness;\\n            uniform bool f${this.mId}_useBack;\\n            uniform float f${this.mId}_smoothOffset;\\n            // **************************************************\\n        `\r\n  }\r\n  generateShaderCodeFrag(e) {\r\n    return `\\n            // SPE: Lines layer frag-shader-code ***************************************************\\n            float f${this.mId}_dist = min( vBarycentric.x, min( vBarycentric.y, vBarycentric.z ) );\\n            float f${this.mId}_comp_thickness = f${this.mId}_thickness;\\n            float f${this.mId}_edge = 1.0 - aastep( f${this.mId}_comp_thickness, f${this.mId}_dist, f${this.mId}_smoothOffset );\\n            float f${this.mId}_factor = gl_FrontFacing ? 1.0 : ( f${this.mId}_useBack ? 0.5 : 0.0 );\\n            accumAlpha += ( 1.0 - accumAlpha ) * f${this.mId}_alpha * f${this.mId}_edge;\\n            ${e} = spe_blend( ${e}, f${this.mId}_factor * f${this.mId}_color, f${this.mId}_alpha * f${this.mId}_edge, f${this.mId}_mode );\\n            // *************************************************************************************\\n        `\r\n  }\r\n}\r\nif (!SPE.CreateLayerFromJSON) {\r\n  function preprocess_uniforms(e, t) {\r\n    const i = {},\r\n      r = `f${e}_`\r\n    for (const e in t) {\r\n      const a = e.slice(e.indexOf(r) + r.length),\r\n        s = t[e].value\r\n      if ('boolean' == typeof s)\r\n        i[a] = { name: a, value: s, type: SPE_LAYER_UNIFORM_TYPE_BOOL }\r\n      else if ('number' == typeof s)\r\n        Number.isInteger(s)\r\n          ? (i[a] = { name: a, value: s, type: SPE_LAYER_UNIFORM_TYPE_INT })\r\n          : (i[a] = { name: a, value: s, type: SPE_LAYER_UNIFORM_TYPE_FLOAT })\r\n      else if ('string' != typeof s || isNaN(s))\r\n        if (s instanceof Object && 2 === Object.entries(s).length)\r\n          void 0 !== s.x &&\r\n            void 0 !== s.y &&\r\n            (i[a] = {\r\n              name: a,\r\n              value: [s.x, s.y],\r\n              type: SPE_LAYER_UNIFORM_TYPE_VEC2\r\n            })\r\n        else if (s instanceof Object && 3 === Object.entries(s).length)\r\n          void 0 !== s.x &&\r\n            void 0 !== s.y &&\r\n            void 0 !== s.z &&\r\n            (i[a] = {\r\n              name: a,\r\n              value: [s.x, s.y, s.z],\r\n              type: SPE_LAYER_UNIFORM_TYPE_VEC3\r\n            })\r\n        else if (s instanceof Object && 4 === Object.entries(s).length)\r\n          void 0 !== s.x && void 0 !== s.y && void 0 !== s.z && void 0 !== s.w\r\n            ? (i[a] = {\r\n                name: a,\r\n                value: [s.x, s.y, s.z, s.w],\r\n                type: SPE_LAYER_UNIFORM_TYPE_VEC4\r\n              })\r\n            : void 0 !== s.r &&\r\n              void 0 !== s.g &&\r\n              void 0 !== s.b &&\r\n              void 0 !== s.a &&\r\n              (i[a] = {\r\n                name: a,\r\n                value: [s.r, s.g, s.b, s.a],\r\n                type: SPE_LAYER_UNIFORM_TYPE_COLOR\r\n              })\r\n        else if (s instanceof Array && 'number' == typeof s[0])\r\n          Number.isInteger(s[0])\r\n            ? (i[a] = {\r\n                name: a,\r\n                value: [].concat(s),\r\n                type: SPE_LAYER_UNIFORM_TYPE_ARRAY_INT\r\n              })\r\n            : (i[a] = {\r\n                name: a,\r\n                value: [].concat(s),\r\n                type: SPE_LAYER_UNIFORM_TYPE_ARRAY_FLOAT\r\n              })\r\n        else if (\r\n          s instanceof Array &&\r\n          s[0] instanceof Object &&\r\n          2 === Object.entries(s[0]).length\r\n        ) {\r\n          if (void 0 !== s[0].x && void 0 !== s[0].y) {\r\n            let e = []\r\n            for (let t = 0; t < s.length; t++) e = e.concat([s[t].x, s[t].y])\r\n            i[a] = {\r\n              name: a,\r\n              value: e,\r\n              type: SPE_LAYER_UNIFORM_TYPE_ARRAY_VEC2\r\n            }\r\n          }\r\n        } else if (\r\n          s instanceof Array &&\r\n          s[0] instanceof Object &&\r\n          3 === Object.entries(s[0]).length\r\n        ) {\r\n          if (void 0 !== s[0].x && void 0 !== s[0].y && void 0 !== s[0].z) {\r\n            let e = []\r\n            for (let t = 0; t < s.length; t++)\r\n              e = e.concat([s[t].x, s[t].y, s[t].z])\r\n            i[a] = {\r\n              name: a,\r\n              value: e,\r\n              type: SPE_LAYER_UNIFORM_TYPE_ARRAY_VEC3\r\n            }\r\n          }\r\n        } else if (\r\n          s instanceof Array &&\r\n          s[0] instanceof Object &&\r\n          4 === Object.entries(s[0]).length\r\n        ) {\r\n          if (\r\n            void 0 !== s[0].x &&\r\n            void 0 !== s[0].y &&\r\n            void 0 !== s[0].z &&\r\n            void 0 !== s[0].w\r\n          ) {\r\n            let e = []\r\n            for (let t = 0; t < s.length; t++)\r\n              e = e.concat([s[t].x, s[t].y, s[t].z, s[t].w])\r\n            i[a] = {\r\n              name: a,\r\n              value: e,\r\n              type: SPE_LAYER_UNIFORM_TYPE_ARRAY_VEC4\r\n            }\r\n          }\r\n        } else if (s instanceof Array && s[0] instanceof THREE.Color) {\r\n          if (\r\n            void 0 !== s[0].x &&\r\n            void 0 !== s[0].y &&\r\n            void 0 !== s[0].z &&\r\n            void 0 !== s[0].w\r\n          ) {\r\n            let e = []\r\n            for (let t = 0; t < s.length; t++)\r\n              e = e.concat([s[t].r, s[t].g, s[t].b, s[t].a])\r\n            i[a] = {\r\n              name: a,\r\n              value: e,\r\n              type: SPE_LAYER_UNIFORM_TYPE_ARRAY_COLOR\r\n            }\r\n          }\r\n        } else\r\n          s instanceof Object && 1 === Object.entries(s).length\r\n            ? void 0 !== s.elements &&\r\n              s.elements instanceof Array &&\r\n              (9 === s.elements.length\r\n                ? (i[a] = {\r\n                    name: a,\r\n                    value: [].concat(s.elements),\r\n                    type: SPE_LAYER_UNIFORM_TYPE_MAT3\r\n                  })\r\n                : 16 === s.elements.length\r\n                ? (i[a] = {\r\n                    name: a,\r\n                    value: [].concat(s.elements),\r\n                    type: SPE_LAYER_UNIFORM_TYPE_MAT4\r\n                  })\r\n                : console.error(\r\n                    'SpeLayer::preprocess_uniforms >>> unsupported matrix-type of uniform: ',\r\n                    s.elements\r\n                  ))\r\n            : 'string' == typeof s\r\n            ? (i[a] = {\r\n                name: a,\r\n                value: SPE.CachedTextures[s],\r\n                type: SPE_LAYER_UNIFORM_TYPE_SAMPLER_2D\r\n              })\r\n            : console.error(\r\n                'SpeLayer::preprocess_uniforms >>> unsupported uniform-value: ',\r\n                s\r\n              )\r\n      else {\r\n        const e = Number(s)\r\n        Number.isInteger(e)\r\n          ? (i[a] = { name: a, value: e, type: SPE_LAYER_UNIFORM_TYPE_INT })\r\n          : (i[a] = { name: a, value: e, type: SPE_LAYER_UNIFORM_TYPE_FLOAT })\r\n      }\r\n    }\r\n    return i\r\n  }\r\n  SPE.CreateLayerFromJSON = function (e, t) {\r\n    const i = e.id,\r\n      r = e.type,\r\n      a = preprocess_uniforms(e.id, e.uniforms)\r\n    return SpeLayer.CreateLayer(i, r, a)\r\n  }\r\n}\r\nclass SpeLayersList {\r\n  constructor(e) {\r\n    if (\r\n      ((this.mHead = null),\r\n      (this.mShader = null),\r\n      void 0 !== e && Object.keys(e).length > 0)\r\n    )\r\n      for (let t = 0; t < e.length; t++)\r\n        this.addLayer(t, e[t].type, e[t].uniforms)\r\n    else\r\n      this.addLayer(0, SPE_LAYER_TYPE_COLOR, {}),\r\n        this.addLayer(1, SPE_LAYER_TYPE_LIGHTING, {})\r\n  }\r\n  get head() {\r\n    return this.mHead\r\n  }\r\n  set head(e) {\r\n    this.mHead = e\r\n  }\r\n  get shader() {\r\n    return this.mShader\r\n  }\r\n  set shader(e) {\r\n    this.mShader = e\r\n  }\r\n  addLayer(e, t, i) {\r\n    const r = SpeLayer.CreateLayer(e, t, i)\r\n    if (null !== r) {\r\n      if (null === this.mHead) this.mHead = r\r\n      else {\r\n        let e = this.mHead\r\n        for (; e.next; ) e = e.next\r\n        e.next = r\r\n      }\r\n      return r\r\n    }\r\n    console.error(\r\n      'SpeLayersList::addLayer >>> couldnt create a layer of type: ',\r\n      t\r\n    )\r\n  }\r\n  addLayerBeforeAt(e, t) {\r\n    const i = void 0 !== e.id ? e.id : 100 + Math.floor(999 * Math.random()),\r\n      r = void 0 !== e.type ? e.type : SPE_LAYER_TYPE_COLOR,\r\n      a =\r\n        'texture' !== r\r\n          ? SpeLayer.DictToUniforms(e)\r\n          : SpeLayerTexture.DictToUniforms(e),\r\n      s = SpeLayer.CreateLayer(i, r, a)\r\n    let n = this.head\r\n    if (((s.next = t), n === t)) this.head = s\r\n    else {\r\n      for (; n.next !== t; ) n = n.next\r\n      n.next = s\r\n    }\r\n    return s\r\n  }\r\n  removeLayer(e) {\r\n    let t = this.head,\r\n      i = void 0,\r\n      r = 0\r\n    if (t.id == e) this.head = t.next\r\n    else\r\n      for (r = 1, i = t, t = t.next; null != t; ) {\r\n        if (t.id == e) {\r\n          i.next = t.next\r\n          break\r\n        }\r\n        r++, (i = t), (t = t.next)\r\n      }\r\n    return r\r\n  }\r\n  getLayer(e) {\r\n    let t = this.head\r\n    for (; t && t.id != e; ) t = t.next\r\n    return t\r\n  }\r\n  updateLayerUniform(e, t) {\r\n    const i = this.getLayer(e)\r\n    i &&\r\n      (void 0 !== i.uniforms[t]\r\n        ? (this.mShader.uniforms[t] = { value: i.uniforms[t].value })\r\n        : console.error(\r\n            `SpeLayersList::updateLayerUniform >>> uniform ${t} not found in layer`\r\n          ))\r\n  }\r\n  updateLayerUniformByLayer(e, t) {\r\n    void 0 !== e.uniforms[t]\r\n      ? (this.mShader.uniforms[t] = { value: e.uniforms[t].value })\r\n      : console.error(\r\n          `SpeLayersList::updateLayerUniformByLayer >>> uniform ${t} not found in layer`\r\n        )\r\n  }\r\n  getUniforms() {\r\n    const e = {}\r\n    let t = this.mHead\r\n    for (; t; ) {\r\n      for (let [i, r] of Object.entries(t.uniforms)) e[i] = r\r\n      t = t.next\r\n    }\r\n    return e\r\n  }\r\n  getDefinesCode() {\r\n    let e = '',\r\n      t = this.mHead\r\n    for (; t; ) {\r\n      for (let [i, r] of Object.entries(t.defines)) e += `#define ${i} ${r}\\n`\r\n      t = t.next\r\n    }\r\n    return e\r\n  }\r\n  getVertUniformsCode() {\r\n    let e = '',\r\n      t = this.mHead\r\n    for (; t; ) (e += t.generateUniformsCodeVert()), (t = t.next)\r\n    return e\r\n  }\r\n  getFragUniformsCode() {\r\n    let e = '',\r\n      t = this.mHead\r\n    for (; t; ) (e += t.generateUniformsCodeFrag()), (t = t.next)\r\n    return e\r\n  }\r\n  getFragShaderCodePreLighting() {\r\n    let e = '',\r\n      t = this.mHead\r\n    for (; t.type !== SPE_LAYER_TYPE_LIGHTING; )\r\n      (e += t.generateShaderCodeFrag('bef')), (t = t.next)\r\n    return e\r\n  }\r\n  getFragShaderCodeLighting() {\r\n    let e = this.mHead\r\n    for (; e.type !== SPE_LAYER_TYPE_LIGHTING; ) e = e.next\r\n    return e.generateShaderCodeFrag()\r\n  }\r\n  getFragShaderCodePostLighting() {\r\n    let e = '',\r\n      t = this.mHead\r\n    for (; t.type !== SPE_LAYER_TYPE_LIGHTING; ) t = t.next\r\n    for (t = t.next; t; ) (e += t.generateShaderCodeFrag('aft')), (t = t.next)\r\n    return e\r\n  }\r\n}\r\nclass SpeBasicMaterial extends THREE.MeshPhongMaterial {\r\n  constructor(e = {}, t = {}) {\r\n    super(t),\r\n      (this.mLayersList = null),\r\n      Object.keys(e).length > 0 &&\r\n        ((this.mLayersList = new SpeLayersList(e)),\r\n        (this.onBeforeCompile = SpeShaderLib.GetSetupCallback(this)))\r\n  }\r\n  get layersList() {\r\n    return this.mLayersList\r\n  }\r\n  set layersList(e) {\r\n    ;(this.mLayersList = e),\r\n      (this.onBeforeCompile = SpeShaderLib.GetSetupCallback(this))\r\n  }\r\n  copy(e) {\r\n    if (this.mLayersList) {\r\n      const t = e.layersList\r\n      ;(e.layersList = void 0), super.copy(e), (this.layerList = t.clone())\r\n    } else super.copy(e)\r\n    return this\r\n  }\r\n}\r\nclass SpeLambertMaterial extends THREE.MeshLambertMaterial {\r\n  constructor(e = {}, t = {}) {\r\n    super(t),\r\n      (this.mLayersList = null),\r\n      Object.keys(e).length > 0 &&\r\n        ((this.mLayersList = new SpeLayersList(e)),\r\n        (this.onBeforeCompile = SpeShaderLib.GetSetupCallback(this)))\r\n  }\r\n  get layersList() {\r\n    return this.mLayersList\r\n  }\r\n  set layersList(e) {\r\n    ;(this.mLayersList = e),\r\n      (this.onBeforeCompile = SpeShaderLib.GetSetupCallback(this))\r\n  }\r\n  copy(e) {\r\n    if (this.mLayersList) {\r\n      const t = e.layersList\r\n      ;(e.layersList = void 0), super.copy(e), (this.layerList = t.clone())\r\n    } else super.copy(e)\r\n    return this\r\n  }\r\n}\r\nclass SpePhongMaterial extends THREE.MeshPhongMaterial {\r\n  constructor(e = {}, t = {}) {\r\n    super(t),\r\n      (this.mLayersList = null),\r\n      Object.keys(e).length > 0 &&\r\n        ((this.mLayersList = new SpeLayersList(e)),\r\n        (this.onBeforeCompile = SpeShaderLib.GetSetupCallback(this)))\r\n  }\r\n  get layersList() {\r\n    return this.mLayersList\r\n  }\r\n  set layersList(e) {\r\n    ;(this.mLayersList = e),\r\n      (this.onBeforeCompile = SpeShaderLib.GetSetupCallback(this))\r\n  }\r\n  copy(e) {\r\n    if (this.mLayersList) {\r\n      const t = e.layersList\r\n      ;(e.layersList = void 0), super.copy(e), (this.layerList = t.clone())\r\n    } else super.copy(e)\r\n    return this\r\n  }\r\n}\r\nclass SpePhysicalMaterial extends THREE.MeshPhysicalMaterial {\r\n  constructor(e = {}, t = {}) {\r\n    void 0 === t.roughness && (t.roughness = 0.3),\r\n      super(t),\r\n      (this.mLayersList = null),\r\n      Object.keys(e).length > 0 &&\r\n        ((this.mLayersList = new SpeLayersList(e)),\r\n        (this.onBeforeCompile = SpeShaderLib.GetSetupCallback(this)))\r\n  }\r\n  get layersList() {\r\n    return this.mLayersList\r\n  }\r\n  set layersList(e) {\r\n    ;(this.mLayersList = e),\r\n      (this.onBeforeCompile = SpeShaderLib.GetSetupCallback(this))\r\n  }\r\n  copy(e) {\r\n    if (this.mLayersList) {\r\n      const t = e.layersList\r\n      ;(e.layersList = void 0), super.copy(e), (this.layerList = t.clone())\r\n    } else super.copy(e)\r\n    return this\r\n  }\r\n}\r\nclass SpeToonMaterial extends THREE.MeshToonMaterial {\r\n  constructor(e = {}, t = {}) {\r\n    super(t),\r\n      (this.mLayersList = null),\r\n      Object.keys(e).length > 0 &&\r\n        ((this.mLayersList = new SpeLayersList(e)),\r\n        (this.onBeforeCompile = SpeShaderLib.GetSetupCallback(this)))\r\n  }\r\n  get layersList() {\r\n    return this.mLayersList\r\n  }\r\n  set layersList(e) {\r\n    ;(this.mLayersList = e),\r\n      (this.onBeforeCompile = SpeShaderLib.GetSetupCallback(this))\r\n  }\r\n  copy(e) {\r\n    if (this.mLayersList) {\r\n      const t = e.layersList\r\n      ;(e.layersList = void 0), super.copy(e), (this.layerList = t.clone())\r\n    } else super.copy(e)\r\n    return this\r\n  }\r\n}\r\nvar SpeFontsCache = {},\r\n  SpeCharsCache = {}\r\nconst SPE_PATH_FONTS = 'assets/fonts/',\r\n  SPE_DEFAULT_TEXT_FONT = 'roboto_regular',\r\n  SPE_DEFAULT_TEXT_CHARACTER = '.',\r\n  SPE_DEFAULT_TEXT_LOD = 16\r\nfunction SpeLoadFont(e) {\r\n  return new Promise(function (t, i) {\r\n    if (SpeFontsCache[e]) t(SpeFontsCache[e])\r\n    else {\r\n      const i = new THREE.FontLoader(),\r\n        r = SPE_PATH_FONTS + e + '.json'\r\n      i.load(r, function (i) {\r\n        ;(SpeFontsCache[e] = i), t(i)\r\n      })\r\n    }\r\n  })\r\n}\r\nfunction SpeLoadCharData(e, t, i) {\r\n  if (SpeCharsCache[e]) {\r\n    if (SpeCharsCache[e][i] && SpeCharsCache[e][i].fontFamily === t)\r\n      return SpeCharsCache[e][i]\r\n  } else SpeCharsCache[e] = {}\r\n  const r =\r\n      void 0 !== SpeFontsCache[t]\r\n        ? SpeFontsCache[t]\r\n        : SpeFontsCache[SPE_DEFAULT_TEXT_FONT],\r\n    a = r.generateShapes(e, 1)\r\n  return (\r\n    (SpeCharsCache[e][i] = {\r\n      geometry: new THREE.ShapeBufferGeometry(a, i),\r\n      fontFamily: t,\r\n      resolution: r.data.resolution,\r\n      glyphsHa: r.data.glyphs[e].ha\r\n    }),\r\n    SpeCharsCache[e][i]\r\n  )\r\n}\r\nclass SpeTextChar3D extends SpeIMesh {\r\n  constructor(e, t) {\r\n    const i = void 0 !== e.char ? e.char : SPE_DEFAULT_TEXT_CHARACTER,\r\n      r = void 0 !== e.fontFamily ? e.fontFamily : SPE_DEFAULT_TEXT_FONT,\r\n      a = void 0 !== e.lod ? e.lod : SPE_DEFAULT_TEXT_LOD,\r\n      s = SpeLoadCharData(i, r, a)\r\n    super(s.geometry, t),\r\n      (this.mChar = i),\r\n      (this.mFontFamily = r),\r\n      (this.mLod = a),\r\n      (this.mFontSize = void 0 !== e.fontSize ? e.fontSize : 16),\r\n      (this.mLetterSpacing = void 0 !== e.letterSpacing ? e.letterSpacing : 1),\r\n      (this.mResolution = s.resolution),\r\n      (this.mGlyphsHa = s.glyphsHa),\r\n      (this.mLocalPosition = new THREE.Vector2()),\r\n      (this.mCharSize =\r\n        this.mGlyphsHa *\r\n        (this.mFontSize / this.mResolution) *\r\n        this.mLetterSpacing),\r\n      this.updateFontSize(this.mFontSize)\r\n  }\r\n  updateFontSize(e) {\r\n    ;(this.mFontSize = e),\r\n      (this.mCharSize =\r\n        this.mGlyphsHa *\r\n        (this.mFontSize / this.mResolution) *\r\n        this.mLetterSpacing),\r\n      this.scale.set(this.mFontSize, this.mFontSize, 1)\r\n  }\r\n}\r\nclass SpeTextContainer extends SpeIMesh {\r\n  constructor(e, t) {\r\n    ;(t.visible = !1), super(e, t)\r\n  }\r\n}\r\nclass SpeLoaderManager {\r\n  constructor(e) {\r\n    ;(this.mAssets = e || {}),\r\n      (this.mOnFinishCallback = null),\r\n      (this.mNumAssetsToLoad = 0),\r\n      (this.mNumAssetsLoaded = 0)\r\n  }\r\n  run(e) {\r\n    this.mOnFinishCallback = e\r\n    const t = void 0 !== this.mAssets.fonts ? this.mAssets.fonts : [],\r\n      i = void 0 !== this.mAssets.images ? this.mAssets.images : [],\r\n      r = void 0 !== this.mAssets.models ? this.mAssets.models : [],\r\n      a = void 0 !== this.mAssets.animations ? this.mAssets.animations : []\r\n    if (\r\n      ((this.mNumAssetsLoaded = 0),\r\n      (this.mNumAssetsToLoad = t.length + i.length + r.length + a.length),\r\n      this.mNumAssetsToLoad < 1)\r\n    )\r\n      this.mOnFinishCallback()\r\n    else {\r\n      const e = this\r\n      for (let i = 0; i < t.length; i++) {\r\n        const r = new THREE.FontLoader(),\r\n          a = t[i],\r\n          s = SPE_PATH_FONTS + a + '.json'\r\n        r.load(s, function (t) {\r\n          ;(SpeFontsCache[a] = t),\r\n            e.mNumAssetsLoaded++,\r\n            e.mNumAssetsLoaded === e.mNumAssetsToLoad && e.mOnFinishCallback()\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\nexport class SpeRuntime {\r\n  constructor(e, t, i = {},canvas$1) {\r\n    ;(this.mGltfScene = e),\r\n      (this.mConfig = i),\r\n      (this.mViewportMode = SPE_RUNTIME_VIEWMODE_FULLSCREEN),\r\n      (this.mViewportWidth = window.innerWidth),\r\n      (this.mViewportHeight = window.innerHeight)\r\n    const r = canvas$1\r\n    ;(this.mRenderer = new THREE.WebGLRenderer({\r\n      antialias: !0,\r\n      alpha: !0,\r\n      canvas: r\r\n    })),\r\n      this.mRenderer.setPixelRatio(window.devicePixelRatio),\r\n      this.mRenderer.setSize(this.mViewportWidth, this.mViewportHeight),\r\n      (this.mRenderer.shadowMap.enabled = !0),\r\n      (this.mRenderer.shadowMap.type = THREE.PCFSoftShadowMap),\r\n      (this.mScene = new SpeScene()),\r\n      (this.mSceneOptions = {}),\r\n      (this.mMainCamera = null),\r\n      (this.mOrbitControls = null),\r\n      (this.mPlayHandler = null),\r\n      (this.mRunning = !1),\r\n      (this.mLoaderManager = new SpeLoaderManager(t)),\r\n      this.mLoaderManager.run(this.onRuntimeAssetsLoaded.bind(this))\r\n  }\r\n  run() {\r\n    requestAnimationFrame(this.run.bind(this)), this.onRender()\r\n  }\r\n  onRuntimeAssetsLoaded() {\r\n    console.info(\r\n      'SpeRuntime >>> Finished loading assets for the spline-runtime'\r\n    ),\r\n      this.loadFromGltf(this.mGltfScene),\r\n      window.addEventListener('resize', this.onResize.bind(this)),\r\n      (this.mRunning = !0),\r\n      this.onResize()\r\n  }\r\n  onRender() {\r\n    this.mRunning &&\r\n      (SPE_USES_PREVIEW_IMAGE &&\r\n        ((document.querySelector(\r\n          '.spline-preview-image-container'\r\n        ).style.display = 'none'),\r\n        (SPE_USES_PREVIEW_IMAGE = !1)),\r\n      this.mPlayHandler &&\r\n        !this.mPlayHandler.isEnable &&\r\n        this.mPlayHandler.activate(),\r\n      this.mOrbitControls && this.mOrbitControls.update(),\r\n      this.mScene &&\r\n        this.mMainCamera &&\r\n        ((this.mRenderer.autoClear = !0),\r\n        this.mRenderer.render(this.mScene, this.mMainCamera)))\r\n  }\r\n  onResize() {\r\n    this.mRunning &&\r\n      ((this.mViewportMode !== SPE_RUNTIME_VIEWMODE_FULLSCREEN &&\r\n        this.mViewportMode !== SPE_RUNTIME_VIEWMODE_FULL_WIDTH) ||\r\n        (this.mViewportWidth = window.innerWidth),\r\n      (this.mViewportMode !== SPE_RUNTIME_VIEWMODE_FULLSCREEN &&\r\n        this.mViewportMode !== SPE_RUNTIME_VIEWMODE_FULL_HEIGHT) ||\r\n        (this.mViewportHeight = window.innerHeight),\r\n      this.mMainCamera &&\r\n        ('PerspectiveCamera' === this.mMainCamera.type\r\n          ? (this.mMainCamera.aspect =\r\n              this.mViewportWidth / this.mViewportHeight)\r\n          : 'OrthographicCamera' === this.mMainCamera.type &&\r\n            ((this.mMainCamera.left = -this.mViewportWidth / 2),\r\n            (this.mMainCamera.right = this.mViewportWidth / 2),\r\n            (this.mMainCamera.top = this.mViewportHeight / 2),\r\n            (this.mMainCamera.bottom = -this.mViewportHeight / 2)),\r\n        this.mMainCamera.updateProjectionMatrix()),\r\n      this.mRenderer &&\r\n        this.mRenderer.setSize(this.mViewportWidth, this.mViewportHeight))\r\n  }\r\n  loadFromGltf(e) {\r\n    const t = new SpeGltfDecoder(e),\r\n      [i, r, a] = t.decode()\r\n    ;(this.mScene = i), (this.mMainCamera = r), (this.mSceneOptions = a)\r\n    const s =\r\n        void 0 !== this.mSceneOptions.bgColor\r\n          ? new THREE.Color().fromArray(this.mSceneOptions.bgColor)\r\n          : new THREE.Color(1644825),\r\n      n = void 0 !== this.mSceneOptions.bgAlpha ? this.mSceneOptions.bgAlpha : 0\r\n    this.mRenderer.setClearColor(s, n),\r\n      (this.mViewportMode = this.mSceneOptions.viewMode),\r\n      (this.mViewportWidth = this.mSceneOptions.viewWidth),\r\n      (this.mViewportHeight = this.mSceneOptions.viewHeight),\r\n      this.mSceneOptions.useOrbitControls &&\r\n        ((this.mOrbitControls = new THREE.OrbitControls(\r\n          this.mMainCamera,\r\n          this.mRenderer.domElement\r\n        )),\r\n        this.mOrbitControls.target.fromArray(this.mSceneOptions.orbitTarget),\r\n        (this.mOrbitControls.enableRotate = this.mSceneOptions.cameraRotate),\r\n        (this.mOrbitControls.enablePan = this.mSceneOptions.cameraPan),\r\n        (this.mOrbitControls.enableZoom = this.mSceneOptions.cameraZoom),\r\n        (this.mOrbitControls.enableDamping = this.mSceneOptions.orbitDamped),\r\n        this.mSceneOptions.orbitDamped,\r\n        (this.mOrbitControls.rotateSpeed = 1),\r\n        (this.mOrbitControls.panSpeed = 1)),\r\n      'function' == typeof Interaction &&\r\n        (this.mPlayHandler = new PlayMode(\r\n          this.mRenderer.domElement,\r\n          this.mScene,\r\n          this.mMainCamera\r\n        ))\r\n  }\r\n}\r\nclass SpeScene extends THREE.Scene {\r\n  constructor() {\r\n    super()\r\n  }\r\n  traverseEntity(e) {\r\n    function t(i) {\r\n      if (\r\n        i instanceof SpeMesh3D ||\r\n        i instanceof SpeMesh2D ||\r\n        i instanceof SpeTextContainer ||\r\n        i instanceof THREE.Group ||\r\n        i instanceof SpeEmptyObject ||\r\n        i instanceof SPE.CombinedCamera ||\r\n        i instanceof SPE.LightSpot ||\r\n        i instanceof SPE.LightPoint ||\r\n        i instanceof SPE.LightDirectional\r\n      ) {\r\n        e(i)\r\n        for (let e = 0; e < i.children.length; e++) t(i.children[e])\r\n      }\r\n    }\r\n    for (let e = 0; e < this.children.length; e++) t(this.children[e])\r\n  }\r\n}\r\nclass SpeShaderLib {\r\n  static SetupShader(e, t) {\r\n    ;(e.fragmentShader =\r\n      '\\n            /* SPE-Blending helper functions */\\n            #define SPE_BLENDING_NORMAL 0\\n            #define SPE_BLENDING_MULTIPLY 1\\n            #define SPE_BLENDING_SCREEN 2\\n            #define SPE_BLENDING_OVERLAY 3\\n            vec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {\\n                return mix( a, b, alpha );\\n            }\\n            vec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {\\n                return mix( a, a * b, alpha );\\n            }\\n            vec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {\\n                vec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );\\n                return mix( a, tmp, alpha );\\n            }\\n            vec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {\\n                vec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );\\n                return clamp( mix( a, tmp, alpha ), 0.0, 1.0 );\\n            }\\n            vec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {\\n                /**/ if ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );\\n                else if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );\\n                else if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );\\n                else if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );\\n                return vec3( 1.0 );\\n            }\\n            ' +\r\n      e.fragmentShader),\r\n      (e.vertexShader =\r\n        '\\n            #ifdef SPE_USE_LAYER_FRESNEL\\n                varying vec3 vWorldViewDir;\\n                varying vec3 vWorldNormal;\\n            #endif /* SPE_USE_LAYER_FRESNEL */\\n            ' +\r\n        e.vertexShader),\r\n      (e.fragmentShader =\r\n        '\\n            #ifdef SPE_USE_LAYER_FRESNEL\\n                varying vec3 vWorldViewDir;\\n                varying vec3 vWorldNormal;\\n            #endif /* SPE_USE_LAYER_FRESNEL */\\n            ' +\r\n        e.fragmentShader),\r\n      (e.vertexShader = e.vertexShader.replace(\r\n        '#include <project_vertex>',\r\n        '\\n            #include <project_vertex>\\n            #ifdef SPE_USE_LAYER_FRESNEL\\n                vec4 fWorldPosition = modelMatrix * vec4( position, 1.0 );\\n                vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ? \\n                                    ( fWorldPosition.xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );\\n                vWorldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );\\n            #endif /* SPE_USE_LAYER_FRESNEL */\\n            '\r\n      )),\r\n      (e.vertexShader =\r\n        '\\n            #if defined( SPE_USE_LAYER_POINTS ) || defined( SPE_USE_LAYER_LINES )\\n                attribute vec3 barycentric;\\n                varying vec3 vBarycentric;\\n            #endif /* SPE_USE_LAYER_POINTS || SPE_USE_LAYER_LINES */\\n        ' +\r\n        e.vertexShader),\r\n      (e.vertexShader = e.vertexShader.replace(\r\n        '#include <begin_vertex>',\r\n        '\\n            #include <begin_vertex>\\n            #if defined( SPE_USE_LAYER_POINTS ) || defined( SPE_USE_LAYER_LINES )\\n                vBarycentric = barycentric;\\n            #endif /* SPE_USE_LAYER_POINTS || SPE_USE_LAYER_LINES */\\n            '\r\n      )),\r\n      (e.fragmentShader =\r\n        '\\n            #if defined( SPE_USE_LAYER_POINTS ) || defined( SPE_USE_LAYER_LINES )\\n                varying vec3 vBarycentric;\\n                float aastep( float threshold, float dist, float smoothOffset ) {\\n                    float afwidth = fwidth( dist ) * 0.5;\\n                    return smoothstep( threshold - afwidth - smoothOffset, threshold + afwidth + smoothOffset, dist );\\n                }\\n            #endif /* SPE_USE_LAYER_POINTS || SPE_USE_LAYER_LINES */\\n        ' +\r\n        e.fragmentShader),\r\n      (e.fragmentShader =\r\n        '\\n            #ifdef SPE_USE_LAYER_NOISE\\n                float random ( in vec2 _st ) {\\n                    return sin(sin(dot(_st.xy, vec2(12.834,77.212))) * 320.3456); // Ale: I am usin sin() instead of fract() to create a different noise.\\n                }\\n                float noise ( in vec2 _st ) {\\n                    vec2 i = floor(_st);\\n                    vec2 f = fract(_st);\\n                    // Four corners in 2D of a tile\\n                    float a = random(i);\\n                    float b = random(i + vec2(1.0, 0.0)); // Ale: By incrementing disproportionally these values. You get a geometrical distortion.\\n                    float c = random(i + vec2(0.0, 1.0));\\n                    float d = random(i + vec2(1.0, 1.0));\\n                    vec2 u = f * f * (3.0 - 2.0 * f);\\n                    return mix(a, b, u.x) + (c - a)* u.y * (1.0 - u.x) + (d - b) * u.x * u.y;\\n                }\\n                float fbm ( in vec2 _st ) {\\n                    float v = 0.0;\\n                    float a = 0.5;\\n                    vec2 shift = vec2(100.0);\\n                    // Rotate to reduce axial bias\\n                    mat2 rot = mat2(cos(0.5), sin(0.5),\\n                                    -sin(0.5), cos(0.50));\\n                    for (int i = 0; i < SPE_NOISE_NUM_OCTAVES; ++i) {\\n                        v += a * noise(_st);\\n                        _st = rot * _st * 2.0 + shift;\\n                        a *= 0.5;\\n                    }\\n                    return v;\\n                }\\n            #endif /* SPE_USE_LAYER_NOISE */\\n            ' +\r\n        e.fragmentShader),\r\n      (e.fragmentShader = e.fragmentShader.replace(\r\n        '#include <normal_fragment_begin>',\r\n        ''\r\n      )),\r\n      (e.fragmentShader = e.fragmentShader.replace(\r\n        '#include <normal_fragment_maps>',\r\n        ''\r\n      )),\r\n      t instanceof SpeBasicMaterial &&\r\n        ((e.fragmentShader = e.fragmentShader.replace(\r\n          '#include <lights_phong_fragment>\\n                #include <lights_fragment_begin>\\n                #include <lights_fragment_maps>\\n                #include <lights_fragment_end>',\r\n          ''\r\n        )),\r\n        (e.fragmentShader = e.fragmentShader.replace(\r\n          'vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;',\r\n          'vec3 outgoingLight = diffuseColor.rgb;'\r\n        ))),\r\n      t instanceof SpeLambertMaterial &&\r\n        ((e.vertexShader =\r\n          '\\n                #ifdef SPE_USE_LAYER_NORMAL\\n                    varying vec3 vNormal;\\n                #endif /* SPE_USE_LAYER_NORMAL */\\n                ' +\r\n          e.vertexShader),\r\n        (e.vertexShader = e.vertexShader.replace(\r\n          '#include <defaultnormal_vertex>',\r\n          '\\n                #include <defaultnormal_vertex>\\n                #ifdef SPE_USE_LAYER_NORMAL\\n                    vNormal = normalize( transformedNormal );\\n                #endif /* SPE_USE_LAYER_NORMAL */\\n                '\r\n        )),\r\n        (e.fragmentShader =\r\n          '\\n                #ifdef SPE_USE_LAYER_NORMAL\\n                    varying vec3 vNormal;\\n                #endif /* SPE_USE_LAYER_NORMAL */\\n                ' +\r\n          e.fragmentShader),\r\n        (e.fragmentShader = e.fragmentShader.replace(\r\n          'vec4 diffuseColor = vec4( diffuse, opacity );',\r\n          '\\n                #ifdef SPE_USE_LAYER_NORMAL\\n                    #include <normal_fragment_begin>\\n                    #include <normal_fragment_maps>\\n                #endif /* SPE_USE_LAYER_NORMAL */\\n                    float accumAlpha = 0.0;\\n                    vec3 bef = vec3( 1.0 );\\n                    #before\\n                    vec4 diffuseColor = vec4( bef, 1.0 );\\n                '\r\n        ))),\r\n      (e.vertexShader = e.vertexShader.replace(\r\n        '#include <common>',\r\n        '\\n            #include <common>\\n            #ifdef SPE_USE_LAYER_DEPTH\\n                varying vec4 dWorldPosition;\\n            #endif /* SPE_USE_LAYER_DEPTH */\\n            '\r\n      )),\r\n      (e.vertexShader = e.vertexShader.replace(\r\n        '#include <worldpos_vertex>',\r\n        '\\n            #include <worldpos_vertex>\\n            #ifdef SPE_USE_LAYER_DEPTH\\n                dWorldPosition = modelMatrix * vec4( transformed, 1.0 );\\n            #endif\\n            '\r\n      )),\r\n      (e.fragmentShader =\r\n        '\\n            #ifdef SPE_USE_LAYER_DEPTH\\n                varying vec4 dWorldPosition;\\n            #endif /* SPE_USE_LAYER_DEPTH */\\n            ' +\r\n        e.fragmentShader),\r\n      (e.fragmentShader = e.fragmentShader.replace(\r\n        'vec4 diffuseColor = vec4( diffuse, opacity );',\r\n        '\\n                #include <normal_fragment_begin>\\n                #include <normal_fragment_maps>\\n                float accumAlpha = 0.0;\\n                vec3 bef = vec3( 1.0 );\\n                #before\\n                vec4 diffuseColor = vec4( bef, 1.0 );\\n            '\r\n      )),\r\n      (e.fragmentShader = e.fragmentShader.replace(\r\n        'gl_FragColor = vec4( outgoingLight, diffuseColor.a );',\r\n        '\\n                #lighting\\n                vec3 aft = outgoingLight;\\n                #after\\n                gl_FragColor = vec4( aft, accumAlpha * opacity );\\n            '\r\n      ))\r\n  }\r\n  static GetSetupCallback(material) {\r\n    let string = ''\r\n    for (let e = 0; e < material.uuid.length; ++e) {\r\n      const t = material.uuid[e]\r\n      '-' != t && (string += t)\r\n    }\r\n    return eval(\r\n      `shader => {\\n            // Hashing required as in issue https://github.com/mrdoob/three.js/issues/13192\\n            const __hash___${string} = true;\\n            const layersList = material.layersList;\\n            // Inject base functionality into both vertex and fragment shaders\\n            SpeShaderLib.SetupShader( shader, material );\\n            shader.uniforms = THREE.UniformsUtils.merge( [ shader.uniforms, layersList.getUniforms() ] );\\n            for ( let [key, uniform] of Object.entries( shader.uniforms ) ) {\\n                if ( uniform.value && uniform.value.isTexture ) {\\n                    uniform.value.needsUpdate = true;\\n                }\\n            }\\n            // Inject shader-code in fragment shader previous to the lighting step\\n            shader.fragmentShader = shader.fragmentShader.replace( '#before', layersList.getFragShaderCodePreLighting() );\\n            // Inject shader-code in fragment shader for the lighting step\\n            shader.fragmentShader = shader.fragmentShader.replace( '#lighting', layersList.getFragShaderCodeLighting() );\\n            // Inject shader-code in fragment shader after the lighting step\\n            shader.fragmentShader = shader.fragmentShader.replace( '#after', layersList.getFragShaderCodePostLighting() );\\n            // Inject uniforms variables in both vertex and fragment shaders\\n            shader.vertexShader = layersList.getVertUniformsCode() + shader.vertexShader;\\n            shader.fragmentShader = layersList.getFragUniformsCode() + shader.fragmentShader;\\n            // Inject defines in both vertex and fragment shaders\\n            shader.vertexShader = layersList.getDefinesCode() + shader.vertexShader;\\n            shader.fragmentShader = layersList.getDefinesCode() + shader.fragmentShader;\\n            // Link the shader to its related layers-list\\n            layersList.shader = shader;\\n        }`\r\n    )\r\n  }\r\n}\r\nclass SpeStack {\r\n  constructor() {\r\n    this.elements = []\r\n  }\r\n  push(e) {\r\n    this.elements.push(e)\r\n  }\r\n  pop() {\r\n    return 0 === this.elements.length ? null : this.elements.pop()\r\n  }\r\n  top() {\r\n    return this.elements[this.elements.length - 1]\r\n  }\r\n  empty() {\r\n    return 0 === this.elements.length\r\n  }\r\n}\r\nclass SpeQueue {\r\n  constructor() {\r\n    this.elements = []\r\n  }\r\n  push(e) {\r\n    this.elements.push(e)\r\n  }\r\n  pop() {\r\n    return 0 === this.elements.length ? null : this.elements.shift()\r\n  }\r\n  front() {\r\n    return this.elements[0]\r\n  }\r\n  empty() {\r\n    return 0 === this.elements.length\r\n  }\r\n}\r\nfunction Interaction(e) {\r\n  ;(this.uuid = THREE.MathUtils.generateUUID()),\r\n    (this.object = e),\r\n    (this.states = []),\r\n    (this.events = []),\r\n    this.selectedState,\r\n    this.animation,\r\n    this.currentState,\r\n    this.prevState,\r\n    (this.statesManager = new InteractionStatesManager(this))\r\n}\r\nfunction IsValidURL(e) {\r\n  return -1 === e.indexOf('https')\r\n    ? (console.warn('Tried opening an url without https protocol'), !1)\r\n    : !!new RegExp(\r\n        '^(https?:\\\\/\\\\/)?((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*(\\\\?[;&a-z\\\\d%_.~+=-]*)?(\\\\#[-a-z\\\\d_]*)?$',\r\n        'i'\r\n      ).test(e)\r\n}\r\nfunction InteractionEvent(e, t) {\r\n  ;(this.targets = []),\r\n    (this._type = e),\r\n    (this.key = t),\r\n    (this.ui = { isCollapsed: !1 })\r\n}\r\nfunction InteractionState() {\r\n  ;(this.uuid = THREE.MathUtils.generateUUID()),\r\n    this.name,\r\n    (this.position = new THREE.Vector3()),\r\n    (this.rotation = new THREE.Euler()),\r\n    (this.scale = new THREE.Vector3()),\r\n    (this.hiddenMatrix = new THREE.Matrix4())\r\n}\r\nfunction InteractionTarget() {\r\n  this._object,\r\n    this.state,\r\n    (this.easing = InteractionTarget.EASING.EASE_IN_OUT),\r\n    (this.duration = 1e3),\r\n    (this.delay = 0),\r\n    (this.cubicControls = [0.5, 0.05, 0.1, 0.3]),\r\n    (this.springParameters = {\r\n      mass: 1,\r\n      stiffness: 80,\r\n      damping: 10,\r\n      velocity: 0\r\n    }),\r\n    (this.repeat = !1),\r\n    (this.cycle = !1),\r\n    (this.rewind = !1),\r\n    (this.url = '')\r\n}\r\nfunction InteractionStatesManager(e) {\r\n  this.i = e\r\n}\r\nfunction PlayMode(e, t, i) {\r\n  const r = new SPE.Raycaster()\r\n  this.isEnable\r\n  let a,\r\n    s = {}\r\n  function n(e) {\r\n    r.setFromCamera(m(e), i)\r\n    const t = s[InteractionEvent.TYPE.MOUSE_DOWN]\r\n    for (let e = 0, i = t.length; e < i; ++e)\r\n      if (r.intersectObject(t[e].object, !1).length > 0) {\r\n        t[e].interactionEvent.dispatch()\r\n        break\r\n      }\r\n  }\r\n  function o(e) {\r\n    r.setFromCamera(m(e), i)\r\n    const t = s[InteractionEvent.TYPE.MOUSE_UP]\r\n    for (let e = 0, i = t.length; e < i; ++e)\r\n      if (r.intersectObject(t[e].object, !1).length > 0) {\r\n        t[e].interactionEvent.dispatch()\r\n        break\r\n      }\r\n  }\r\n  function h(e) {\r\n    r.setFromCamera(m(e), i)\r\n    const t = s[InteractionEvent.TYPE.MOUSE_HOVER].find(\r\n        (e) => r.intersectObject(e.object, !1).length > 0\r\n      ),\r\n      n = void 0 !== t ? t.interactionEvent : void 0\r\n    a !== n &&\r\n      (void 0 !== a && a.dispatchReverse(), void 0 !== t && n.dispatch()),\r\n      (a = n)\r\n  }\r\n  function l(e) {\r\n    const t = -1 * (e.pageX - window.innerWidth / 2),\r\n      i = 1 * (e.pageY - window.innerHeight / 2)\r\n    s[InteractionEvent.TYPE.LOOK_AT].forEach((e) => {\r\n      e.object.interaction.lookAt(t, i)\r\n    })\r\n  }\r\n  function c(e) {\r\n    s[InteractionEvent.TYPE.KEY_DOWN].forEach((t) => {\r\n      t.interactionEvent.key === e.key && t.interactionEvent.dispatch()\r\n    })\r\n  }\r\n  function d(e) {\r\n    s[InteractionEvent.TYPE.KEY_UP].forEach((t) => {\r\n      t.interactionEvent.key === e.key && t.interactionEvent.dispatch()\r\n    })\r\n  }\r\n  function m(t) {\r\n    var i = e.getBoundingClientRect()\r\n    return {\r\n      x: ((t.clientX - i.left) / i.width) * 2 - 1,\r\n      y: (-(t.clientY - i.top) / i.height) * 2 + 1\r\n    }\r\n  }\r\n  ;(this.activate = function () {\r\n    this.isEnable = !0\r\n    for (const e in InteractionEvent.TYPE) s[InteractionEvent.TYPE[e]] = []\r\n    t.traverseEntity(function (e) {\r\n      if (void 0 !== e.interaction) {\r\n        e.interaction.start()\r\n        const t = e.interaction.events\r\n        for (let i = 0, r = t.length; i < r; ++i)\r\n          s[t[i].type].push({ interactionEvent: t[i], object: e })\r\n      }\r\n    }),\r\n      s[InteractionEvent.TYPE.MOUSE_DOWN].length > 0 &&\r\n        e.addEventListener('pointerdown', n, !1),\r\n      s[InteractionEvent.TYPE.MOUSE_UP].length > 0 &&\r\n        e.addEventListener('pointerup', o, !1),\r\n      s[InteractionEvent.TYPE.MOUSE_HOVER].length > 0 &&\r\n        e.addEventListener('pointermove', h, !1),\r\n      s[InteractionEvent.TYPE.LOOK_AT].length > 0 &&\r\n        e.addEventListener('mousemove', l, !1),\r\n      s[InteractionEvent.TYPE.KEY_DOWN].length > 0 &&\r\n        document.addEventListener('keydown', c, !1),\r\n      s[InteractionEvent.TYPE.KEY_UP].length > 0 &&\r\n        document.addEventListener('keyup', d, !1)\r\n  }),\r\n    (this.deactivate = function () {\r\n      t.traverseEntity(function (e) {\r\n        void 0 !== e.interaction && e.interaction.end()\r\n      }),\r\n        s[InteractionEvent.TYPE.MOUSE_DOWN].length > 0 &&\r\n          e.removeEventListener('pointerdown', n),\r\n        s[InteractionEvent.TYPE.MOUSE_UP].length > 0 &&\r\n          e.removeEventListener('pointerup', o),\r\n        s[InteractionEvent.TYPE.MOUSE_HOVER].length > 0 &&\r\n          e.removeEventListener('pointermove', h),\r\n        s[InteractionEvent.TYPE.LOOK_AT].length > 0 &&\r\n          e.removeEventListener('pointermove', l, !1),\r\n        s[InteractionEvent.TYPE.KEY_DOWN].length > 0 &&\r\n          document.removeEventListener('keydown', c),\r\n        s[InteractionEvent.TYPE.KEY_UP].length > 0 &&\r\n          document.removeEventListener('keyup', d),\r\n        (s = {}),\r\n        (this.isEnable = !1)\r\n    }),\r\n    (this.reset = function () {\r\n      t.traverseEntity(function (e) {\r\n        e.interaction.start()\r\n      })\r\n    })\r\n}\r\n;(THREE.OrbitControls = function (e, t) {\r\n  var i, r, a, s, n, o\r\n  void 0 === t &&\r\n    console.warn(\r\n      'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.'\r\n    ),\r\n    t === document &&\r\n      console.error(\r\n        'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.'\r\n      ),\r\n    (this.object = e),\r\n    (this.domElement = t),\r\n    (this.enabled = !0),\r\n    (this.target = new THREE.Vector3()),\r\n    (this.minDistance = 0),\r\n    (this.maxDistance = 1 / 0),\r\n    (this.minZoom = 0),\r\n    (this.maxZoom = 1 / 0),\r\n    (this.minPolarAngle = 0),\r\n    (this.maxPolarAngle = Math.PI),\r\n    (this.minAzimuthAngle = -1 / 0),\r\n    (this.maxAzimuthAngle = 1 / 0),\r\n    (this.enableDamping = !1),\r\n    (this.dampingFactor = 0.05),\r\n    (this.enableZoom = !0),\r\n    (this.zoomSpeed = 1),\r\n    (this.enableRotate = !0),\r\n    (this.rotateSpeed = 1),\r\n    (this.enablePan = !0),\r\n    (this.panSpeed = 1),\r\n    (this.screenSpacePanning = !0),\r\n    (this.keyPanSpeed = 7),\r\n    (this.autoRotate = !1),\r\n    (this.autoRotateSpeed = 2),\r\n    (this.enableKeys = !0),\r\n    (this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 }),\r\n    (this.mouseButtons = {\r\n      LEFT: THREE.MOUSE.ROTATE,\r\n      MIDDLE: THREE.MOUSE.DOLLY,\r\n      RIGHT: THREE.MOUSE.PAN\r\n    }),\r\n    (this.touches = { ONE: THREE.TOUCH.ROTATE, TWO: THREE.TOUCH.DOLLY_PAN }),\r\n    (this.target0 = this.target.clone()),\r\n    (this.position0 = this.object.position.clone()),\r\n    (this.zoom0 = this.object.zoom),\r\n    (this.getPolarAngle = function () {\r\n      return f.phi\r\n    }),\r\n    (this.getAzimuthalAngle = function () {\r\n      return f.theta\r\n    }),\r\n    (this.saveState = function () {\r\n      h.target0.copy(h.target),\r\n        h.position0.copy(h.object.position),\r\n        (h.zoom0 = h.object.zoom)\r\n    }),\r\n    (this.reset = function () {\r\n      h.target.copy(h.target0),\r\n        h.object.position.copy(h.position0),\r\n        (h.object.zoom = h.zoom0),\r\n        h.object.updateProjectionMatrix(),\r\n        h.dispatchEvent(l),\r\n        h.update(),\r\n        (u = m.NONE)\r\n    }),\r\n    (this.update =\r\n      ((i = new THREE.Vector3()),\r\n      (r = new THREE.Quaternion().setFromUnitVectors(\r\n        e.up,\r\n        new THREE.Vector3(0, 1, 0)\r\n      )),\r\n      (a = r.clone().invert()),\r\n      (s = new THREE.Vector3()),\r\n      (n = new THREE.Quaternion()),\r\n      (o = 2 * Math.PI),\r\n      function () {\r\n        var e = h.object.position\r\n        i.copy(e).sub(h.target),\r\n          i.applyQuaternion(r),\r\n          f.setFromVector3(i),\r\n          h.autoRotate &&\r\n            u === m.NONE &&\r\n            P(((2 * Math.PI) / 60 / 60) * h.autoRotateSpeed),\r\n          h.enableDamping\r\n            ? ((f.theta += E.theta * h.dampingFactor),\r\n              (f.phi += E.phi * h.dampingFactor))\r\n            : ((f.theta += E.theta), (f.phi += E.phi))\r\n        var t = h.minAzimuthAngle,\r\n          c = h.maxAzimuthAngle\r\n        return (\r\n          isFinite(t) &&\r\n            isFinite(c) &&\r\n            (t < -Math.PI ? (t += o) : t > Math.PI && (t -= o),\r\n            c < -Math.PI ? (c += o) : c > Math.PI && (c -= o),\r\n            (f.theta =\r\n              t < c\r\n                ? Math.max(t, Math.min(c, f.theta))\r\n                : f.theta > (t + c) / 2\r\n                ? Math.max(t, f.theta)\r\n                : Math.min(c, f.theta))),\r\n          (f.phi = Math.max(h.minPolarAngle, Math.min(h.maxPolarAngle, f.phi))),\r\n          f.makeSafe(),\r\n          (f.radius *= g),\r\n          (f.radius = Math.max(\r\n            h.minDistance,\r\n            Math.min(h.maxDistance, f.radius)\r\n          )),\r\n          !0 === h.enableDamping\r\n            ? h.target.addScaledVector(y, h.dampingFactor)\r\n            : h.target.add(y),\r\n          i.setFromSpherical(f),\r\n          i.applyQuaternion(a),\r\n          e.copy(h.target).add(i),\r\n          h.object.lookAt(h.target),\r\n          !0 === h.enableDamping\r\n            ? ((E.theta *= 1 - h.dampingFactor),\r\n              (E.phi *= 1 - h.dampingFactor),\r\n              y.multiplyScalar(1 - h.dampingFactor))\r\n            : (E.set(0, 0, 0), y.set(0, 0, 0)),\r\n          (g = 1),\r\n          !!(\r\n            v ||\r\n            s.distanceToSquared(h.object.position) > p ||\r\n            8 * (1 - n.dot(h.object.quaternion)) > p\r\n          ) &&\r\n            (h.dispatchEvent(l),\r\n            s.copy(h.object.position),\r\n            n.copy(h.object.quaternion),\r\n            (v = !1),\r\n            !0)\r\n        )\r\n      })),\r\n    (this.dispose = function () {\r\n      h.domElement.removeEventListener('contextmenu', ee, !1),\r\n        h.domElement.removeEventListener('pointerdown', W, !1),\r\n        h.domElement.removeEventListener('wheel', q, !1),\r\n        h.domElement.removeEventListener('touchstart', K, !1),\r\n        h.domElement.removeEventListener('touchend', Q, !1),\r\n        h.domElement.removeEventListener('touchmove', Z, !1),\r\n        h.domElement.ownerDocument.removeEventListener('pointermove', k, !1),\r\n        h.domElement.ownerDocument.removeEventListener('pointerup', X, !1),\r\n        h.domElement.removeEventListener('keydown', J, !1)\r\n    })\r\n  var h = this,\r\n    l = { type: 'change' },\r\n    c = { type: 'start' },\r\n    d = { type: 'end' },\r\n    m = {\r\n      NONE: -1,\r\n      ROTATE: 0,\r\n      DOLLY: 1,\r\n      PAN: 2,\r\n      TOUCH_ROTATE: 3,\r\n      TOUCH_PAN: 4,\r\n      TOUCH_DOLLY_PAN: 5,\r\n      TOUCH_DOLLY_ROTATE: 6\r\n    },\r\n    u = m.NONE,\r\n    p = 1e-6,\r\n    f = new THREE.Spherical(),\r\n    E = new THREE.Spherical(),\r\n    g = 1,\r\n    y = new THREE.Vector3(),\r\n    v = !1,\r\n    _ = new THREE.Vector2(),\r\n    S = new THREE.Vector2(),\r\n    x = new THREE.Vector2(),\r\n    b = new THREE.Vector2(),\r\n    T = new THREE.Vector2(),\r\n    R = new THREE.Vector2(),\r\n    w = new THREE.Vector2(),\r\n    M = new THREE.Vector2(),\r\n    L = new THREE.Vector2()\r\n  function I() {\r\n    return Math.pow(0.95, h.zoomSpeed)\r\n  }\r\n  function P(e) {\r\n    E.theta -= e\r\n  }\r\n  function H(e) {\r\n    E.phi -= e\r\n  }\r\n  var A,\r\n    C =\r\n      ((A = new THREE.Vector3()),\r\n      function (e, t) {\r\n        A.setFromMatrixColumn(t, 0), A.multiplyScalar(-e), y.add(A)\r\n      }),\r\n    D = (function () {\r\n      var e = new THREE.Vector3()\r\n      return function (t, i) {\r\n        !0 === h.screenSpacePanning\r\n          ? e.setFromMatrixColumn(i, 1)\r\n          : (e.setFromMatrixColumn(i, 0), e.crossVectors(h.object.up, e)),\r\n          e.multiplyScalar(t),\r\n          y.add(e)\r\n      }\r\n    })(),\r\n    O = (function () {\r\n      var e = new THREE.Vector3()\r\n      return function (t, i) {\r\n        var r = h.domElement\r\n        if (h.object.isPerspectiveCamera) {\r\n          var a = h.object.position\r\n          e.copy(a).sub(h.target)\r\n          var s = e.length()\r\n          ;(s *= Math.tan(((h.object.fov / 2) * Math.PI) / 180)),\r\n            C((2 * t * s) / r.clientHeight, h.object.matrix),\r\n            D((2 * i * s) / r.clientHeight, h.object.matrix)\r\n        } else\r\n          h.object.isOrthographicCamera\r\n            ? (C(\r\n                (t * (h.object.right - h.object.left)) /\r\n                  h.object.zoom /\r\n                  r.clientWidth,\r\n                h.object.matrix\r\n              ),\r\n              D(\r\n                (i * (h.object.top - h.object.bottom)) /\r\n                  h.object.zoom /\r\n                  r.clientHeight,\r\n                h.object.matrix\r\n              ))\r\n            : (console.warn(\r\n                'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.'\r\n              ),\r\n              (h.enablePan = !1))\r\n      }\r\n    })()\r\n  function $(e) {\r\n    h.object.isPerspectiveCamera\r\n      ? (g /= e)\r\n      : h.object.isOrthographicCamera\r\n      ? ((h.object.zoom = Math.max(\r\n          h.minZoom,\r\n          Math.min(h.maxZoom, h.object.zoom * e)\r\n        )),\r\n        h.object.updateProjectionMatrix(),\r\n        (v = !0))\r\n      : (console.warn(\r\n          'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.'\r\n        ),\r\n        (h.enableZoom = !1))\r\n  }\r\n  function U(e) {\r\n    h.object.isPerspectiveCamera\r\n      ? (g *= e)\r\n      : h.object.isOrthographicCamera\r\n      ? ((h.object.zoom = Math.max(\r\n          h.minZoom,\r\n          Math.min(h.maxZoom, h.object.zoom / e)\r\n        )),\r\n        h.object.updateProjectionMatrix(),\r\n        (v = !0))\r\n      : (console.warn(\r\n          'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.'\r\n        ),\r\n        (h.enableZoom = !1))\r\n  }\r\n  function B(e) {\r\n    _.set(e.clientX, e.clientY)\r\n  }\r\n  function G(e) {\r\n    b.set(e.clientX, e.clientY)\r\n  }\r\n  function N(e) {\r\n    if (1 == e.touches.length) _.set(e.touches[0].pageX, e.touches[0].pageY)\r\n    else {\r\n      var t = 0.5 * (e.touches[0].pageX + e.touches[1].pageX),\r\n        i = 0.5 * (e.touches[0].pageY + e.touches[1].pageY)\r\n      _.set(t, i)\r\n    }\r\n  }\r\n  function z(e) {\r\n    if (1 == e.touches.length) b.set(e.touches[0].pageX, e.touches[0].pageY)\r\n    else {\r\n      var t = 0.5 * (e.touches[0].pageX + e.touches[1].pageX),\r\n        i = 0.5 * (e.touches[0].pageY + e.touches[1].pageY)\r\n      b.set(t, i)\r\n    }\r\n  }\r\n  function V(e) {\r\n    var t = e.touches[0].pageX - e.touches[1].pageX,\r\n      i = e.touches[0].pageY - e.touches[1].pageY,\r\n      r = Math.sqrt(t * t + i * i)\r\n    w.set(0, r)\r\n  }\r\n  function j(e) {\r\n    if (1 == e.touches.length) S.set(e.touches[0].pageX, e.touches[0].pageY)\r\n    else {\r\n      var t = 0.5 * (e.touches[0].pageX + e.touches[1].pageX),\r\n        i = 0.5 * (e.touches[0].pageY + e.touches[1].pageY)\r\n      S.set(t, i)\r\n    }\r\n    x.subVectors(S, _).multiplyScalar(h.rotateSpeed)\r\n    var r = h.domElement\r\n    P((2 * Math.PI * x.x) / r.clientHeight),\r\n      H((2 * Math.PI * x.y) / r.clientHeight),\r\n      _.copy(S)\r\n  }\r\n  function F(e) {\r\n    if (1 == e.touches.length) T.set(e.touches[0].pageX, e.touches[0].pageY)\r\n    else {\r\n      var t = 0.5 * (e.touches[0].pageX + e.touches[1].pageX),\r\n        i = 0.5 * (e.touches[0].pageY + e.touches[1].pageY)\r\n      T.set(t, i)\r\n    }\r\n    R.subVectors(T, b).multiplyScalar(h.panSpeed), O(R.x, R.y), b.copy(T)\r\n  }\r\n  function Y(e) {\r\n    var t = e.touches[0].pageX - e.touches[1].pageX,\r\n      i = e.touches[0].pageY - e.touches[1].pageY,\r\n      r = Math.sqrt(t * t + i * i)\r\n    M.set(0, r), L.set(0, Math.pow(M.y / w.y, h.zoomSpeed)), $(L.y), w.copy(M)\r\n  }\r\n  function W(e) {\r\n    if (!1 !== h.enabled)\r\n      switch (e.pointerType) {\r\n        case 'mouse':\r\n        case 'pen':\r\n          !(function (e) {\r\n            var t\r\n            switch (\r\n              (e.preventDefault(),\r\n              h.domElement.focus ? h.domElement.focus() : window.focus(),\r\n              e.button)\r\n            ) {\r\n              case 0:\r\n                t = h.mouseButtons.LEFT\r\n                break\r\n              case 1:\r\n                t = h.mouseButtons.MIDDLE\r\n                break\r\n              case 2:\r\n                t = h.mouseButtons.RIGHT\r\n                break\r\n              default:\r\n                t = -1\r\n            }\r\n            switch (t) {\r\n              case THREE.MOUSE.DOLLY:\r\n                if (!1 === h.enableZoom) return\r\n                !(function (e) {\r\n                  w.set(e.clientX, e.clientY)\r\n                })(e),\r\n                  (u = m.DOLLY)\r\n                break\r\n              case THREE.MOUSE.ROTATE:\r\n                if (e.ctrlKey || e.metaKey || e.shiftKey) {\r\n                  if (!1 === h.enablePan) return\r\n                  G(e), (u = m.PAN)\r\n                } else {\r\n                  if (!1 === h.enableRotate) return\r\n                  B(e), (u = m.ROTATE)\r\n                }\r\n                break\r\n              case THREE.MOUSE.PAN:\r\n                if (e.ctrlKey || e.metaKey || e.shiftKey) {\r\n                  if (!1 === h.enableRotate) return\r\n                  B(e), (u = m.ROTATE)\r\n                } else {\r\n                  if (!1 === h.enablePan) return\r\n                  G(e), (u = m.PAN)\r\n                }\r\n                break\r\n              default:\r\n                u = m.NONE\r\n            }\r\n            u !== m.NONE &&\r\n              (h.domElement.ownerDocument.addEventListener(\r\n                'pointermove',\r\n                k,\r\n                !1\r\n              ),\r\n              h.domElement.ownerDocument.addEventListener('pointerup', X, !1),\r\n              h.dispatchEvent(c))\r\n          })(e)\r\n      }\r\n  }\r\n  function k(e) {\r\n    if (!1 !== h.enabled)\r\n      switch (e.pointerType) {\r\n        case 'mouse':\r\n        case 'pen':\r\n          !(function (e) {\r\n            if (!1 === h.enabled) return\r\n            switch ((e.preventDefault(), u)) {\r\n              case m.ROTATE:\r\n                if (!1 === h.enableRotate) return\r\n                !(function (e) {\r\n                  S.set(e.clientX, e.clientY),\r\n                    x.subVectors(S, _).multiplyScalar(h.rotateSpeed)\r\n                  var t = h.domElement\r\n                  P((2 * Math.PI * x.x) / t.clientHeight),\r\n                    H((2 * Math.PI * x.y) / t.clientHeight),\r\n                    _.copy(S),\r\n                    h.update()\r\n                })(e)\r\n                break\r\n              case m.DOLLY:\r\n                if (!1 === h.enableZoom) return\r\n                !(function (e) {\r\n                  M.set(e.clientX, e.clientY),\r\n                    L.subVectors(M, w),\r\n                    L.y > 0 ? $(I()) : L.y < 0 && U(I()),\r\n                    w.copy(M),\r\n                    h.update()\r\n                })(e)\r\n                break\r\n              case m.PAN:\r\n                if (!1 === h.enablePan) return\r\n                !(function (e) {\r\n                  T.set(e.clientX, e.clientY),\r\n                    R.subVectors(T, b).multiplyScalar(h.panSpeed),\r\n                    O(R.x, R.y),\r\n                    b.copy(T),\r\n                    h.update()\r\n                })(e)\r\n            }\r\n          })(e)\r\n      }\r\n  }\r\n  function X(e) {\r\n    if (!1 !== h.enabled)\r\n      switch (e.pointerType) {\r\n        case 'mouse':\r\n        case 'pen':\r\n          !(function (e) {\r\n            if (!1 === h.enabled) return\r\n            h.domElement.ownerDocument.removeEventListener(\r\n              'pointermove',\r\n              k,\r\n              !1\r\n            ),\r\n              h.domElement.ownerDocument.removeEventListener(\r\n                'pointerup',\r\n                X,\r\n                !1\r\n              ),\r\n              h.dispatchEvent(d),\r\n              (u = m.NONE)\r\n          })()\r\n      }\r\n  }\r\n  function q(e) {\r\n    !1 === h.enabled ||\r\n      !1 === h.enableZoom ||\r\n      (u !== m.NONE && u !== m.ROTATE) ||\r\n      (e.preventDefault(),\r\n      e.stopPropagation(),\r\n      h.dispatchEvent(c),\r\n      (function (e) {\r\n        e.deltaY < 0 ? U(I()) : e.deltaY > 0 && $(I()), h.update()\r\n      })(e),\r\n      h.dispatchEvent(d))\r\n  }\r\n  function J(e) {\r\n    !1 !== h.enabled &&\r\n      !1 !== h.enableKeys &&\r\n      !1 !== h.enablePan &&\r\n      (function (e) {\r\n        var t = !1\r\n        switch (e.keyCode) {\r\n          case h.keys.UP:\r\n            O(0, h.keyPanSpeed), (t = !0)\r\n            break\r\n          case h.keys.BOTTOM:\r\n            O(0, -h.keyPanSpeed), (t = !0)\r\n            break\r\n          case h.keys.LEFT:\r\n            O(h.keyPanSpeed, 0), (t = !0)\r\n            break\r\n          case h.keys.RIGHT:\r\n            O(-h.keyPanSpeed, 0), (t = !0)\r\n        }\r\n        t && (e.preventDefault(), h.update())\r\n      })(e)\r\n  }\r\n  function K(e) {\r\n    if (!1 !== h.enabled) {\r\n      switch ((e.preventDefault(), e.touches.length)) {\r\n        case 1:\r\n          switch (h.touches.ONE) {\r\n            case THREE.TOUCH.ROTATE:\r\n              if (!1 === h.enableRotate) return\r\n              N(e), (u = m.TOUCH_ROTATE)\r\n              break\r\n            case THREE.TOUCH.PAN:\r\n              if (!1 === h.enablePan) return\r\n              z(e), (u = m.TOUCH_PAN)\r\n              break\r\n            default:\r\n              u = m.NONE\r\n          }\r\n          break\r\n        case 2:\r\n          switch (h.touches.TWO) {\r\n            case THREE.TOUCH.DOLLY_PAN:\r\n              if (!1 === h.enableZoom && !1 === h.enablePan) return\r\n              !(function (e) {\r\n                h.enableZoom && V(e), h.enablePan && z(e)\r\n              })(e),\r\n                (u = m.TOUCH_DOLLY_PAN)\r\n              break\r\n            case THREE.TOUCH.DOLLY_ROTATE:\r\n              if (!1 === h.enableZoom && !1 === h.enableRotate) return\r\n              !(function (e) {\r\n                h.enableZoom && V(e), h.enableRotate && N(e)\r\n              })(e),\r\n                (u = m.TOUCH_DOLLY_ROTATE)\r\n              break\r\n            default:\r\n              u = m.NONE\r\n          }\r\n          break\r\n        default:\r\n          u = m.NONE\r\n      }\r\n      u !== m.NONE && h.dispatchEvent(c)\r\n    }\r\n  }\r\n  function Z(e) {\r\n    if (!1 !== h.enabled)\r\n      switch ((e.preventDefault(), e.stopPropagation(), u)) {\r\n        case m.TOUCH_ROTATE:\r\n          if (!1 === h.enableRotate) return\r\n          j(e), h.update()\r\n          break\r\n        case m.TOUCH_PAN:\r\n          if (!1 === h.enablePan) return\r\n          F(e), h.update()\r\n          break\r\n        case m.TOUCH_DOLLY_PAN:\r\n          if (!1 === h.enableZoom && !1 === h.enablePan) return\r\n          !(function (e) {\r\n            h.enableZoom && Y(e), h.enablePan && F(e)\r\n          })(e),\r\n            h.update()\r\n          break\r\n        case m.TOUCH_DOLLY_ROTATE:\r\n          if (!1 === h.enableZoom && !1 === h.enableRotate) return\r\n          !(function (e) {\r\n            h.enableZoom && Y(e), h.enableRotate && j(e)\r\n          })(e),\r\n            h.update()\r\n          break\r\n        default:\r\n          u = m.NONE\r\n      }\r\n  }\r\n  function Q(e) {\r\n    !1 !== h.enabled && (h.dispatchEvent(d), (u = m.NONE))\r\n  }\r\n  function ee(e) {\r\n    !1 !== h.enabled && e.preventDefault()\r\n  }\r\n  h.domElement.addEventListener('contextmenu', ee, !1),\r\n    h.domElement.addEventListener('pointerdown', W, !1),\r\n    h.domElement.addEventListener('wheel', q, !1),\r\n    h.domElement.addEventListener('touchstart', K, !1),\r\n    h.domElement.addEventListener('touchend', Q, !1),\r\n    h.domElement.addEventListener('touchmove', Z, !1),\r\n    h.domElement.addEventListener('keydown', J, !1),\r\n    -1 === h.domElement.tabIndex && (h.domElement.tabIndex = 0),\r\n    this.update()\r\n}),\r\n  (THREE.OrbitControls.prototype = Object.create(\r\n    THREE.EventDispatcher.prototype\r\n  )),\r\n  (THREE.OrbitControls.prototype.constructor = THREE.OrbitControls),\r\n  (THREE.MapControls = function (e, t) {\r\n    THREE.OrbitControls.call(this, e, t),\r\n      (this.screenSpacePanning = !1),\r\n      (this.mouseButtons.LEFT = THREE.MOUSE.PAN),\r\n      (this.mouseButtons.RIGHT = THREE.MOUSE.ROTATE),\r\n      (this.touches.ONE = THREE.TOUCH.PAN),\r\n      (this.touches.TWO = THREE.TOUCH.DOLLY_ROTATE)\r\n  }),\r\n  (THREE.MapControls.prototype = Object.create(\r\n    THREE.EventDispatcher.prototype\r\n  )),\r\n  (THREE.MapControls.prototype.constructor = THREE.MapControls),\r\n  (Interaction.targets = new Set()),\r\n  (Interaction.prototype = {\r\n    constructor: Interaction,\r\n    newState: function (e) {\r\n      const t = new InteractionState()\r\n      return (\r\n        (t.name = e),\r\n        t.update(this.object),\r\n        (this.selectedState = this.states.length),\r\n        this.states.push(t),\r\n        t\r\n      )\r\n    },\r\n    addState: function (e, t) {\r\n      this.states.splice(t, 0, e)\r\n    },\r\n    removeState: function (e) {\r\n      this.selectedState === e && (this.selectedState = void 0),\r\n        this.states.splice(e, 1)\r\n    },\r\n    selectState: function (e) {\r\n      void 0 !== e && this.states[e].execute(this.object),\r\n        (this.selectedState = e)\r\n    },\r\n    getEventType: function (e) {\r\n      return this.events.find((t) => t.type === e)\r\n    },\r\n    hasEventType: function (e, t) {\r\n      return e === InteractionEvent.TYPE.KEY_DOWN ||\r\n        e === InteractionEvent.TYPE.KEY_UP\r\n        ? void 0 !== t && this.events.some((i) => i.type === e && i.key === t)\r\n        : this.events.some((t) => t.type === e)\r\n    },\r\n    newEvent: function () {\r\n      const e = InteractionEvent.ORDER.find((e) => !1 === this.hasEventType(e)),\r\n        t = new InteractionEvent(e)\r\n      return this.events.push(t), t\r\n    },\r\n    addEvent: function (e, t) {\r\n      this.events.splice(t, 0, e)\r\n      const i = this.events[t].targets\r\n      for (let e = 0, t = i.length; e < t; ++e)\r\n        void 0 !== i[e].object && Interaction.targets.add(i[e])\r\n    },\r\n    removeEvent: function (e) {\r\n      const t = this.events[e].targets\r\n      for (let e = 0, i = t.length; e < i; ++e)\r\n        void 0 !== t[e].object && Interaction.targets.delete(t[e])\r\n      this.events.splice(e, 1)\r\n    },\r\n    copy: function (e) {\r\n      this.selectedState = e.selectedState\r\n      for (let t = 0, i = e.states.length; t < i; ++t)\r\n        this.addState(e.states[t].clone(), t)\r\n      for (let t = 0, i = e.events.length; t < i; ++t) {\r\n        this.addEvent(e.events[t].clone(), t)\r\n        const i = e.events[t].targets\r\n        for (let r = 0, a = i.length; r < a; ++r) {\r\n          const a = i[r].clone()\r\n          i[r].object === e.object\r\n            ? ((a.object = this.object),\r\n              (a.state = this.states[e.states.indexOf(i[r].state)]))\r\n            : ((a.object = i[r].object), (a.state = i[r].state)),\r\n            this.events[t].addTarget(a, r)\r\n        }\r\n      }\r\n      return this\r\n    },\r\n    clone: function (e) {\r\n      return new Interaction(e).copy(this)\r\n    },\r\n    toJSON: function (e) {\r\n      const t = {}\r\n      if (\r\n        ((t.uuid = this.uuid),\r\n        void 0 !== this.selectedState && (t.selectedState = this.selectedState),\r\n        this.states.length > 0)\r\n      ) {\r\n        t.states = []\r\n        for (let a = 0, s = this.states.length; a < s; ++a)\r\n          t.states.push(\r\n            ((i = e.interactionStates),\r\n            (r = this.states[a]),\r\n            void 0 === i[r.uuid] && (i[r.uuid] = r.toJSON(e)),\r\n            r.uuid)\r\n          )\r\n      }\r\n      var i, r\r\n      if (this.events.length > 0) {\r\n        t.events = []\r\n        for (let i = 0, r = this.events.length; i < r; ++i)\r\n          t.events.push(this.events[i].toJSON(e))\r\n      }\r\n      return t\r\n    },\r\n    fromJSON: function (e, t, i) {\r\n      if (\r\n        ((this.uuid = e.uuid),\r\n        (this.selectedState = e.selectedState),\r\n        (this.states = []),\r\n        (this.events = []),\r\n        void 0 !== e.states)\r\n      )\r\n        for (let t = 0, r = e.states.length; t < r; ++t)\r\n          this.states.push(i[e.states[t]])\r\n      if (void 0 !== e.events)\r\n        for (let r = 0, a = e.events.length; r < a; ++r)\r\n          this.events.push(new InteractionEvent().fromJSON(e.events[r], t, i))\r\n      return this\r\n    },\r\n    start: function () {\r\n      if (\r\n        (void 0 !== this.animation &&\r\n          (this.animation.pause(),\r\n          (this.animation = void 0),\r\n          this._removeBackLayer()),\r\n        this.states.length > 1)\r\n      ) {\r\n        this.states[0].execute(this.object),\r\n          (this.currentState = this.states[0]),\r\n          (this.prevState = void 0)\r\n        const e = this.getEventType(InteractionEvent.TYPE.START)\r\n        void 0 !== e && e.targets.length > 0 && this.play(e.targets[0])\r\n      }\r\n    },\r\n    end: function () {\r\n      void 0 !== this.animation &&\r\n        (this.animation.pause(),\r\n        (this.animation = void 0),\r\n        this._removeBackLayer()),\r\n        this.states.length > 1 &&\r\n          this.states[this.selectedState].execute(this.object),\r\n        (this.currentState = void 0),\r\n        (this.prevState = void 0)\r\n    },\r\n    lookAt: function (e, t) {\r\n      const i = new THREE.Vector3(e, t, -600)\r\n      this.object.lookAt(i)\r\n    },\r\n    play: function (e) {\r\n      void 0 !== e.state && this.animate(e.state, e)\r\n    },\r\n    reverse: function (e) {\r\n      this.animate(this.prevState, e)\r\n    },\r\n    _removeBackLayer: function () {\r\n      if (void 0 !== this.object.material) {\r\n        const e = this.object.material\r\n        if (Array.isArray(e))\r\n          for (let t = 0, i = e.length; t < i; ++t) {\r\n            const i = e[t].layersList\r\n            let r = i.head\r\n            for (; r; )\r\n              if (r.backLayer) {\r\n                delete r.backLayer\r\n                const e = r.next\r\n                i.removeLayer(r.id), (r = e)\r\n              } else r.isBack ? (delete r.isBack, (r = r.next)) : (r = r.next)\r\n          }\r\n        else {\r\n          const t = e.layersList\r\n          let i = t.head\r\n          for (; i; )\r\n            for (; i; )\r\n              if (i.backLayer) {\r\n                delete i.backLayer\r\n                const e = i.next\r\n                t.removeLayer(i.id), (i = e)\r\n              } else i.isBack ? (delete i.isBack, (i = i.next)) : (i = i.next)\r\n        }\r\n      }\r\n    },\r\n    getTimingFunction: function (e, t, i) {\r\n      switch (e) {\r\n        case InteractionTarget.EASING.LINEAR:\r\n          return 'cubicBezier( 0, 0, 1, 1 )'\r\n        case InteractionTarget.EASING.EASE:\r\n          return 'cubicBezier( .25, .1, .25, 1 )'\r\n        case InteractionTarget.EASING.EASE_IN:\r\n          return 'cubicBezier( .42, 0, 1, 1 )'\r\n        case InteractionTarget.EASING.EASE_OUT:\r\n          return 'cubicBezier( 0, 0, .58, 1 )'\r\n        case InteractionTarget.EASING.EASE_IN_OUT:\r\n          return 'cubicBezier( .42, 0, .58, 1 )'\r\n        case InteractionTarget.EASING.CUBIC:\r\n          return `cubicBezier( ${t[0]}, ${t[1]}, ${t[2]}, ${t[3]} )`\r\n        case InteractionTarget.EASING.SPRING:\r\n          return `spring( ${i.mass}, ${i.stiffness}, ${i.damping}, ${i.velocity} )`\r\n      }\r\n    },\r\n    animate: function (e, t) {\r\n      this.currentState !== e &&\r\n        ((this.prevState = this.currentState), (this.currentState = e)),\r\n        void 0 !== this.animation && this.animation.pause(),\r\n        this._removeBackLayer(),\r\n        !0 === t.cycle && !0 === t.repeat\r\n          ? (this.animation = anime.timeline({\r\n              duration: t.duration,\r\n              delay: t.delay / 2,\r\n              endDelay: t.delay / 2,\r\n              direction: 'alternate',\r\n              loop: !0,\r\n              rewind: t.rewind,\r\n              easing: this.getTimingFunction(\r\n                t.easing,\r\n                t.cubicControls,\r\n                t.springParameters\r\n              )\r\n            }))\r\n          : !0 === t.cycle && !1 === t.repeat\r\n          ? (this.animation = anime.timeline({\r\n              duration: t.duration,\r\n              delay: t.delay,\r\n              endDelay: t.delay / 2,\r\n              direction: 'alternate',\r\n              rewind: t.rewind,\r\n              easing: this.getTimingFunction(\r\n                t.easing,\r\n                t.cubicControls,\r\n                t.springParameters\r\n              )\r\n            }))\r\n          : !1 === t.cycle && !0 === t.repeat\r\n          ? (this.animation = anime.timeline({\r\n              duration: t.duration,\r\n              delay: t.delay,\r\n              direction: 'normal',\r\n              loop: !0,\r\n              easing: this.getTimingFunction(\r\n                t.easing,\r\n                t.cubicControls,\r\n                t.springParameters\r\n              )\r\n            }))\r\n          : (this.animation = anime.timeline({\r\n              duration: t.duration,\r\n              delay: t.delay,\r\n              direction: 'normal',\r\n              easing: this.getTimingFunction(\r\n                t.easing,\r\n                t.cubicControls,\r\n                t.springParameters\r\n              )\r\n            })),\r\n        this.animation.finished.then(() => {\r\n          this._removeBackLayer()\r\n        }),\r\n        this.animateMatrix(e),\r\n        this.animateGeometry(e),\r\n        this.animateMaterial(e),\r\n        this.animateCamera(e)\r\n    },\r\n    animateMatrix: function (e) {\r\n      if (!1 === this.object.position.equals(e.position)) {\r\n        const t = this.object.position.clone(),\r\n          i = { t: 0 }\r\n        this.animation.add(\r\n          {\r\n            targets: i,\r\n            t: 1,\r\n            update: () => {\r\n              this.object.position.lerpVectors(t, e.position, i.t)\r\n            }\r\n          },\r\n          0\r\n        )\r\n      }\r\n      if (!1 === this.object.scale.equals(e.scale)) {\r\n        const t = this.object.scale.clone(),\r\n          i = { t: 0 }\r\n        this.animation.add(\r\n          {\r\n            targets: i,\r\n            t: 1,\r\n            update: () => {\r\n              this.object.scale.lerpVectors(t, e.scale, i.t)\r\n            }\r\n          },\r\n          0\r\n        )\r\n      }\r\n      if (!1 === this.object.rotation.equals(e.rotation)) {\r\n        const t = this.object.quaternion.clone(),\r\n          i = { t: 0 },\r\n          r = {\r\n            x: this.object.rotation.x - e.rotation.x,\r\n            y: this.object.rotation.y - e.rotation.y,\r\n            z: this.object.rotation.z - e.rotation.z\r\n          },\r\n          a = e.rotation.clone(),\r\n          s = 0.01 * THREE.Math.DEG2RAD,\r\n          n = 359.99 * THREE.Math.DEG2RAD\r\n        r.x === 2 * Math.PI\r\n          ? 0 === a.x\r\n            ? (a.x = s)\r\n            : a.x === 2 * Math.PI && (a.x = n)\r\n          : r.x === 2 * -Math.PI &&\r\n            (0 === a.x ? (a.x = -s) : a.x === 2 * Math.PI && (a.x = -n)),\r\n          r.y === 2 * Math.PI\r\n            ? 0 === a.y\r\n              ? (a.y = s)\r\n              : a.y === 2 * Math.PI && (a.y = n)\r\n            : r.y === 2 * -Math.PI &&\r\n              (0 === a.y ? (a.y = -s) : a.y === 2 * Math.PI && (a.y = -n)),\r\n          r.z === 2 * Math.PI\r\n            ? 0 === a.z\r\n              ? (a.z = s)\r\n              : a.z === 2 * Math.PI && (a.z = n)\r\n            : r.z === 2 * -Math.PI &&\r\n              (0 === a.z ? (a.z = -s) : a.z === 2 * Math.PI && (a.z = -n))\r\n        const o = new THREE.Quaternion().setFromEuler(a)\r\n        this.animation.add(\r\n          {\r\n            targets: i,\r\n            t: 1,\r\n            update: () => {\r\n              SPE.Math.slerp(t, o, this.object.quaternion, i.t)\r\n            }\r\n          },\r\n          0\r\n        )\r\n      }\r\n      const t = new THREE.Vector3(),\r\n        i = new THREE.Quaternion(),\r\n        r = new THREE.Vector3(),\r\n        a = new THREE.Vector3(),\r\n        s = new THREE.Quaternion(),\r\n        n = new THREE.Vector3(),\r\n        o = new THREE.Vector3(),\r\n        h = new THREE.Quaternion(),\r\n        l = new THREE.Vector3()\r\n      if (\r\n        (this.object.hiddenMatrix.decompose(t, i, r),\r\n        e.hiddenMatrix.decompose(a, s, n),\r\n        !1 === this.object.hiddenMatrix.equals(e.hiddenMatrix))\r\n      ) {\r\n        const e = { t: 0 }\r\n        this.animation.add(\r\n          {\r\n            targets: e,\r\n            t: 1,\r\n            update: () => {\r\n              THREE.Quaternion.slerp(i, s, h, e.t),\r\n                o.lerpVectors(t, a, e.t),\r\n                l.lerpVectors(r, n, e.t),\r\n                this.object.hiddenMatrix.compose(o, h, l)\r\n            }\r\n          },\r\n          0\r\n        )\r\n      }\r\n    },\r\n    animateGeometry: function (e) {\r\n      if (void 0 === this.object.geometry) return\r\n      const t = this.object.geometry.userData.parameters\r\n      ;(e.geometry.width === t.width &&\r\n        e.geometry.height === t.height &&\r\n        e.geometry.depth === t.depth) ||\r\n        this.animation.add(\r\n          {\r\n            targets: this.object.geometry.userData.parameters,\r\n            width: e.geometry.width,\r\n            height: e.geometry.height,\r\n            depth: e.geometry.depth,\r\n            update: () => {\r\n              const e = SPE[\r\n                this.object.geometry.userData.type\r\n              ].buildFromGeometry(this.object.geometry, {\r\n                width: t.width,\r\n                height: t.height,\r\n                depth: t.depth\r\n              })\r\n              this.object.updateGeometry(e)\r\n            }\r\n          },\r\n          0\r\n        )\r\n    },\r\n    animateMaterial: function (e) {\r\n      if (void 0 === this.object.material) return\r\n      const t = (e, t, i, r) => {\r\n          const a = e.layersList\r\n          for (\r\n            let e = 0, s = (r = void 0 !== r ? r : t.paramNames).length;\r\n            e < s;\r\n            ++e\r\n          ) {\r\n            const s = r[e],\r\n              n = `f${t.id}_${s}`,\r\n              o = `f${i.id}_${s}`,\r\n              h = t.uniforms[n],\r\n              l = i.uniforms[o]\r\n            'mode' !== s && 'boolean' != typeof h.value\r\n              ? 'number' != typeof h.value\r\n                ? h.value instanceof THREE.Vector2\r\n                  ? !1 === h.value.equals(l.value) &&\r\n                    this.animation.add(\r\n                      {\r\n                        targets: h.value,\r\n                        x: l.value.x,\r\n                        y: l.value.y,\r\n                        update: function () {\r\n                          a.updateLayerUniformByLayer(t, n)\r\n                        }\r\n                      },\r\n                      0\r\n                    )\r\n                  : h.value instanceof THREE.Vector3\r\n                  ? !1 === h.value.equals(l.value) &&\r\n                    this.animation.add(\r\n                      {\r\n                        targets: h.value,\r\n                        x: l.value.x,\r\n                        y: l.value.y,\r\n                        z: l.value.z,\r\n                        update: function () {\r\n                          a.updateLayerUniformByLayer(t, n)\r\n                        }\r\n                      },\r\n                      0\r\n                    )\r\n                  : h.value instanceof THREE.Color &&\r\n                    !1 === h.value.equals(l.value) &&\r\n                    this.animation.add(\r\n                      {\r\n                        targets: h.value,\r\n                        r: l.value.r,\r\n                        g: l.value.g,\r\n                        b: l.value.b,\r\n                        update: function () {\r\n                          a.updateLayerUniformByLayer(t, n)\r\n                        }\r\n                      },\r\n                      0\r\n                    )\r\n                : h.value !== l.value &&\r\n                  this.animation.add(\r\n                    {\r\n                      targets: h,\r\n                      value: l.value,\r\n                      update: function () {\r\n                        a.updateLayerUniformByLayer(t, n)\r\n                      }\r\n                    },\r\n                    0\r\n                  )\r\n              : h.value !== l.value &&\r\n                ((h.value = l.value), a.updateLayerUniformByLayer(t, n))\r\n          }\r\n          if (t.backLayer) {\r\n            const e = t.backLayer.id,\r\n              i = `f${e}_alpha`,\r\n              r = t.backLayer.uniforms[i]\r\n            this.animation.add(\r\n              {\r\n                targets: r,\r\n                value: 0,\r\n                update: function () {\r\n                  a.updateLayerUniform(e, i)\r\n                }\r\n              },\r\n              0\r\n            )\r\n          }\r\n        },\r\n        i = (e, t, i) => {\r\n          const r = e.layersList\r\n          if (void 0 === t.backLayer) {\r\n            const a = i.getValues()\r\n            ;(a.alpha = 0),\r\n              (t.backLayer = r.addLayerBeforeAt(a, t)),\r\n              (t.backLayer.isBack = !0),\r\n              e.dispose()\r\n          }\r\n          const a = `f${t.id}_alpha`,\r\n            s = `f${t.backLayer.id}_alpha`,\r\n            n = t.uniforms[a],\r\n            o = t.backLayer.uniforms[s]\r\n          this.animation\r\n            .add(\r\n              {\r\n                targets: n,\r\n                value: 0,\r\n                update: function () {\r\n                  r.updateLayerUniformByLayer(t, a)\r\n                }\r\n              },\r\n              0\r\n            )\r\n            .add(\r\n              {\r\n                targets: o,\r\n                value: i.uniforms[`f${i.id}_alpha`].value,\r\n                update: function () {\r\n                  r.updateLayerUniformByLayer(t.backLayer, s)\r\n                }\r\n              },\r\n              0\r\n            )\r\n        },\r\n        r = (e, i, r) => {\r\n          const a = e.layersList,\r\n            s = `f${i.id}_mat`,\r\n            n = `f${i.id}_texture`,\r\n            o = i.uniforms[n].value,\r\n            h = r.uniforms[`f${r.id}_texture`].value,\r\n            l = i.uniforms[`f${i.id}_crop`],\r\n            c = r.uniforms[`f${r.id}_crop`]\r\n          if (\r\n            (l.value !== c.value &&\r\n              ((l.value = c.value),\r\n              a.updateLayerUniformByLayer(i, `f${i.id}_crop`)),\r\n            (o.wrapS === h.wrapS && o.wrapT === h.wrapT) ||\r\n              ((o.wrapS = h.wrapS),\r\n              (o.wrapT = h.wrapT),\r\n              (o.needsUpdate = !0),\r\n              a.updateLayerUniform(i, n)),\r\n            !1 === o.matrix.equals(h.matrix))\r\n          ) {\r\n            const e = {\r\n              repeatX: o.repeat.x,\r\n              repeatY: o.repeat.y,\r\n              offsetX: o.offset.x,\r\n              offsetY: o.offset.y\r\n            }\r\n            this.animation.add(\r\n              {\r\n                targets: e,\r\n                repeatX: h.repeat.x,\r\n                repeatY: h.repeat.y,\r\n                offsetX: h.offset.x,\r\n                offsetY: h.offset.y,\r\n                update: function () {\r\n                  o.repeat.set(e.repeatX, e.repeatY),\r\n                    o.offset.set(e.offsetX, e.offsetY),\r\n                    o.updateMatrix(),\r\n                    a.updateLayerUniformByLayer(i, s)\r\n                }\r\n              },\r\n              0\r\n            )\r\n          }\r\n          t(e, i, r, ['alpha', 'mode'])\r\n        },\r\n        a = (e, i, r) => {\r\n          const a = e.layersList,\r\n            s = i.uniforms[`f${i.id}_num`],\r\n            n = r.uniforms[`f${r.id}_num`],\r\n            o = `f${i.id}_steps`,\r\n            h = `f${r.id}_steps`,\r\n            l = i.uniforms[o],\r\n            c = r.uniforms[h],\r\n            d = `f${i.id}_colors`,\r\n            m = `f${r.id}_colors`,\r\n            u = i.uniforms[d],\r\n            p = r.uniforms[m]\r\n          if (s.value <= n.value) {\r\n            const e = u.value[s.value - 1]\r\n            for (let t = s.value; t < n.value; ++t)\r\n              (l.value[t] = 1),\r\n                a.updateLayerUniformByLayer(i, d),\r\n                u.value[t].set(e.x, e.y, e.z, e.w),\r\n                a.updateLayerUniformByLayer(i, o)\r\n            s.value !== n.value &&\r\n              ((s.value = n.value),\r\n              a.updateLayerUniformByLayer(i, `f${i.id}_num`))\r\n            for (let e = 0; e < n.value; ++e) {\r\n              const t = u.value[e],\r\n                r = p.value[e]\r\n              if (l.value[e] !== c.value[e] || !1 === t.equals(r)) {\r\n                const s = { value: l.value[e] }\r\n                this.animation.add(\r\n                  {\r\n                    targets: [s, t],\r\n                    value: c.value[e],\r\n                    x: r.x,\r\n                    y: r.y,\r\n                    z: r.z,\r\n                    w: r.w,\r\n                    update: function () {\r\n                      ;(l.value[e] = s.value),\r\n                        a.updateLayerUniformByLayer(i, o),\r\n                        a.updateLayerUniformByLayer(i, d)\r\n                    }\r\n                  },\r\n                  0\r\n                )\r\n              }\r\n            }\r\n          } else {\r\n            const e = []\r\n            for (let t = 0; t < n.value; ++t) {\r\n              const r = u.value[t],\r\n                s = p.value[t]\r\n              ;(l.value[t] === c.value[t] && !1 !== r.equals(s)) ||\r\n                e.push(\r\n                  new Promise((e) => {\r\n                    const n = { value: l.value[t] }\r\n                    this.animation.add(\r\n                      {\r\n                        targets: [n, r],\r\n                        value: c.value[t],\r\n                        x: s.x,\r\n                        y: s.y,\r\n                        z: s.z,\r\n                        w: s.w,\r\n                        update: function () {\r\n                          ;(l.value[t] = n.value),\r\n                            a.updateLayerUniformByLayer(i, o),\r\n                            a.updateLayerUniformByLayer(i, d)\r\n                        },\r\n                        complete: function () {\r\n                          e(t)\r\n                        }\r\n                      },\r\n                      0\r\n                    )\r\n                  })\r\n                )\r\n            }\r\n            const t = p.value[n.value - 1]\r\n            for (let r = n.value; r < s.value; ++r) {\r\n              const s = u.value[r]\r\n              ;(l.value[r] === c.value[r] && !1 !== s.equals(t)) ||\r\n                e.push(\r\n                  new Promise((e) => {\r\n                    const n = { value: l.value[r] }\r\n                    this.animation.add(\r\n                      {\r\n                        targets: [n, s],\r\n                        value: 1,\r\n                        x: t.x,\r\n                        y: t.y,\r\n                        z: t.z,\r\n                        w: t.w,\r\n                        update: function () {\r\n                          ;(l.value[r] = n.value),\r\n                            a.updateLayerUniformByLayer(i, o),\r\n                            a.updateLayerUniformByLayer(i, d)\r\n                        },\r\n                        complete: function () {\r\n                          e(r)\r\n                        }\r\n                      },\r\n                      0\r\n                    )\r\n                  })\r\n                )\r\n            }\r\n            Promise.all(e).then(function () {\r\n              ;(s.value = n.value),\r\n                a.updateLayerUniformByLayer(i, `f${i.id}_num`)\r\n            })\r\n          }\r\n          t(e, i, r, [\r\n            'alpha',\r\n            'mode',\r\n            'gl_type',\r\n            'smooth',\r\n            'offset',\r\n            'morph',\r\n            'angle'\r\n          ])\r\n        }\r\n      function s(e, s) {\r\n        let n = e.layersList.head,\r\n          o = 0\r\n        for (; n; ) {\r\n          if (!0 === n.isBack) {\r\n            n = n.next\r\n            continue\r\n          }\r\n          const h = s.layersList[o++]\r\n          if ('texture' === n.type) {\r\n            const t = n.uniforms[`f${n.id}_texture`].value,\r\n              a = h.uniforms[`f${h.id}_texture`].value\r\n            t.image === a.image ? r(e, n, h) : i(e, n, h)\r\n          } else\r\n            'gradient' === n.type\r\n              ? n.uniforms[`f${n.id}_gl_type`].value ===\r\n                h.uniforms[`f${h.id}_gl_type`].value\r\n                ? a(e, n, h)\r\n                : i(e, n, h)\r\n              : t(e, n, h)\r\n          n = n.next\r\n        }\r\n      }\r\n      if (Array.isArray(this.object.material))\r\n        for (let t = 0, i = this.object.material.length; t < i; ++t)\r\n          s(this.object.material[t], e.material[t])\r\n      else s(this.object.material, e.material)\r\n    },\r\n    animateCamera: function (e) {\r\n      if (!this.object.isCamera) return\r\n      const t = this.object.isPerspectiveCamera\r\n        ? e.camera.zoomPersp\r\n        : e.camera.zoomOrtho\r\n      this.object.zoom !== t &&\r\n        this.animation.add(\r\n          {\r\n            targets: this.object,\r\n            zoom: t,\r\n            update: () => {\r\n              this.object.updateProjectionMatrix()\r\n            }\r\n          },\r\n          0\r\n        )\r\n    }\r\n  }),\r\n  (InteractionEvent.TYPE = {\r\n    MOUSE_DOWN: 0,\r\n    MOUSE_UP: 1,\r\n    MOUSE_HOVER: 2,\r\n    MOUSE_ENTER: 3,\r\n    MOUSE_LEAVE: 4,\r\n    KEY_DOWN: 5,\r\n    KEY_UP: 6,\r\n    START: 7,\r\n    LOOK_AT: 8,\r\n    SCROLL: 9\r\n  }),\r\n  (InteractionEvent.ORDER = [\r\n    InteractionEvent.TYPE.MOUSE_DOWN,\r\n    InteractionEvent.TYPE.MOUSE_UP,\r\n    InteractionEvent.TYPE.MOUSE_HOVER,\r\n    InteractionEvent.TYPE.KEY_DOWN\r\n  ]),\r\n  (InteractionEvent.prototype = {\r\n    constructor: InteractionEvent,\r\n    get type() {\r\n      return this._type\r\n    },\r\n    set type(e) {\r\n      ;(this._type = e),\r\n        e !== InteractionEvent.TYPE.KEY_DOWN &&\r\n          e !== InteractionEvent.TYPE.KEY_UP &&\r\n          (this.key = void 0)\r\n    },\r\n    newTarget: function (e) {\r\n      const t = new InteractionTarget()\r\n      return (\r\n        (t.object = e),\r\n        e.interaction.states.length > 0 &&\r\n          (t.state = e.interaction.states[e.interaction.states.length - 1]),\r\n        this.targets.push(t),\r\n        Interaction.targets.add(t),\r\n        t\r\n      )\r\n    },\r\n    addTarget: function (e, t) {\r\n      this.targets.splice(t, 0, e), Interaction.targets.add(e)\r\n    },\r\n    removeTarget: function (e) {\r\n      Interaction.targets.delete(this.targets[e]), this.targets.splice(e, 1)\r\n    },\r\n    dispatchReverse: function () {\r\n      for (let e = 0, t = this.targets.length; e < t; ++e) {\r\n        const t = this.targets[e]\r\n        void 0 !== t.state && t.object.interaction.reverse(t)\r\n      }\r\n    },\r\n    dispatch: function () {\r\n      for (let e = 0, t = this.targets.length; e < t; ++e) {\r\n        const t = this.targets[e]\r\n        void 0 !== t.state && t.object.interaction.play(t)\r\n      }\r\n    },\r\n    copy: function (e) {\r\n      return (this.ui.isCollapsed = e.ui.isCollapsed), this\r\n    },\r\n    clone: function () {\r\n      return new InteractionEvent(this.type, this.key).copy(this)\r\n    },\r\n    toJSON: function (e) {\r\n      const t = {\r\n        type: this._type,\r\n        key: this.key,\r\n        ui: { isCollapsed: this.ui.isCollapsed }\r\n      }\r\n      if (this.targets.length > 0) {\r\n        t.targets = []\r\n        for (let i = 0, r = this.targets.length; i < r; ++i)\r\n          t.targets.push(this.targets[i].toJSON(e))\r\n      }\r\n      return t\r\n    },\r\n    fromJSON: function (e, t, i) {\r\n      if (\r\n        ((this._type = e.type),\r\n        (this.key = e.key),\r\n        (this.targets = []),\r\n        (this.ui = { isCollapsed: e.ui.isCollapsed }),\r\n        void 0 !== e.targets)\r\n      )\r\n        for (let r = 0, a = e.targets.length; r < a; ++r)\r\n          this.addTarget(new InteractionTarget().fromJSON(e.targets[r], t, i))\r\n      return this\r\n    }\r\n  }),\r\n  (InteractionState.prototype = {\r\n    constructor: InteractionState,\r\n    update: function (e) {\r\n      this.updateMatrix(e),\r\n        this.updateGeometry(e),\r\n        this.updateMaterial(e),\r\n        this.updateCamera(e)\r\n    },\r\n    updateCamera(e) {\r\n      e.isCamera &&\r\n        (this.camera = {\r\n          zoomPersp: e.perspCamera.zoom,\r\n          zoomOrtho: e.orthoCamera.zoom\r\n        })\r\n    },\r\n    updateMatrix: function (e) {\r\n      this.position.copy(e.position),\r\n        this.rotation.copy(e.rotation),\r\n        this.scale.copy(e.scale),\r\n        this.hiddenMatrix.copy(e.hiddenMatrix)\r\n    },\r\n    updateGeometry: function (e) {\r\n      if (void 0 !== e.geometry) {\r\n        const t = e.geometry.userData.parameters\r\n        this.geometry = { width: t.width, height: t.height, depth: t.depth }\r\n      }\r\n    },\r\n    updateMaterial: function (e) {\r\n      if (void 0 !== e.material)\r\n        if (!0 === Array.isArray(e.material)) {\r\n          this.material = []\r\n          for (let t = 0, i = e.material.length; t < i; ++t) {\r\n            const i = []\r\n            let r = e.material[t].layersList.head\r\n            for (; r; ) i.push(r.clone()), (r = r.next)\r\n            this.material.push({ layersList: i })\r\n          }\r\n        } else {\r\n          const t = []\r\n          let i = e.material.layersList.head\r\n          for (; i; ) t.push(i.clone()), (i = i.next)\r\n          this.material = { layersList: t }\r\n        }\r\n    },\r\n    execute: function (e) {\r\n      if (\r\n        (e.position.copy(this.position),\r\n        e.rotation.copy(this.rotation),\r\n        e.scale.copy(this.scale),\r\n        e.hiddenMatrix.copy(this.hiddenMatrix),\r\n        void 0 !== e.geometry)\r\n      ) {\r\n        const t = e.geometry.userData.parameters\r\n        if (\r\n          this.geometry.width !== t.width ||\r\n          this.geometry.height !== t.height ||\r\n          this.geometry.depth !== t.depth\r\n        ) {\r\n          const t = SPE[e.geometry.userData.type].buildFromGeometry(\r\n            e.geometry,\r\n            {\r\n              width: this.geometry.width,\r\n              height: this.geometry.height,\r\n              depth: this.geometry.depth\r\n            }\r\n          )\r\n          e.updateGeometry(t)\r\n        }\r\n      }\r\n      if (void 0 !== e.material) {\r\n        const t = e.material\r\n        if (!0 === Array.isArray(t))\r\n          for (let e = 0, i = this.material.length; e < i; ++e) {\r\n            let i = t[e].layersList.head\r\n            const r = this.material[e].layersList\r\n            let a = 0\r\n            for (; i; ) i.copy(r[a++]), (i = i.next)\r\n            t[e].dispose()\r\n          }\r\n        else {\r\n          let e = t.layersList.head\r\n          const i = this.material.layersList\r\n          let r = 0\r\n          for (; e; ) e.copyUniforms(i[r++]), (e = e.next)\r\n          t.dispose()\r\n        }\r\n      }\r\n      this.camera &&\r\n        ((e.zoom = e.isPerspectiveCamera\r\n          ? this.camera.zoomPersp\r\n          : this.camera.zoomOrtho),\r\n        e.updateProjectionMatrix())\r\n    },\r\n    copy: function (e) {\r\n      if (\r\n        ((this.name = e.name),\r\n        this.position.copy(e.position),\r\n        this.rotation.copy(e.rotation),\r\n        this.scale.copy(e.scale),\r\n        this.hiddenMatrix.copy(e.hiddenMatrix),\r\n        void 0 !== e.geometry &&\r\n          (this.geometry = {\r\n            width: e.geometry.width,\r\n            height: e.geometry.height,\r\n            depth: e.geometry.depth\r\n          }),\r\n        void 0 !== e.material)\r\n      )\r\n        if (!0 === Array.isArray(e.material)) {\r\n          this.material = []\r\n          for (let t = 0, i = e.material.length; t < i; ++t)\r\n            this.material.push({\r\n              layersList: e.material[t].layersList.map((e) => e.clone())\r\n            })\r\n        } else\r\n          this.material = {\r\n            layersList: e.material.layersList.map((e) => e.clone())\r\n          }\r\n      return (\r\n        void 0 !== e.camera &&\r\n          (this.camera = {\r\n            zoomPersp: e.camera.zoomPersp,\r\n            zoomOrtho: e.camera.zoomOrtho\r\n          }),\r\n        this\r\n      )\r\n    },\r\n    clone: function () {\r\n      return new InteractionState().copy(this)\r\n    },\r\n    toJSON: function (e) {\r\n      const t = {\r\n        uuid: this.uuid,\r\n        name: this.name,\r\n        position: this.position.toArray(),\r\n        rotation: this.rotation.toArray(),\r\n        scale: this.scale.toArray(),\r\n        hiddenMatrix: this.hiddenMatrix.toArray()\r\n      }\r\n      if (\r\n        (void 0 !== this.geometry &&\r\n          (t.geometry = {\r\n            width: this.geometry.width,\r\n            height: this.geometry.height,\r\n            depth: this.geometry.depth\r\n          }),\r\n        void 0 !== this.material)\r\n      )\r\n        if (!0 === Array.isArray(this.material)) {\r\n          t.material = []\r\n          for (let i = 0, r = this.material.length; i < r; ++i)\r\n            t.material.push({\r\n              layersList: this.material[i].layersList.map((t) => t.toJSON(e))\r\n            })\r\n        } else\r\n          t.material = {\r\n            layersList: this.material.layersList.map((t) => t.toJSON(e))\r\n          }\r\n      return (\r\n        void 0 !== this.camera &&\r\n          (t.camera = {\r\n            zoomPersp: this.camera.zoomPersp,\r\n            zoomOrtho: this.camera.zoomOrtho\r\n          }),\r\n        t\r\n      )\r\n    },\r\n    fromJSON: function (e, t) {\r\n      if (\r\n        ((this.uuid = e.uuid),\r\n        (this.name = e.name),\r\n        this.position.fromArray(e.position),\r\n        void 0 !== e.rotation)\r\n      )\r\n        this.rotation.fromArray(e.rotation)\r\n      else {\r\n        const t = new THREE.Quaternion().fromArray(e.quaternion)\r\n        this.rotation.setFromQuaternion(t)\r\n      }\r\n      if (\r\n        (this.scale.fromArray(e.scale),\r\n        this.hiddenMatrix.fromArray(e.hiddenMatrix),\r\n        void 0 !== e.geometry &&\r\n          (this.geometry = {\r\n            width: e.geometry.width,\r\n            height: e.geometry.height,\r\n            depth: e.geometry.depth\r\n          }),\r\n        void 0 !== e.material)\r\n      )\r\n        if (!0 === Array.isArray(e.material)) {\r\n          this.material = []\r\n          for (let i = 0, r = e.material.length; i < r; ++i)\r\n            this.material.push({\r\n              layersList: e.material[i].layersList.map((e) =>\r\n                SPE.CreateLayerFromJSON(e, t)\r\n              )\r\n            })\r\n        } else\r\n          this.material = {\r\n            layersList: e.material.layersList.map((e) =>\r\n              SPE.CreateLayerFromJSON(e, t)\r\n            )\r\n          }\r\n      return (\r\n        void 0 !== e.camera &&\r\n          (this.camera = {\r\n            zoomPersp: e.camera.zoomPersp,\r\n            zoomOrtho: e.camera.zoomOrtho\r\n          }),\r\n        this\r\n      )\r\n    }\r\n  }),\r\n  (InteractionTarget.EASING = {\r\n    LINEAR: 0,\r\n    EASE: 1,\r\n    EASE_IN: 2,\r\n    EASE_OUT: 3,\r\n    EASE_IN_OUT: 4,\r\n    CUBIC: 5,\r\n    SPRING: 6\r\n  }),\r\n  (InteractionTarget.prototype = {\r\n    constructor: InteractionTarget,\r\n    get sp_mass() {\r\n      return this.springParameters.mass\r\n    },\r\n    set sp_mass(e) {\r\n      this.springParameters.mass = e\r\n    },\r\n    get sp_stiffness() {\r\n      return this.springParameters.stiffness\r\n    },\r\n    set sp_stiffness(e) {\r\n      this.springParameters.stiffness = e\r\n    },\r\n    get sp_damping() {\r\n      return this.springParameters.damping\r\n    },\r\n    set sp_damping(e) {\r\n      this.springParameters.damping = e\r\n    },\r\n    get sp_velocity() {\r\n      return this.springParameters.velocity\r\n    },\r\n    set sp_velocity(e) {\r\n      this.springParameters.velocity = e\r\n    },\r\n    get interaction() {\r\n      return void 0 !== this._object ? this._object.interaction : void 0\r\n    },\r\n    get object() {\r\n      return this._object\r\n    },\r\n    set object(e) {\r\n      if (void 0 !== e) {\r\n        const t = e.interaction.states\r\n        this.state = t.length > 0 ? t[t.length - 1] : void 0\r\n      } else this.state = void 0\r\n      this._object = e\r\n    },\r\n    copy: function (e) {\r\n      return (\r\n        (this.easing = e.easing),\r\n        (this.duration = e.duration),\r\n        (this.delay = e.delay),\r\n        (this.cubicControls = [...e.cubicControls]),\r\n        (this.springParameters = {\r\n          mass: e.springParameters.mass,\r\n          stiffness: e.springParameters.stiffness,\r\n          damping: e.springParameters.damping,\r\n          velocity: e.springParameters.velocity\r\n        }),\r\n        (this.repeat = e.repeat),\r\n        (this.cycle = e.cycle),\r\n        (this.rewind = e.rewind),\r\n        this\r\n      )\r\n    },\r\n    clone: function () {\r\n      return new InteractionTarget().copy(this)\r\n    },\r\n    toJSON: function () {\r\n      const e = {\r\n        easing: this.easing,\r\n        duration: this.duration,\r\n        delay: this.delay,\r\n        cubicControls: this.cubicControls,\r\n        springParameters: {\r\n          mass: this.springParameters.mass,\r\n          stiffness: this.springParameters.stiffness,\r\n          damping: this.springParameters.damping,\r\n          velocity: this.springParameters.velocity\r\n        },\r\n        repeat: this.repeat,\r\n        cycle: this.cycle,\r\n        rewind: this.rewind\r\n      }\r\n      return (\r\n        void 0 !== this.object && (e.object = this.object.uuid),\r\n        void 0 !== this.state && (e.state = this.state.uuid),\r\n        e\r\n      )\r\n    },\r\n    fromJSON: function (e, t, i) {\r\n      return (\r\n        void 0 !== e.object && (this._object = t[e.object]),\r\n        void 0 !== e.state && (this.state = i[e.state]),\r\n        (this.easing = e.easing),\r\n        (this.duration = e.duration),\r\n        (this.delay = e.delay),\r\n        (this.cubicControls = [...e.cubicControls]),\r\n        (this.repeat = e.repeat),\r\n        (this.cycle = e.cycle),\r\n        (this.rewind = void 0 !== e.rewind && e.rewind),\r\n        void 0 !== e.springControls\r\n          ? ((this.springParameters.mass = e.springControls[0]),\r\n            (this.springParameters.stiffness = e.springControls[1]),\r\n            (this.springParameters.damping = e.springControls[2]),\r\n            (this.springParameters.velocity = e.springControls[3]))\r\n          : ((this.springParameters.mass = e.springParameters.mass),\r\n            (this.springParameters.stiffness = e.springParameters.stiffness),\r\n            (this.springParameters.damping = e.springParameters.damping),\r\n            (this.springParameters.velocity = e.springParameters.velocity)),\r\n        this\r\n      )\r\n    }\r\n  }),\r\n  (InteractionStatesManager.prototype = {\r\n    updateObject() {\r\n      void 0 !== this.i.selectedState &&\r\n        this.i.states[this.i.selectedState].updateMatrix(this.i.object)\r\n    },\r\n    updateCamera() {\r\n      void 0 !== this.i.selectedState &&\r\n        (this.i.states[this.i.selectedState].updateMatrix(this.i.object),\r\n        this.i.states[this.i.selectedState].updateCamera(this.i.object))\r\n    },\r\n    updateGeometry() {\r\n      void 0 !== this.i.selectedState &&\r\n        (this.i.states[this.i.selectedState].updateMatrix(this.i.object),\r\n        this.i.states[this.i.selectedState].updateGeometry(this.i.object))\r\n    },\r\n    updateSceneGraph(e) {\r\n      const t = new THREE.Matrix4(),\r\n        i = new THREE.Matrix4()\r\n      e.updateWorldMatrix(!0, !1)\r\n      for (let r = 0, a = this.i.states.length; r < a; ++r) {\r\n        const a = this.i.states[r]\r\n        t.copy(e.matrixWorld).invert(),\r\n          null !== this.i.object.parent &&\r\n            (this.i.object.parent.updateWorldMatrix(!0, !1),\r\n            t.multiply(this.i.object.parent.matrixWorld)),\r\n          !0 === this.i.object.isLight\r\n            ? (i.compose(a.position, a.quaternion, a.scale),\r\n              i.premultiply(t),\r\n              i.decompose(a.position, a.quaternion, a.scale))\r\n            : a.hiddenMatrix.premultiply(t)\r\n      }\r\n    },\r\n    updateMaterialLayer(e) {\r\n      if (void 0 === this.i.selectedState) return\r\n      const t = this.i.object.userData.selectedMaterial\r\n      ;(void 0 !== t\r\n        ? this.i.states[this.i.selectedState].material[t]\r\n        : this.i.states[this.i.selectedState].material\r\n      ).layersList\r\n        .find((t) => t.id === e.id)\r\n        .copy(e)\r\n    },\r\n    pushMaterialLayer(e) {\r\n      if (0 !== this.i.states.length)\r\n        if (!0 === Array.isArray(this.i.object.material)) {\r\n          const t = this.i.object.userData.selectedMaterial\r\n          for (let i = 0, r = this.i.states.length; i < r; ++i) {\r\n            const r = e.clone()\r\n            this.i.selectedState !== i &&\r\n              (r.uniforms[`f${r.id}_alpha`].value = 0),\r\n              this.i.states[i].material[t].layersList.push(r)\r\n          }\r\n        } else\r\n          for (let t = 0, i = this.i.states.length; t < i; ++t) {\r\n            const i = e.clone()\r\n            this.i.selectedState !== t &&\r\n              (i.uniforms[`f${i.id}_alpha`].value = 0),\r\n              this.i.states[t].material.layersList.push(i)\r\n          }\r\n    },\r\n    popMaterialLayer() {\r\n      if (0 !== this.i.states.length)\r\n        if (!0 === Array.isArray(this.i.object.material)) {\r\n          const e = this.i.object.userData.selectedMaterial\r\n          for (let t = 0, i = this.i.states.length; t < i; ++t)\r\n            this.i.states[t].material[e].layersList.pop()\r\n        } else\r\n          for (let e = 0, t = this.i.states.length; e < t; ++e)\r\n            this.i.states[e].material.layersList.pop()\r\n    },\r\n    removeMaterialLayer(e) {\r\n      if (0 === this.i.states.length) return\r\n      let t = []\r\n      if (!0 === Array.isArray(this.i.object.material))\r\n        for (let i = 0, r = this.i.states.length; i < r; ++i) {\r\n          const r = this.i.object.userData.selectedMaterial,\r\n            a = this.i.states[i].material[r]\r\n          t.push({ layer: a.layersList[e] }), a.layersList.splice(e, 1)\r\n        }\r\n      else\r\n        for (let i = 0, r = this.i.states.length; i < r; ++i) {\r\n          const r = this.i.states[i].material\r\n          t.push({ layer: r.layersList[e] }), r.layersList.splice(e, 1)\r\n        }\r\n      return { states: t, pos: e }\r\n    },\r\n    restoreMaterialLayerRemoved(e) {\r\n      if (0 !== this.i.states.length)\r\n        if (!0 === Array.isArray(this.i.object.material))\r\n          for (let t = 0, i = this.i.states.length; t < i; ++t) {\r\n            const i = this.i.object.userData.selectedMaterial\r\n            this.i.states[t].material[i].layersList.splice(\r\n              e.pos,\r\n              0,\r\n              e.states[t].layer\r\n            )\r\n          }\r\n        else\r\n          for (let t = 0, i = this.i.states.length; t < i; ++t) {\r\n            this.i.states[t].material.layersList.splice(\r\n              e.pos,\r\n              0,\r\n              e.states[t].layer\r\n            )\r\n          }\r\n    },\r\n    changeMaterialLayer(e) {\r\n      if (0 === this.i.states.length) return\r\n      let t,\r\n        i = []\r\n      if (!0 === Array.isArray(this.i.object.material)) {\r\n        const r = this.i.object.userData.selectedMaterial,\r\n          a = this.i.states[this.i.selectedState].material[r].layersList\r\n        for (let i = 0, r = a.length; i < r; ++i)\r\n          if (a[i].id === e.id) {\r\n            t = i\r\n            break\r\n          }\r\n        for (let a = 0, s = this.i.states.length; a < s; ++a) {\r\n          const s = this.i.states[a].material[r].layersList[t],\r\n            n = e.clone()\r\n          this.i.selectedState !== a &&\r\n            (n.uniforms[`f${n.id}_alpha`].value =\r\n              s.uniforms[`f${s.id}_alpha`].value),\r\n            (this.i.states[a].material[r].layersList[t] = n),\r\n            i.push({ layer: s })\r\n        }\r\n      } else {\r\n        const r = this.i.states[this.i.selectedState].material.layersList\r\n        for (let i = 0, a = r.length; i < a; ++i)\r\n          if (r[i].id === e.id) {\r\n            t = i\r\n            break\r\n          }\r\n        for (let r = 0, a = this.i.states.length; r < a; ++r) {\r\n          const a = this.i.states[r].material.layersList[t],\r\n            s = e.clone()\r\n          this.i.selectedState !== r &&\r\n            (s.uniforms[`f${s.id}_alpha`].value =\r\n              a.uniforms[`f${a.id}_alpha`].value),\r\n            (this.i.states[r].material.layersList[t] = s),\r\n            i.push({ layer: a })\r\n        }\r\n      }\r\n      return { states: i, pos: t }\r\n    },\r\n    restoreMaterialLayerChanged(e) {\r\n      if (0 !== this.i.states.length)\r\n        if (!0 === Array.isArray(this.i.object.material)) {\r\n          const t = this.i.object.userData.selectedMaterial\r\n          for (let i = 0, r = this.i.states.length; i < r; ++i)\r\n            this.i.states[i].material[t].layersList[e.pos] = e.states[i].layer\r\n        } else\r\n          for (let t = 0, i = this.i.states.length; t < i; ++t)\r\n            this.i.states[t].material.layersList[e.pos] = e.states[t].layer\r\n    },\r\n    moveMaterialLayer(e, t) {\r\n      if (0 !== this.i.states.length)\r\n        if (!0 === Array.isArray(this.i.object.material)) {\r\n          const i = this.i.object.userData.selectedMaterial\r\n          for (let r = 0, a = this.i.states.length; r < a; ++r) {\r\n            const a = this.i.states[r].material[i].layersList,\r\n              s = a[e]\r\n            ;(a[e] = a[t]), (a[t] = s)\r\n          }\r\n        } else\r\n          for (let i = 0, r = this.i.states.length; i < r; ++i) {\r\n            const r = this.i.states[i].material.layersList,\r\n              a = r[e]\r\n            ;(r[e] = r[t]), (r[t] = a)\r\n          }\r\n    },\r\n    restoreMaterialLayerMoved(e, t) {\r\n      this.moveMaterialLayer(e, t)\r\n    },\r\n    setMaterialLayers(e) {\r\n      const t = []\r\n      if (Array.isArray(this.i.object.material)) {\r\n        const i = this.i.object.userData.selectedMaterial\r\n        for (let r = 0, a = this.i.states.length; r < a; ++r) {\r\n          const a = this.i.states[r].material[i]\r\n          t.push({ layersList: a.layersList })\r\n          let s = e.head\r\n          for (a.layersList = []; void 0 !== s; )\r\n            a.layersList.push(s.clone()), (s = s.next)\r\n        }\r\n      } else\r\n        for (let i = 0, r = this.i.states.length; i < r; ++i) {\r\n          const r = this.i.states[i].material\r\n          t.push({ layersList: r.layersList })\r\n          let a = e.head\r\n          for (r.layersList = []; void 0 !== a; )\r\n            r.layersList.push(a.clone()), (a = a.next)\r\n        }\r\n      return { states: t }\r\n    },\r\n    restoreMaterialLayersSet(e) {\r\n      if (Array.isArray(this.i.object.material)) {\r\n        const t = object.userData.selectedMaterial\r\n        for (let i = 0, r = this.i.states.length; i < r; ++i)\r\n          this.i.states[i].material[t].layersList = e.states[i].layersList\r\n      } else\r\n        for (let t = 0, i = this.i.states.length; t < i; ++t)\r\n          this.i.states[t].material.layersList = e.states[t].layersList\r\n    }\r\n  }),\r\n  (SPE.ConeGeometry = new (function () {\r\n    ;(this.build = function ({\r\n      width: e = 100,\r\n      height: t = e,\r\n      depth: i = e,\r\n      radialSegments: r = 32,\r\n      heightSegments: a = 32,\r\n      openEnded: s,\r\n      thetaStart: n,\r\n      thetaLength: o = 360,\r\n      cornerRadiusTop: h = 0,\r\n      cornerRadiusBottom: l = 0,\r\n      cornerSegments: c = 8\r\n    }) {\r\n      let d\r\n      return (\r\n        (e = Math.abs(e)),\r\n        (t = Math.abs(t)),\r\n        (i = Math.abs(i)),\r\n        (d =\r\n          h > 0 || l > 0 || o < 360\r\n            ? new SPE.CylinderGeometry.RoundedCylinderBufferGeometry(\r\n                0,\r\n                e / 2,\r\n                t,\r\n                r,\r\n                a,\r\n                s,\r\n                n,\r\n                (o * Math.PI) / 180,\r\n                h,\r\n                l,\r\n                c,\r\n                0,\r\n                !0\r\n              )\r\n            : new THREE.ConeBufferGeometry(e / 2, t, r, a, s)).scale(\r\n          1,\r\n          1,\r\n          i / e\r\n        ),\r\n        (d.userData = {\r\n          type: 'ConeGeometry',\r\n          parameters: {\r\n            width: e,\r\n            height: t,\r\n            depth: i,\r\n            radialSegments: r,\r\n            heightSegments: a,\r\n            openEnded: s,\r\n            thetaStart: n,\r\n            thetaLength: o,\r\n            cornerRadiusTop: h,\r\n            cornerRadiusBottom: l,\r\n            cornerSegments: c\r\n          }\r\n        }),\r\n        d\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          depth: r = e.userData.parameters.depth,\r\n          radialSegments: a = e.userData.parameters.radialSegments,\r\n          heightSegments: s = e.userData.parameters.heightSegments,\r\n          openEnded: n = e.userData.parameters.openEnded,\r\n          thetaStart: o = e.userData.parameters.thetaStart,\r\n          thetaLength: h = e.userData.parameters.thetaLength,\r\n          cornerRadiusTop: l = e.userData.parameters.cornerRadiusTop,\r\n          cornerRadiusBottom: c = e.userData.parameters.cornerRadiusBottom,\r\n          cornerSegments: d = e.userData.parameters.cornerSegments\r\n        }\r\n      ) {\r\n        return this.build({\r\n          width: t,\r\n          height: i,\r\n          depth: r,\r\n          radialSegments: a,\r\n          heightSegments: s,\r\n          openEnded: n,\r\n          thetaStart: o,\r\n          thetaLength: h,\r\n          cornerRadiusTop: l,\r\n          cornerRadiusBottom: c,\r\n          cornerSegments: d\r\n        })\r\n      })\r\n  })()),\r\n  (SPE.CubeGeometry = new (function () {\r\n    ;(this.build = function ({\r\n      width: e = 100,\r\n      height: t = e,\r\n      depth: i = e,\r\n      widthSegments: r = 1,\r\n      heightSegments: a = 1,\r\n      depthSegments: s = 1,\r\n      cornerRadius: n = 0,\r\n      cornerSegments: o = 8\r\n    }) {\r\n      let h\r\n      return (\r\n        (e = Math.abs(e)),\r\n        (t = Math.abs(t)),\r\n        (i = Math.abs(i)),\r\n        ((h =\r\n          0 == n\r\n            ? new THREE.BoxBufferGeometry(e, t, i, r, a, s)\r\n            : new RoundedBoxBufferGeometry(e, t, i, r, a, s, n, o)).userData = {\r\n          type: 'CubeGeometry',\r\n          parameters: {\r\n            width: e,\r\n            height: t,\r\n            depth: i,\r\n            widthSegments: r,\r\n            heightSegments: a,\r\n            depthSegments: s,\r\n            cornerRadius: n,\r\n            cornerSegments: o\r\n          }\r\n        }),\r\n        h\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          depth: r = e.userData.parameters.depth,\r\n          widthSegments: a = e.userData.parameters.widthSegments,\r\n          heightSegments: s = e.userData.parameters.heightSegments,\r\n          depthSegments: n = e.userData.parameters.depthSegments,\r\n          cornerRadius: o = e.userData.parameters.cornerRadius,\r\n          cornerSegments: h = e.userData.parameters.cornerSegments\r\n        }\r\n      ) {\r\n        return this.build({\r\n          width: t,\r\n          height: i,\r\n          depth: r,\r\n          widthSegments: a,\r\n          heightSegments: s,\r\n          depthSegments: n,\r\n          cornerRadius: o,\r\n          cornerSegments: h\r\n        })\r\n      })\r\n  })())\r\nconst pi2 = Math.PI / 2\r\nclass RoundedBoxBufferGeometry extends THREE.BufferGeometry {\r\n  constructor(e = 1, t = 1, i = 1, r = 1, a = 1, s = 1, n = 0, o = 4) {\r\n    const h = THREE.Vector3\r\n    super(),\r\n      (this.type = 'BoxBufferGeometry'),\r\n      (this.parameters = {\r\n        width: e,\r\n        height: t,\r\n        depth: i,\r\n        widthSegments: r,\r\n        heightSegments: a,\r\n        depthSegments: s,\r\n        cornerRadius: n,\r\n        cornerSegments: o\r\n      })\r\n    const l = this\r\n    ;(r = Math.floor(r)),\r\n      (a = Math.floor(a)),\r\n      (s = Math.floor(s)),\r\n      (o = Math.floor(o)),\r\n      (n = Math.min(n, e / 2, t / 2, i / 2))\r\n    const c = [],\r\n      d = [],\r\n      m = [],\r\n      u = []\r\n    let p = 0,\r\n      f = 0\r\n    function E(e, t, i, r, a, s, o, E, g, y, v) {\r\n      const _ = (s - 2 * n) / g,\r\n        S = (o - 2 * n) / y,\r\n        x = s / 2 - n,\r\n        b = o / 2 - n,\r\n        T = E / 2,\r\n        R = g + 1,\r\n        w = y + 1\r\n      let M = 0,\r\n        L = 0\r\n      const I = new h()\r\n      for (let s = 0; s < w; s++) {\r\n        const n = s * S - b\r\n        for (let o = 0; o < R; o++) {\r\n          const h = o * _ - x\r\n          ;(I[e] = h * r),\r\n            (I[t] = n * a),\r\n            (I[i] = T),\r\n            d.push(I.x, I.y, I.z),\r\n            (I[e] = 0),\r\n            (I[t] = 0),\r\n            (I[i] = E > 0 ? 1 : -1),\r\n            m.push(I.x, I.y, I.z),\r\n            u.push(o / g),\r\n            u.push(1 - s / y),\r\n            (M += 1)\r\n        }\r\n      }\r\n      for (let e = 0; e < y; e++)\r\n        for (let t = 0; t < g; t++) {\r\n          const i = p + t + R * e,\r\n            r = p + t + R * (e + 1),\r\n            a = p + (t + 1) + R * (e + 1),\r\n            s = p + (t + 1) + R * e\r\n          c.push(i, r, s), c.push(r, a, s), (L += 6)\r\n        }\r\n      l.addGroup(f, L, v), (f += L), (p += M)\r\n    }\r\n    function g(e, t, i, r, a, s, E, g, y, v, _) {\r\n      const S = (E - 2 * n) / v,\r\n        x = E / 2 - n,\r\n        b = g / 2 - n,\r\n        T = y / 2,\r\n        R = v + 1\r\n      let w = 0,\r\n        M = 0\r\n      const L = new h(),\r\n        I = new h()\r\n      for (let h = 0; h < o + 1; h++) {\r\n        const l = (h / o) * pi2,\r\n          c = Math.sin(l) * n,\r\n          p = (1 - Math.cos(l)) * n,\r\n          f = Math.sin(l),\r\n          E = Math.cos(l)\r\n        ;(L[t] = (b + c) * a),\r\n          (L[i] = (T - p) * s),\r\n          (I[e] = 0),\r\n          (I[t] = f * Math.sign(L[t])),\r\n          (I[i] = E * Math.sign(L[i]))\r\n        for (let t = 0; t < R; t++) {\r\n          const i = t * S - x\r\n          ;(L[e] = i * r),\r\n            d.push(L.x, L.y, L.z),\r\n            m.push(I.x, I.y, I.z),\r\n            u.push(t / v),\r\n            u.push(0),\r\n            (w += 1)\r\n        }\r\n      }\r\n      for (let e = 0; e < o; e++)\r\n        for (let t = 0; t < v; t++) {\r\n          const i = p + t + R * e,\r\n            r = p + t + R * (e + 1),\r\n            a = p + (t + 1) + R * (e + 1),\r\n            s = p + (t + 1) + R * e\r\n          c.push(i, r, s), c.push(r, a, s), (M += 6)\r\n        }\r\n      l.addGroup(f, M, _), (f += M), (p += w)\r\n    }\r\n    function y(r, a, s) {\r\n      const l = new h(),\r\n        f = new h(e / 2, t / 2, i / 2)\r\n      f.subScalar(n)\r\n      const E = [],\r\n        g =\r\n          r * a * s > 0\r\n            ? function (e, t, i) {\r\n                c.push(e, t, i)\r\n              }\r\n            : function (e, t, i) {\r\n                c.push(e, i, t)\r\n              }\r\n      for (let e = 0; e <= o; e++) {\r\n        const t = [],\r\n          i = pi2 * (1 - e / o),\r\n          h = Math.cos(i),\r\n          c = Math.sin(i)\r\n        let g = 0\r\n        for (var y = 0; y <= e; y++) {\r\n          const i = Math.cos(g),\r\n            o = Math.sin(g)\r\n          ;(l.x = h * i), (l.y = c), (l.z = h * o)\r\n          const E = f.clone().addScaledVector(l, n)\r\n          d.push(r * E.x, a * E.y, s * E.z),\r\n            m.push(r * l.x, a * l.y, s * l.z),\r\n            u.push(0, 0),\r\n            t.push(p++),\r\n            (g += pi2 / e)\r\n        }\r\n        E.push(t)\r\n      }\r\n      const v = E.length - 1\r\n      for (let e = 0; e < v; e++) {\r\n        const t = E[e],\r\n          i = E[e + 1],\r\n          r = t.length - 1\r\n        g(t[0], i[1], i[0])\r\n        for (let e = 1; e <= r; e++)\r\n          g(t[e - 1], t[e], i[e]), g(t[e], i[e + 1], i[e])\r\n      }\r\n    }\r\n    E('z', 'y', 'x', -1, -1, i, t, e, s, a, 0),\r\n      E('z', 'y', 'x', 1, -1, i, t, -e, s, a, 1),\r\n      E('x', 'z', 'y', 1, 1, e, i, t, r, s, 2),\r\n      E('x', 'z', 'y', 1, -1, e, i, -t, r, s, 3),\r\n      E('x', 'y', 'z', 1, -1, e, t, i, r, a, 4),\r\n      E('x', 'y', 'z', -1, -1, e, t, -i, r, a, 5),\r\n      n > 0 &&\r\n        (g('z', 'y', 'x', -1, -1, 1, i, t, e, s, 0),\r\n        g('z', 'y', 'x', 1, -1, -1, i, t, e, s, 1),\r\n        g('z', 'y', 'x', -1, 1, -1, i, t, e, s, 1),\r\n        g('z', 'y', 'x', 1, 1, 1, i, t, e, s, 0),\r\n        g('x', 'y', 'z', -1, -1, -1, e, t, i, r, 0),\r\n        g('x', 'y', 'z', 1, -1, 1, e, t, i, r, 1),\r\n        g('x', 'y', 'z', -1, 1, 1, e, t, i, r, 0),\r\n        g('x', 'y', 'z', 1, 1, -1, e, t, i, r, 1),\r\n        g('y', 'x', 'z', -1, -1, 1, t, e, i, a, 0),\r\n        g('y', 'x', 'z', 1, -1, -1, t, e, i, a, 1),\r\n        g('y', 'x', 'z', 1, 1, 1, t, e, i, a, 1),\r\n        g('y', 'x', 'z', -1, 1, -1, t, e, i, a, 0),\r\n        y(1, 1, 1),\r\n        y(-1, 1, 1),\r\n        y(1, -1, 1),\r\n        y(-1, -1, 1),\r\n        y(1, 1, -1),\r\n        y(-1, 1, -1),\r\n        y(1, -1, -1),\r\n        y(-1, -1, -1)),\r\n      this.setIndex(c),\r\n      this.setAttribute('position', new THREE.Float32BufferAttribute(d, 3)),\r\n      this.setAttribute('normal', new THREE.Float32BufferAttribute(m, 3)),\r\n      this.setAttribute('uv', new THREE.Float32BufferAttribute(u, 2))\r\n  }\r\n}\r\n\r\nfunction flip(e) {\r\n  return new THREE.Vector2(e.y, -e.x)\r\n}\r\nSPE.CylinderGeometry = new (function () {\r\n  ;(this.build = function ({\r\n    width: e = 100,\r\n    height: t = e,\r\n    depth: i = e,\r\n    radiusTop: r = e / 2,\r\n    radiusBottom: a = e / 2,\r\n    radialSegments: s = 64,\r\n    heightSegments: n = 1,\r\n    openEnded: o = !1,\r\n    thetaStart: h,\r\n    thetaLength: l = 360,\r\n    cornerRadius: c = 0,\r\n    cornerSegments: d = 8,\r\n    hollow: m = 0\r\n  }) {\r\n    ;(e = Math.abs(e)), (t = Math.abs(t)), (i = Math.abs(i))\r\n    let u = e / 2\r\n    if (r === a) (r = u), (a = u)\r\n    else if (r > a) a = (a * u) / (r = u)\r\n    else (r = (r * u) / a), (a = u)\r\n    let p = new RoundedCylinderBufferGeometry(\r\n      r,\r\n      a,\r\n      t,\r\n      s,\r\n      n,\r\n      o,\r\n      h,\r\n      (l * Math.PI) / 180,\r\n      c,\r\n      c,\r\n      d,\r\n      m\r\n    )\r\n    return (\r\n      p.scale(1, 1, i / e),\r\n      (p.userData = {\r\n        type: 'CylinderGeometry',\r\n        parameters: {\r\n          width: e,\r\n          height: t,\r\n          depth: i,\r\n          radiusTop: r,\r\n          radiusBottom: a,\r\n          radialSegments: s,\r\n          heightSegments: n,\r\n          openEnded: o,\r\n          thetaStart: h,\r\n          thetaLength: l,\r\n          cornerRadius: c,\r\n          cornerSegments: d,\r\n          hollow: m\r\n        }\r\n      }),\r\n      p\r\n    )\r\n  }),\r\n    (this.buildFromGeometry = function (\r\n      e,\r\n      {\r\n        width: t = e.userData.parameters.width,\r\n        height: i = e.userData.parameters.height,\r\n        depth: r = e.userData.parameters.depth,\r\n        radiusTop: a = e.userData.parameters.radiusTop,\r\n        radiusBottom: s = e.userData.parameters.radiusBottom,\r\n        radialSegments: n = e.userData.parameters.radialSegments,\r\n        heightSegments: o = e.userData.parameters.heightSegments,\r\n        openEnded: h = e.userData.parameters.openEnded,\r\n        thetaStart: l = e.userData.parameters.thetaStart,\r\n        thetaLength: c = e.userData.parameters.thetaLength,\r\n        cornerRadius: d = e.userData.parameters.cornerRadius,\r\n        cornerSegments: m = e.userData.parameters.cornerSegments,\r\n        hollow: u = e.userData.parameters.hollow\r\n      }\r\n    ) {\r\n      return this.build({\r\n        width: t,\r\n        height: i,\r\n        depth: r,\r\n        radiusTop: a,\r\n        radiusBottom: s,\r\n        radialSegments: n,\r\n        heightSegments: o,\r\n        openEnded: h,\r\n        thetaStart: l,\r\n        thetaLength: c,\r\n        cornerRadius: d,\r\n        cornerSegments: m,\r\n        hollow: u\r\n      })\r\n    })\r\n})()\r\nclass RoundedCylinderBufferGeometry extends THREE.BufferGeometry {\r\n  constructor(e, t, i, r, a, s, n, o, h, l, c, d, m = !1) {\r\n    super(),\r\n      (this.type = 'RoundedCylinderBufferGeometry'),\r\n      (this.parameters = {\r\n        radiusTop: e,\r\n        radiusBottom: t,\r\n        height: i,\r\n        radialSegments: r,\r\n        heightSegments: a,\r\n        openEnded: s,\r\n        thetaStart: n,\r\n        thetaLength: o,\r\n        cornerRadius: h,\r\n        cornerRadius: l,\r\n        cornerSegments: c,\r\n        hollow: d\r\n      })\r\n    var u = THREE.Vector2,\r\n      p = THREE.Vector3,\r\n      f = THREE.Float32BufferAttribute\r\n    ;(e = void 0 !== e ? e : 1),\r\n      (t = void 0 !== t ? t : 1),\r\n      (i = i || 1),\r\n      (r = Math.floor(r) || 8),\r\n      (a = Math.floor(a) || 1),\r\n      (s = void 0 !== s && s),\r\n      (n = void 0 !== n ? n : 0),\r\n      (o = void 0 !== o ? o : 2 * Math.PI),\r\n      s && ((h = 0), (l = 0))\r\n    const E = [],\r\n      g = [],\r\n      y = [],\r\n      v = []\r\n    let _ = 0\r\n    const S = i / 2\r\n    const x = new p(),\r\n      b = new p()\r\n    m && 0 == e && (e = h), m && 0 == t && (t = l)\r\n    let T = new u(e, S),\r\n      R = new u(t, -S),\r\n      w = null,\r\n      M = null,\r\n      L = null,\r\n      I = null,\r\n      P = T.clone().sub(R),\r\n      H = 0,\r\n      A = 0,\r\n      C = 0\r\n    d > 0 && ((H = Math.min(e, t) * (1 - d)), (A = e - H), (C = t - H))\r\n    const D = T.clone()\r\n    D.x -= H\r\n    const O = Math.PI - P.angle(),\r\n      $ = P.angle(),\r\n      U = Math.tan($ / 2),\r\n      B = Math.tan(O / 2),\r\n      G = U + B,\r\n      N = d ? G : B,\r\n      z = d ? G : U\r\n    if (\r\n      ((h = Math.min(h, (e - A) / N, P.length() / G)),\r\n      (l = Math.min(l, (t - C) / z, P.length() / G)),\r\n      h > 0)\r\n    ) {\r\n      const e = h / U\r\n      ;(w = T.clone().sub(new u(e, h))),\r\n        d && ((L = w.clone()).x -= H - G * h),\r\n        T.sub(P.clone().setLength(e))\r\n    }\r\n    if (l > 0) {\r\n      const e = l / B\r\n      ;(M = R.clone().sub(new u(e, -l))),\r\n        R.add(P.clone().setLength(e)),\r\n        d && (((I = M.clone()).x -= H - G * l), D.sub(P.clone().setLength(e)))\r\n    }\r\n    const V = (P = T.clone().sub(R)).length() < 0.5,\r\n      j = []\r\n    for (let c = 0; c <= r; c++) {\r\n      const m = [],\r\n        p = c / r,\r\n        f = p * o + n,\r\n        E = new u(Math.sin(f), Math.cos(f))\r\n      I\r\n        ? (F(m, p, E, O, l, I, -1, !0), F(m, p, E, $, l, M, -1, !1))\r\n        : M\r\n        ? (Y(m, E, M.x, 0, -1), F(m, p, E, $, l, M, -1, !1))\r\n        : s || Y(m, E, t, C, -1)\r\n      const S = flip(P).normalize()\r\n      if ((two2three(S, E, x), !V))\r\n        for (let e = 0; e <= a; e++) {\r\n          const t = e / a,\r\n            r = P.clone().multiplyScalar(t).add(R)\r\n          two2three(r, E, b),\r\n            g.push(b.x, b.y, b.z),\r\n            y.push(x.x, x.y, x.z),\r\n            v.push(p, 0.5 + b.y / i),\r\n            m.push(_++)\r\n        }\r\n      if (\r\n        (L\r\n          ? (F(m, p, E, O, h, w, 1, !1), F(m, p, E, $, h, L, 1, !0))\r\n          : w\r\n          ? (F(m, p, E, O, h, w, 1, !1), Y(m, E, w.x, 0, 1))\r\n          : s || Y(m, E, e, A, 1),\r\n        d && !V)\r\n      ) {\r\n        const e = flip(P).multiplyScalar(-1).normalize()\r\n        two2three(e, E, x)\r\n        for (let e = 0; e <= a; e++) {\r\n          const t = e / a,\r\n            r = P.clone().multiplyScalar(-t).add(D)\r\n          two2three(r, E, b),\r\n            g.push(b.x, b.y, b.z),\r\n            y.push(x.x, x.y, x.z),\r\n            v.push(p, 0.5 + b.y / i),\r\n            m.push(_++)\r\n        }\r\n      }\r\n      d && !s && m.push(m[0]), j.push(m)\r\n    }\r\n    for (let e = 0; e < j.length - 1; e++)\r\n      for (let t = 0; t < j[0].length - 1; t++) {\r\n        if (s && d && t == a) continue\r\n        const i = j[e][t],\r\n          r = j[e + 1][t],\r\n          n = j[e + 1][t + 1],\r\n          o = j[e][t + 1],\r\n          h = g[3 * n + 0],\r\n          l = g[3 * n + 2]\r\n        E.push(i, r, o), (0 == h && 0 == l) || E.push(r, n, o)\r\n      }\r\n    function F(e, t, r, a, s, n, o, h) {\r\n      for (let l = 0; l < c + 1; l++) {\r\n        const d = l / c\r\n        let m = o < 0 ? d : 1 - d\r\n        h && (m -= 1), (m *= a)\r\n        const p = new u(Math.sin(m), Math.cos(m) * o),\r\n          f = p.clone().multiplyScalar(s).add(n)\r\n        two2three(f, r, b),\r\n          g.push(b.x, b.y, b.z),\r\n          two2three(p, r, x),\r\n          y.push(x.x, x.y, x.z),\r\n          v.push(t, 0.5 + b.y / i),\r\n          e.push(_++)\r\n      }\r\n    }\r\n    function Y(e, t, i, r, a) {\r\n      const s = new p(),\r\n        n = new u(),\r\n        o = [i, r]\r\n      a < 0 && o.reverse()\r\n      for (const i of o)\r\n        n.set(i, S * a),\r\n          two2three(n, t, s),\r\n          g.push(s.x, s.y, s.z),\r\n          y.push(0, a, 0),\r\n          v.push(0.5, 0.5),\r\n          e.push(_++)\r\n    }\r\n    function W(i, r, a) {\r\n      const s = new u(Math.sin(a), Math.cos(a)),\r\n        n = new u(-Math.cos(a), Math.sin(a)),\r\n        o = new p(),\r\n        h = i < 0 ? (e, t, i) => E.push(e, t, i) : (e, t, i) => E.push(e, i, t),\r\n        l = new u((e + t + A + C) / 4, 0)\r\n      two2three(l, s, o),\r\n        g.push(o.x, o.y, o.z),\r\n        y.push(n.x, 0, n.y),\r\n        v.push(0.5, 0.5)\r\n      const c = _++\r\n      for (const e of r) {\r\n        const t = g.slice(3 * e, 3 * e + 3)\r\n        g.push(...t), y.push(n.x, 0, n.y)\r\n        const i = v.slice(2 * e, 2 * e + 2)\r\n        v.push(...i), _++\r\n      }\r\n      for (let e = c + 1; e < _ - 1; e++) h(c, e, e + 1)\r\n      h(c, _ - 1, c + 1)\r\n    }\r\n    o < 2 * Math.PI && (W(-1, j[0], n), W(1, j[j.length - 1], n + o)),\r\n      this.setIndex(E),\r\n      this.setAttribute('position', new f(g, 3)),\r\n      this.setAttribute('normal', new f(y, 3)),\r\n      this.setAttribute('uv', new f(v, 2))\r\n  }\r\n}\r\nfunction two2three(e, t, i) {\r\n  ;(i.x = e.x * t.x), (i.y = e.y), (i.z = e.x * t.y)\r\n}\r\nfunction offset3d(e, t, i, r, a, s) {\r\n  const n = t.clone().sub(e),\r\n    o = i.clone().sub(e),\r\n    h = n.angleTo(o)\r\n  if ((n.normalize(), o.normalize(), r === a)) {\r\n    const t = n.add(o).normalize()\r\n    s.copy(e).addScaledVector(t, r / Math.sin(h / 2))\r\n  } else {\r\n    const t = n.angleTo(o)\r\n    s.copy(e),\r\n      s.addScaledVector(n, a / Math.sin(t)),\r\n      s.addScaledVector(o, r / Math.sin(t))\r\n  }\r\n}\r\nfunction projectOntoLine(e, t, i) {\r\n  const r = e.clone().sub(t),\r\n    a = i.clone().sub(t)\r\n  return r.projectOnVector(a), r.add(t)\r\n}\r\nfunction intersectLines(e, t, i, r) {\r\n  const a = e.clone().sub(i),\r\n    s = r.clone().sub(i),\r\n    n = t.clone().sub(e)\r\n  if (\r\n    s.manhattanLength() <= 3 * Number.Epsilon ||\r\n    n.manhattanLength() <= 3 * Number.Epsilon\r\n  )\r\n    return !1\r\n  const o = a.dot(s),\r\n    h = s.dot(n),\r\n    l = a.dot(n),\r\n    c = n.dot(n),\r\n    d = s.dot(s),\r\n    m = c * d - h * h\r\n  if (Math.abs(m) <= Number.Epsilon) return !1\r\n  const u = (o * h - l * d) / m,\r\n    p = (o + h * u) / d,\r\n    f = e.clone().addScaledVector(n, u),\r\n    E = i.clone().addScaledVector(s, p)\r\n  return !(f.distanceToSquared(E) > Number.Epsilon) && f\r\n}\r\n;(SPE.CylinderGeometry.RoundedCylinderBufferGeometry = RoundedCylinderBufferGeometry),\r\n  (SPE.EllipseGeometry = new (function () {\r\n    ;(this.build = function ({\r\n      width: e = 100,\r\n      height: t = e,\r\n      spikes: i = 128,\r\n      angle: r = 360,\r\n      innerRadius: a = 0\r\n    }) {\r\n      let s\r\n      if (a > 0) {\r\n        let n = 0.5 * e,\r\n          o = (a * n) / 100\r\n        ;(s = new THREE.RingBufferGeometry(\r\n          o,\r\n          n,\r\n          i,\r\n          1,\r\n          Math.PI / 2,\r\n          (r * Math.PI) / 180\r\n        )).scale(1, Math.abs(t) / Math.abs(e), 1)\r\n      } else {\r\n        let a = !0,\r\n          n = 0.5 * (e = Math.abs(e)),\r\n          o = 0.5 * (t = Math.abs(t)),\r\n          h = 0,\r\n          l = 0,\r\n          c = (((r * Math.PI) / 180) * (a ? -1 : 1)) / i,\r\n          d = new THREE.Shape()\r\n        for (let e = 0; e <= i; e++) {\r\n          let t = c * e,\r\n            i = h + Math.sin(t) * n,\r\n            r = l + Math.cos(t) * o\r\n          d.lineTo(i, r)\r\n        }\r\n        360 === r && (d.curves = d.curves.slice(1)),\r\n          (s = new THREE.ShapeBufferGeometry(d)),\r\n          SPE.Math.fixUvs(s, e, t)\r\n      }\r\n      return (\r\n        (s.userData = {\r\n          type: 'EllipseGeometry',\r\n          parameters: {\r\n            width: e,\r\n            height: t,\r\n            depth: 0,\r\n            spikes: i,\r\n            angle: r,\r\n            innerRadius: a\r\n          }\r\n        }),\r\n        s\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          spikes: r = e.userData.parameters.spikes,\r\n          angle: a = e.userData.parameters.angle,\r\n          innerRadius: s = e.userData.parameters.innerRadius\r\n        }\r\n      ) {\r\n        return this.build({\r\n          width: t,\r\n          height: i,\r\n          spikes: r,\r\n          angle: a,\r\n          innerRadius: s\r\n        })\r\n      })\r\n  })()),\r\n  (SPE.IcosahedronGeometry = new (function () {\r\n    ;(this.build = function ({\r\n      width: e = 100,\r\n      height: t = e,\r\n      depth: i = e,\r\n      detail: r = 0\r\n    }) {\r\n      ;(e = Math.abs(e)), (t = Math.abs(t)), (i = Math.abs(i))\r\n      let a = new THREE.IcosahedronBufferGeometry(0.5 * e, r)\r\n      return (\r\n        a.scale(1, t / e, i / e),\r\n        (a.userData = {\r\n          type: 'IcosahedronGeometry',\r\n          parameters: { width: e, height: t, depth: i, detail: r }\r\n        }),\r\n        a\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          depth: r = e.userData.parameters.depth,\r\n          detail: a = e.userData.parameters.detail\r\n        }\r\n      ) {\r\n        return this.build({ width: t, height: i, depth: r, detail: a })\r\n      })\r\n  })()),\r\n  (SPE.PolygonGeometry = new (function () {\r\n    ;(this.build = function ({\r\n      width: e = 100,\r\n      height: t = e,\r\n      spikes: i = 5,\r\n      cornerRadius: r = 0,\r\n      extrudeDepth: a = 0,\r\n      extrudeBevelSize: s = 0,\r\n      extrudeBevelSegments: n = 1\r\n    }) {\r\n      let o,\r\n        h = 0.5 * (e = Math.abs(e)),\r\n        l = 0.5 * (t = Math.abs(t)),\r\n        c = (2 * Math.PI) / i,\r\n        d = new THREE.Shape()\r\n      for (let e = 0; e <= i; e++) {\r\n        let t = c * e,\r\n          i = 0 + Math.sin(t) * h,\r\n          r = 0 + Math.cos(t) * l\r\n        d.lineTo(i, r)\r\n      }\r\n      return (\r\n        0 !== r && SPE.Geometry.Utils.roundShapePolygon(d, d.getPoints(), r),\r\n        ((o =\r\n          a > 0\r\n            ? new THREE.ExtrudeBufferGeometry(d, {\r\n                curveSegments: 64,\r\n                steps: 1,\r\n                depth: a,\r\n                bevelEnabled: !0,\r\n                bevelThickness: s,\r\n                bevelSize: s,\r\n                bevelOffset: 0,\r\n                bevelSegments: n\r\n              })\r\n            : new THREE.ShapeBufferGeometry(d, 32)).userData = {\r\n          type: 'PolygonGeometry',\r\n          parameters: {\r\n            width: e,\r\n            height: t,\r\n            depth: 0,\r\n            spikes: i,\r\n            cornerRadius: r,\r\n            extrudeDepth: a,\r\n            extrudeBevelSize: s,\r\n            extrudeBevelSegments: n\r\n          }\r\n        }),\r\n        SPE.Math.fixUvs(o, e, t),\r\n        o\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          spikes: r = e.userData.parameters.spikes,\r\n          cornerRadius: a = e.userData.parameters.cornerRadius,\r\n          extrudeDepth: s = e.userData.parameters.extrudeDepth,\r\n          extrudeBevelSize: n = e.userData.parameters.extrudeBevelSize,\r\n          extrudeBevelSegments: o = e.userData.parameters.extrudeBevelSegments\r\n        }\r\n      ) {\r\n        return this.build({\r\n          width: t,\r\n          height: i,\r\n          spikes: r,\r\n          cornerRadius: a,\r\n          extrudeDepth: s,\r\n          extrudeBevelSize: n,\r\n          extrudeBevelSegments: o\r\n        })\r\n      })\r\n  })()),\r\n  (SPE.PyramidGeometry = new (function () {\r\n    ;(this.build = function ({\r\n      width: e = 100,\r\n      height: t = e,\r\n      depth: i = e,\r\n      radialSegments: r = 4,\r\n      heightSegments: a = 1,\r\n      openEnded: s,\r\n      cornerRadius: n = 0,\r\n      cornerSegments: o = 8\r\n    }) {\r\n      ;(e = Math.abs(e)), (t = Math.abs(t)), (i = Math.abs(i))\r\n      let h = new RoundedPyramidBufferGeometry(0.5 * e, t, r, a, s, n, o)\r\n      return (\r\n        h.scale(1, 1, i / e),\r\n        (h.userData = {\r\n          type: 'PyramidGeometry',\r\n          parameters: {\r\n            width: e,\r\n            height: t,\r\n            depth: i,\r\n            radialSegments: r,\r\n            heightSegments: a,\r\n            openEnded: s,\r\n            cornerRadius: n,\r\n            cornerSegments: o\r\n          }\r\n        }),\r\n        h\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          depth: r = e.userData.parameters.depth,\r\n          radialSegments: a = e.userData.parameters.radialSegments,\r\n          heightSegments: s = e.userData.parameters.heightSegments,\r\n          openEnded: n = e.userData.parameters.openEnded,\r\n          cornerRadius: o = e.userData.parameters.cornerRadius,\r\n          cornerSegments: h = e.userData.parameters.cornerSegments\r\n        }\r\n      ) {\r\n        return this.build({\r\n          width: t,\r\n          height: i,\r\n          depth: r,\r\n          radialSegments: a,\r\n          heightSegments: s,\r\n          openEnded: n,\r\n          cornerRadius: o,\r\n          cornerSegments: h\r\n        })\r\n      })\r\n  })())\r\nclass RoundedPyramidBufferGeometry extends THREE.BufferGeometry {\r\n  constructor(e = 0.5, t = 1, i = 4, r = 1, a = !1, s = 0, n = 4) {\r\n    const o = THREE.Vector2,\r\n      h = THREE.Vector3\r\n    super(),\r\n      (this.type = 'RoundedPyramidBufferGeometry'),\r\n      (this.parameters = {\r\n        radius: e,\r\n        height: t,\r\n        radialSegments: i,\r\n        heightSegments: r,\r\n        openEnded: a,\r\n        cornerRadius: s,\r\n        cornerSegments: n\r\n      })\r\n    ;(i = Math.floor(Math.max(3, i))), (r = Math.floor(r)), (n = Math.floor(n))\r\n    const l = [],\r\n      c = [],\r\n      d = [],\r\n      m = []\r\n    let u = 0\r\n    const p = t / 2,\r\n      f = Math.PI / i,\r\n      E = e * Math.cos(Math.PI / i),\r\n      g = (2 * Math.PI) / i,\r\n      y = ((i - 2) * Math.PI) / i,\r\n      v = Math.PI - y,\r\n      _ = new h(0, -p, 0),\r\n      S = new h(0, p, 0),\r\n      x = new o(e, -p),\r\n      b = new o(E, -p),\r\n      T = new o().copy(S).sub(b),\r\n      R = new o().copy(S).sub(x),\r\n      w = new o(T.y, -T.x).normalize(),\r\n      M = new o(R.y, -R.x).normalize(),\r\n      L = e * Math.cos(Math.PI / i) * Math.tan((Math.PI - T.angle()) / 2) - 1e-8\r\n    let I\r\n    s = Math.min(s, L)\r\n    {\r\n      const e = new h(w.x, w.y, 0),\r\n        t = new h(Math.cos(g) * e.x, e.y, Math.sin(g) * e.x)\r\n      I = e.angleTo(t)\r\n    }\r\n    const P = s / Math.tan((Math.PI - T.angle()) / 2),\r\n      H = s / Math.tan((Math.PI - I) / 2),\r\n      A = new h()\r\n    if (!a) {\r\n      c.push(_.x, _.y, _.z), d.push(0, -1, 0), m.push(0, 0)\r\n      const e = u++,\r\n        t = [],\r\n        r = x.clone(),\r\n        a = P / Math.cos(Math.PI / i)\r\n      r.x -= a\r\n      for (let e = 0; e < i; e++) {\r\n        const a = (e / i) * Math.PI * 2 + f,\r\n          s = new o(Math.sin(a), Math.cos(a))\r\n        two2three(r, s, A),\r\n          c.push(A.x, A.y, A.z),\r\n          d.push(0, -1, 0),\r\n          m.push(0, 0),\r\n          t.push(u++)\r\n      }\r\n      for (let i = 0; i < t.length; i++) l.push(t[i], e, t[(i + 1) % t.length])\r\n    }\r\n    const C = []\r\n    {\r\n      const e = new h(),\r\n        t = new h(),\r\n        r = new h(),\r\n        a = new h(),\r\n        p = new h(),\r\n        E = new h()\r\n      for (let g = 0; g < i; g++) {\r\n        const y = (g / i) * Math.PI * 2 + f,\r\n          v = ((g + 0.5) / i) * Math.PI * 2 + f,\r\n          b = ((g + 1) / i) * Math.PI * 2 + f,\r\n          R = new o(Math.sin(y), Math.cos(y)),\r\n          L = new o(Math.sin(v), Math.cos(v)),\r\n          A = new o(Math.sin(b), Math.cos(b))\r\n        two2three(x, R, t),\r\n          two2three(x, A, r),\r\n          two2three(w, L, e),\r\n          offset3d(S, t, r, H, H, a),\r\n          c.push(a.x, a.y, a.z),\r\n          offset3d(t, S, r, H, P, p),\r\n          c.push(p.x, p.y, p.z),\r\n          offset3d(r, t, S, P, H, E),\r\n          c.push(E.x, E.y, E.z),\r\n          d.push(e.x, e.y, e.z),\r\n          d.push(e.x, e.y, e.z),\r\n          d.push(e.x, e.y, e.z),\r\n          m.push(0, 0),\r\n          m.push(0, 0),\r\n          m.push(0, 0)\r\n        const U = u++,\r\n          B = u++,\r\n          G = u++\r\n        if ((l.push(U, B, G), s > 0)) {\r\n          {\r\n            const e = t.clone().add(r).multiplyScalar(0.5),\r\n              i = S.clone().sub(e).normalize(),\r\n              a = _.clone()\r\n                .sub(e)\r\n                .normalize()\r\n                .add(i)\r\n                .normalize()\r\n                .multiplyScalar(-1)\r\n            O(e, E.clone().sub(p), a, T.angle())\r\n          }\r\n          let o, f\r\n          {\r\n            const e = new h()\r\n            two2three(M, A, e)\r\n            let t = E.clone().add(a).multiplyScalar(0.5)\r\n            t = projectOntoLine(t, r, S)\r\n            const i = E.clone().sub(a)\r\n            ;[o, f] = O(t, i, e, I, a.y)\r\n          }\r\n          {\r\n            const e = o,\r\n              t = e.clone().setY(0).normalize(),\r\n              i = new h(0, -1, 0),\r\n              r = t.clone().cross(i)\r\n            $(e, t, i, r)\r\n          }\r\n          C.concat(f)\r\n          {\r\n            const t = T.angle(),\r\n              r = Math.PI - t,\r\n              a = S.clone()\r\n            a.y -= s / Math.sin(t - Math.PI / 2)\r\n            new h()\r\n            const o = new h(),\r\n              p = []\r\n            for (let t = 0; t < n; t++) {\r\n              const h = [],\r\n                l = Math.PI / 2 - (r * t) / n,\r\n                f = Math.cos(l),\r\n                E = Math.sin(l)\r\n              let g = v\r\n              for (var D = 0; D <= t; D++) {\r\n                const r = Math.cos(g),\r\n                  n = Math.sin(g)\r\n                ;(e.x = f * n),\r\n                  (e.y = E),\r\n                  (e.z = f * r),\r\n                  o.copy(a).addScaledVector(e, s),\r\n                  c.push(o.x, o.y, o.z),\r\n                  d.push(e.x, e.y, e.z),\r\n                  m.push(0, 0),\r\n                  h.push(u++),\r\n                  (g += (2 * Math.PI) / t / i)\r\n              }\r\n              p.push(h)\r\n            }\r\n            f.reverse(), p.push(f)\r\n            const E = p.length - 1\r\n            for (let e = 0; e < E; e++) {\r\n              const t = p[e],\r\n                i = p[e + 1],\r\n                r = t.length - 1\r\n              l.push(i[1], t[0], i[0])\r\n              for (let e = 1; e <= r; e++)\r\n                l.push(t[e], t[e - 1], i[e]), l.push(i[e + 1], t[e], i[e])\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    function O(e, t, i, r, a) {\r\n      const o = -r / 2,\r\n        p = (Math.PI - r) / 2,\r\n        f = t.clone().normalize().cross(i)\r\n      e.addScaledVector(i, -s / Math.sin(p))\r\n      const E = new h(),\r\n        g = new h(),\r\n        y = u,\r\n        v = []\r\n      for (let h = 0; h <= n; h++) {\r\n        const l = o + (h / n) * r\r\n        g.set(0, 0, 0),\r\n          g.addScaledVector(f, Math.sin(l)),\r\n          g.addScaledVector(i, Math.cos(l))\r\n        for (let i = 0; i <= 1; i++) {\r\n          const r = i / 1 - 0.5\r\n          if (\r\n            (E.copy(e),\r\n            E.addScaledVector(t, r),\r\n            E.addScaledVector(g, s),\r\n            null != a)\r\n          ) {\r\n            const e = Math.max(0, E.y - a)\r\n            E.addScaledVector(t, -e / t.y)\r\n          }\r\n          c.push(E.x, E.y, E.z),\r\n            d.push(g.x, g.y, g.z),\r\n            m.push(0, 0),\r\n            0 === i && v.push(u),\r\n            u++\r\n        }\r\n      }\r\n      for (let e = 0; e < n; e++)\r\n        for (let t = 0; t < 1; t++) {\r\n          const i = y + t + 2 * e,\r\n            r = i + 2,\r\n            a = r + 1,\r\n            s = i + 1\r\n          l.push(i, r, s), l.push(r, a, s)\r\n        }\r\n      return [e.clone().addScaledVector(t, 0.5), v]\r\n    }\r\n    function $(e, t, i, r) {\r\n      const a = Math.PI / 2,\r\n        o = R.angle() - a,\r\n        p = [],\r\n        f = new h(),\r\n        E = new h()\r\n      for (let h = 0; h <= n; h++) {\r\n        const l = [],\r\n          y = h / n\r\n        for (var g = 0; g <= h; g++) {\r\n          const n = ((h ? g / h : 0) - 0.5) * v,\r\n            p = Math.cos(n),\r\n            _ = Math.sin(n),\r\n            S = (a + Math.atan(Math.tan(o) * p)) * y,\r\n            x = Math.cos(S),\r\n            b = Math.sin(S)\r\n          f.set(0, 0, 0),\r\n            f.addScaledVector(t, b * p),\r\n            f.addScaledVector(i, x),\r\n            f.addScaledVector(r, b * _),\r\n            E.copy(e).addScaledVector(f, s),\r\n            c.push(E.x, E.y, E.z),\r\n            d.push(f.x, f.y, f.z),\r\n            m.push(0, 0),\r\n            l.push(u++)\r\n        }\r\n        p.push(l)\r\n      }\r\n      const y = p.length - 1\r\n      for (let e = 0; e < y; e++) {\r\n        const t = p[e],\r\n          i = p[e + 1],\r\n          r = t.length - 1\r\n        l.push(t[0], i[1], i[0])\r\n        for (let e = 1; e <= r; e++)\r\n          l.push(t[e - 1], t[e], i[e]), l.push(t[e], i[e + 1], i[e])\r\n      }\r\n    }\r\n    this.setIndex(l),\r\n      this.setAttribute('position', new THREE.Float32BufferAttribute(c, 3)),\r\n      this.setAttribute('normal', new THREE.Float32BufferAttribute(d, 3)),\r\n      this.setAttribute('uv', new THREE.Float32BufferAttribute(m, 2))\r\n  }\r\n}\r\nfunction genHelix(e, t, i, r, a, s, n, o, h, l, c, d) {\r\n  ;(n = Math.round(n)), (l = Math.round(l)), (d = Math.round(d))\r\n  const m = [],\r\n    u = [],\r\n    p = [],\r\n    f = [],\r\n    E = [],\r\n    g = [],\r\n    y = []\r\n  let v,\r\n    _,\r\n    S,\r\n    x,\r\n    b,\r\n    T,\r\n    R,\r\n    w,\r\n    M = new THREE.Vector3(),\r\n    L = new THREE.Vector3(),\r\n    I = new THREE.Vector3(),\r\n    P = new THREE.Vector3(),\r\n    H = (new THREE.Vector3(), new THREE.Vector3()),\r\n    A = new THREE.Vector3(),\r\n    C = new THREE.Vector3(),\r\n    D = new THREE.Vector3(),\r\n    O = new THREE.Vector3(),\r\n    $ = new THREE.Vector3(),\r\n    U = new THREE.Vector3()\r\n  const B = Math.min(t, r) / 2,\r\n    G = B - o,\r\n    N = B - o,\r\n    z = i - 2 * o + 0.001,\r\n    V = z / s,\r\n    j = Math.ceil(n * s),\r\n    F = z / j,\r\n    Y = -z / 2,\r\n    W = (2 * Math.PI) / l,\r\n    k = Math.PI / 2 / d,\r\n    X = Math.min((1 - c / 100) * o, o - 0.1),\r\n    q = o - X\r\n  function J(t, i) {\r\n    const r = Math.PI / 2\r\n    ;(T = i * F),\r\n      (w = (2 * Math.PI * (T % V)) / V + r),\r\n      (T += Y),\r\n      (R = Math.sin(w) * N),\r\n      (b = Math.cos(w) * G),\r\n      e ? t.set(b, R, T) : t.set(b, T, R)\r\n  }\r\n  J(I, -1), J(P, 0), H.copy(I)\r\n  const K = I.distanceTo(P),\r\n    Z = K * j + 2 * q,\r\n    Q = Z - q\r\n  for (let t = 0; t <= j; t++) {\r\n    J(M, t),\r\n      U.subVectors(M, H).normalize(),\r\n      H.copy(M),\r\n      O.copy(M)\r\n        .setComponent(e + 1, 0)\r\n        .normalize(),\r\n      $.crossVectors(U, O).normalize()\r\n    const i = 0 == t ? (3 * Math.PI) / 2 : k,\r\n      r = 0 == t ? 0 : Q\r\n    for (let e = 0, a = 0; e <= l; a = ++e * W) {\r\n      if (\r\n        (A.addVectors(\r\n          I.copy(O).multiplyScalar(o * Math.cos(a)),\r\n          P.copy($).multiplyScalar(o * Math.sin(a))\r\n        ),\r\n        D.copy(A).normalize(),\r\n        0 == t || t == j)\r\n      ) {\r\n        P.copy(D).multiplyScalar(X), L.addVectors(M, P)\r\n        for (let a = 0, s = i; a < d; s = ++a * k + i) {\r\n          C.addVectors(\r\n            I.copy(U).multiplyScalar(q * Math.sin(s)),\r\n            P.copy(D).multiplyScalar(q * Math.cos(s))\r\n          ),\r\n            P.addVectors(L, C),\r\n            C.normalize(),\r\n            E.push(P.x, P.y, P.z),\r\n            g.push(C.x, C.y, C.z)\r\n          const i = (0 == t) + Math.sin(s)\r\n          y.push((r + q * i) / Z, e / l, 0)\r\n        }\r\n      }\r\n      P.addVectors(M, A),\r\n        u.push(P.x, P.y, P.z),\r\n        p.push(D.x, D.y, D.z),\r\n        f.push((q + t * K) / Z, e / l)\r\n    }\r\n  }\r\n  const ee = E.length / 2\r\n  for (let e = 0; e < d; e++)\r\n    for (let t = 0; t <= l; t++) {\r\n      let i = ee + 3 * (t * d + e),\r\n        r = 3 * ((l - t) * d + d - e - 1)\r\n      u.push(...E.slice(i, i + 3)),\r\n        u.unshift(...E.slice(r, r + 3)),\r\n        p.push(...g.slice(i, i + 3)),\r\n        p.unshift(...g.slice(r, r + 3)),\r\n        f.push(...y.slice(i, i + 2)),\r\n        f.unshift(...y.slice(r, r + 2))\r\n    }\r\n  const te = l + 1\r\n  for (let e = 0; e < j + 2 * d; e++)\r\n    for (let t = 0; t < te - 1; t++)\r\n      (S = (v = e * te + t) + te),\r\n        (x = (_ = v + 1) + te),\r\n        m.push(v, _, S, _, x, S)\r\n  v = u.length / 3 - l - 1\r\n  for (let e = 0; e < l - 2; e++)\r\n    m.push(v, v + e + 1, v + e + 2), m.push(0, e + 2, e + 1)\r\n  let ie = new THREE.BufferGeometry()\r\n  return (\r\n    ie.setIndex(m),\r\n    ie.setAttribute('position', new THREE.Float32BufferAttribute(u, 3)),\r\n    ie.setAttribute('normal', new THREE.Float32BufferAttribute(p, 3)),\r\n    ie.setAttribute('uv', new THREE.Float32BufferAttribute(f, 2)),\r\n    ie\r\n  )\r\n}\r\n;(SPE.RectangleGeometry = new (function () {\r\n  ;(this.build = function ({\r\n    width: e = 100,\r\n    height: t = e,\r\n    cornerRadius: i = [0, 0, 0, 0],\r\n    cornerType: r = 1,\r\n    enabledIndieCorners: a = !1,\r\n    extrudeDepth: s = 0,\r\n    extrudeBevelSize: n = 0,\r\n    extrudeBevelSegments: o = 1\r\n  }) {\r\n    ;(e = Math.abs(e)), (t = Math.abs(t))\r\n    let h = { x: 0.5 * e, y: 0.5 * t },\r\n      l = { x: -h.x, y: -h.y },\r\n      c = { x: h.x, y: h.y }\r\n    function d(i, r, a) {\r\n      return r > e && a > t\r\n        ? Math.min((i * e) / r, (i * t) / a)\r\n        : r > e\r\n        ? (i * e) / r\r\n        : a > t\r\n        ? (i * t) / a\r\n        : i\r\n    }\r\n    var m = []\r\n    ;(m[0] = 0 === i[0] ? 0 : d(i[0], i[0] + i[3], i[0] + i[1])),\r\n      (m[1] = 0 === i[1] ? 0 : d(i[1], i[1] + i[2], i[1] + i[0])),\r\n      (m[2] = 0 === i[2] ? 0 : d(i[2], i[2] + i[1], i[2] + i[3])),\r\n      (m[3] = 0 === i[3] ? 0 : d(i[3], i[3] + i[0], i[3] + i[2]))\r\n    let u,\r\n      p = l.x,\r\n      f = c.x,\r\n      E = c.y,\r\n      g = l.y,\r\n      y = new THREE.Shape()\r\n    if ((y.moveTo(p, E - m[0]), 1 == r))\r\n      i[0] > 0 && y.quadraticCurveTo(p, E, p + m[0], E),\r\n        y.lineTo(f - m[1], E),\r\n        i[1] > 0 && y.quadraticCurveTo(f, E, f, E - m[1]),\r\n        y.lineTo(f, g + m[2]),\r\n        i[2] > 0 && y.quadraticCurveTo(f, g, f - m[2], g),\r\n        y.lineTo(p + m[3], g),\r\n        i[3] > 0 && y.quadraticCurveTo(p, g, p, g + m[3]),\r\n        y.lineTo(p, E - m[0])\r\n    else {\r\n      let e = (4 * (Math.SQRT2 - 1)) / 3\r\n      i[0] > 0 &&\r\n        y.bezierCurveTo(\r\n          p,\r\n          E + m[0] * (e - 1),\r\n          p - m[0] * (e - 1),\r\n          E,\r\n          p + m[0],\r\n          E\r\n        ),\r\n        y.lineTo(f - m[1], E),\r\n        i[1] > 0 &&\r\n          y.bezierCurveTo(\r\n            f + m[1] * (e - 1),\r\n            E,\r\n            f,\r\n            E + m[1] * (e - 1),\r\n            f,\r\n            E - m[1]\r\n          ),\r\n        y.lineTo(f, g + m[2]),\r\n        i[2] > 0 &&\r\n          y.bezierCurveTo(\r\n            f,\r\n            g - m[2] * (e - 1),\r\n            f + m[2] * (e - 1),\r\n            g,\r\n            f - m[2],\r\n            g\r\n          ),\r\n        y.lineTo(p + m[3], g),\r\n        i[3] > 0 &&\r\n          y.bezierCurveTo(\r\n            p - m[3] * (e - 1),\r\n            g,\r\n            p,\r\n            g - m[3] * (e - 1),\r\n            p,\r\n            g + m[3]\r\n          )\r\n    }\r\n    return (\r\n      y.lineTo(p, E - m[0]),\r\n      ((u =\r\n        s > 0\r\n          ? new THREE.ExtrudeBufferGeometry(y, {\r\n              curveSegments: 64,\r\n              steps: 1,\r\n              depth: s,\r\n              bevelEnabled: !0,\r\n              bevelThickness: n,\r\n              bevelSize: n,\r\n              bevelOffset: 0,\r\n              bevelSegments: o\r\n            })\r\n          : new THREE.ShapeBufferGeometry(y, 32)).userData = {\r\n        type: 'RectangleGeometry',\r\n        ui: { enabledIndieCorners: a },\r\n        parameters: {\r\n          width: e,\r\n          height: t,\r\n          depth: 0,\r\n          cornerRadius: i,\r\n          cornerType: r,\r\n          extrudeDepth: s,\r\n          extrudeBevelSize: n,\r\n          extrudeBevelSegments: o\r\n        }\r\n      }),\r\n      SPE.Math.fixUvs(u, e, t),\r\n      u\r\n    )\r\n  }),\r\n    (this.buildFromGeometry = function (\r\n      e,\r\n      {\r\n        width: t = e.userData.parameters.width,\r\n        height: i = e.userData.parameters.height,\r\n        cornerRadius: r = e.userData.parameters.cornerRadius,\r\n        cornerType: a = e.userData.parameters.cornerType,\r\n        enabledIndieCorners: s = e.userData.ui.enabledIndieCorners,\r\n        extrudeDepth: n = e.userData.parameters.extrudeDepth,\r\n        extrudeBevelSize: o = e.userData.parameters.extrudeBevelSize,\r\n        extrudeBevelSegments: h = e.userData.parameters.extrudeBevelSegments\r\n      }\r\n    ) {\r\n      return this.build({\r\n        width: t,\r\n        height: i,\r\n        cornerRadius: r,\r\n        cornerType: a,\r\n        enabledIndieCorners: s,\r\n        extrudeDepth: n,\r\n        extrudeBevelSize: o,\r\n        extrudeBevelSegments: h\r\n      })\r\n    })\r\n})()),\r\n  (SPE.SphereGeometry = new (function () {\r\n    ;(this.build = function ({\r\n      width: e = 100,\r\n      height: t = e,\r\n      depth: i = e,\r\n      widthSegments: r = 64,\r\n      heightSegments: a = 64,\r\n      phiStart: s,\r\n      phiLength: n,\r\n      thetaStart: o,\r\n      thetaLength: h\r\n    }) {\r\n      ;(e = Math.abs(e)), (t = Math.abs(t)), (i = Math.abs(i))\r\n      let l = new THREE.SphereBufferGeometry(0.5 * e, r, a, s, n, o, h)\r\n      return (\r\n        l.scale(1, t / e, i / e),\r\n        (l.userData = {\r\n          type: 'SphereGeometry',\r\n          parameters: {\r\n            width: e,\r\n            height: t,\r\n            depth: i,\r\n            widthSegments: r,\r\n            heightSegments: a,\r\n            phiStart: s,\r\n            phiLength: n,\r\n            thetaStart: o,\r\n            thetaLength: h\r\n          }\r\n        }),\r\n        l\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          depth: r = e.userData.parameters.depth,\r\n          widthSegments: a = e.userData.parameters.widthSegments,\r\n          heightSegments: s = e.userData.parameters.heightSegments,\r\n          phiStart: n = e.userData.parameters.phiStart,\r\n          phiLength: o = e.userData.parameters.phiLength,\r\n          thetaStart: h = e.userData.parameters.thetaStart,\r\n          thetaLength: l = e.userData.parameters.thetaLength\r\n        }\r\n      ) {\r\n        return this.build({\r\n          width: t,\r\n          height: i,\r\n          depth: r,\r\n          widthSegments: a,\r\n          heightSegments: s,\r\n          phiStart: n,\r\n          phiLength: o,\r\n          thetaStart: h,\r\n          thetaLength: l\r\n        })\r\n      })\r\n  })()),\r\n  (SPE.StarGeometry = new (function () {\r\n    ;(this.build = function ({\r\n      width: e = 100,\r\n      height: t = e,\r\n      innerRadiusPercent: i = 38.19,\r\n      spikes: r = 5,\r\n      cornerRadius: a = 0,\r\n      angle: s = 360,\r\n      extrudeDepth: n = 0,\r\n      extrudeBevelSize: o = 0,\r\n      extrudeBevelSegments: h = 1\r\n    }) {\r\n      let l,\r\n        c = 0.5 * (e = Math.abs(e)),\r\n        d = 0.5 * (t = Math.abs(t)),\r\n        m = (s * Math.PI) / 360 / r,\r\n        u = (Math.PI / 2) * 3 * -1,\r\n        p = (c * i) / 100,\r\n        f = (d * i) / 100,\r\n        E = new THREE.Shape()\r\n      if (3 == r && 50 == i) {\r\n        m = (2 * Math.PI) / r\r\n        for (let e = 0; e <= r; e++) {\r\n          let t = m * e,\r\n            i = 0 + Math.sin(t) * c,\r\n            r = 0 + Math.cos(t) * d\r\n          E.lineTo(i, r)\r\n        }\r\n      } else {\r\n        E.moveTo(0, 0 + s == 360 ? d : 0)\r\n        for (let e = 0; e < r; e++) {\r\n          let e = 0 + Math.cos(u) * c,\r\n            t = 0 + Math.sin(u) * d\r\n          E.lineTo(e, t),\r\n            (u += m),\r\n            (e = 0 + Math.cos(u) * p),\r\n            (t = 0 + Math.sin(u) * f),\r\n            E.lineTo(e, t),\r\n            (u += m)\r\n        }\r\n        E.lineTo(0, 0 + s == 360 ? d : 0)\r\n      }\r\n      return (\r\n        0 !== a && SPE.Geometry.Utils.roundShapePolygon(E, E.getPoints(), a),\r\n        ((l =\r\n          n > 0\r\n            ? new THREE.ExtrudeBufferGeometry(E, {\r\n                steps: 1,\r\n                depth: n,\r\n                bevelEnabled: !0,\r\n                bevelThickness: o,\r\n                bevelSize: o,\r\n                bevelOffset: 0,\r\n                bevelSegments: h\r\n              })\r\n            : new THREE.ShapeBufferGeometry(E)).userData = {\r\n          type: 'StarGeometry',\r\n          parameters: {\r\n            width: e,\r\n            height: t,\r\n            depth: 0,\r\n            innerRadiusPercent: i,\r\n            spikes: r,\r\n            cornerRadius: a,\r\n            angle: s,\r\n            extrudeDepth: n,\r\n            extrudeBevelSize: o,\r\n            extrudeBevelSegments: h\r\n          }\r\n        }),\r\n        SPE.Math.fixUvs(l, e, t),\r\n        l\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          innerRadiusPercent: r = e.userData.parameters.innerRadiusPercent,\r\n          spikes: a = e.userData.parameters.spikes,\r\n          cornerRadius: s = e.userData.parameters.cornerRadius,\r\n          angle: n = e.userData.parameters.angle,\r\n          extrudeDepth: o = e.userData.parameters.extrudeDepth,\r\n          extrudeBevelSize: h = e.userData.parameters.extrudeBevelSize,\r\n          extrudeBevelSegments: l = e.userData.parameters.extrudeBevelSegments\r\n        }\r\n      ) {\r\n        return this.build({\r\n          width: t,\r\n          height: i,\r\n          innerRadiusPercent: r,\r\n          spikes: a,\r\n          cornerRadius: s,\r\n          angle: n,\r\n          extrudeDepth: o,\r\n          extrudeBevelSize: h,\r\n          extrudeBevelSegments: l\r\n        })\r\n      })\r\n  })()),\r\n  (SPE.TorusGeometry = new (function () {\r\n    ;(this.build = function ({\r\n      width: e = 100,\r\n      height: t = e,\r\n      depth: i,\r\n      tubePercent: r = 50,\r\n      radialSegments: a = 128,\r\n      tubularSegments: s = 64,\r\n      arc: n = 2 * Math.PI,\r\n      cornerRadius: o = 30,\r\n      cornerSegments: h = 8\r\n    }) {\r\n      let l = 0.25 * e * r * 0.01,\r\n        c = (function (e, t, i, r, a, s, n, o, h, l, c) {\r\n          ;([t, i] = [i, t]), (n = t / 2), 1 == (a /= 2 * Math.PI) && (l = 0)\r\n          return genHelix(!0, e, t, i, r, a, s, n, o, h, l, c)\r\n        })(e, t, (i = i || 2 * l), 0, n, a, 0, 0, s, o, h)\r\n      return (\r\n        c.scale(1, t / e, 1),\r\n        (c.userData = {\r\n          type: 'TorusGeometry',\r\n          parameters: {\r\n            width: e,\r\n            height: t,\r\n            depth: i,\r\n            tubePercent: r,\r\n            radialSegments: a,\r\n            tubularSegments: s,\r\n            arc: n,\r\n            cornerRadius: o,\r\n            cornerSegments: h\r\n          }\r\n        }),\r\n        c\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          depth: r = e.userData.parameters.depth,\r\n          tubePercent: a = e.userData.parameters.tubePercent,\r\n          radialSegments: s = e.userData.parameters.radialSegments,\r\n          tubularSegments: n = e.userData.parameters.tubularSegments,\r\n          arc: o = e.userData.parameters.arc,\r\n          cornerRadius: h = e.userData.parameters.cornerRadius,\r\n          cornerSegments: l = e.userData.parameters.cornerSegments\r\n        }\r\n      ) {\r\n        return this.build({\r\n          width: t,\r\n          height: i,\r\n          depth: r,\r\n          tubePercent: a,\r\n          radialSegments: s,\r\n          tubularSegments: n,\r\n          arc: o,\r\n          cornerRadius: h,\r\n          cornerSegments: l\r\n        })\r\n      })\r\n  })()),\r\n  (SPE.TorusKnotGeometry = new (function () {\r\n    ;(this.build = function ({\r\n      width: e = 100,\r\n      height: t = e,\r\n      depth: i = 1,\r\n      tube: r = 50,\r\n      tubularSegments: a = 64,\r\n      radialSegments: s = 32,\r\n      p: n = 2,\r\n      q: o = 3\r\n    }) {\r\n      let h = 0.5 * e - r,\r\n        l = new THREE.TorusKnotBufferGeometry(h, r, a, s, n, o)\r\n      return (\r\n        (l.userData = {\r\n          type: 'TorusKnotGeometry',\r\n          parameters: {\r\n            width: e,\r\n            height: t,\r\n            depth: i,\r\n            tube: r,\r\n            tubularSegments: a,\r\n            radialSegments: s,\r\n            p: n,\r\n            q: o\r\n          }\r\n        }),\r\n        l\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          depth: r = e.userData.parameters.depth,\r\n          tube: a = e.userData.parameters.tube,\r\n          tubularSegments: s = e.userData.parameters.tubularSegments,\r\n          radialSegments: n = e.userData.parameters.radialSegments,\r\n          p: o = e.userData.parameters.p,\r\n          q: h = e.userData.parameters.q\r\n        }\r\n      ) {\r\n        return this.build({\r\n          width: t,\r\n          height: i,\r\n          depth: r,\r\n          tube: a,\r\n          tubularSegments: s,\r\n          radialSegments: n,\r\n          p: o,\r\n          q: h\r\n        })\r\n      })\r\n  })()),\r\n  (SPE.LatheGeometry = new (function () {\r\n    ;(this.build = function ({\r\n      width: e = 100,\r\n      height: t = e,\r\n      depth: i = e,\r\n      segments: r = 64,\r\n      verticalSegments: a = 64,\r\n      points: s = [\r\n        { x: 0, y: -50, id: 0 },\r\n        { x: 50, y: -50, id: 1 },\r\n        { x: 50, y: 50, id: 2 },\r\n        { x: 0, y: 50, id: 3 }\r\n      ]\r\n    }) {\r\n      let n = new THREE.Shape()\r\n      n.moveTo(s[0].x, s[0].y),\r\n        n.bezierCurveTo(s[1].x, s[1].y, s[2].x, s[2].y, s[3].x, s[3].y)\r\n      let o = new THREE.LatheBufferGeometry(n.extractPoints(a).shape, r)\r\n      return (\r\n        o.rotateZ(Math.PI),\r\n        (o.userData = {\r\n          type: 'LatheGeometry',\r\n          parameters: {\r\n            width: e,\r\n            height: t,\r\n            depth: i,\r\n            segments: r,\r\n            verticalSegments: a,\r\n            points: s\r\n          }\r\n        }),\r\n        o\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          depth: r = e.userData.parameters.depth,\r\n          segments: a = e.userData.parameters.segments,\r\n          verticalSegments: s = e.userData.parameters.verticalSegments,\r\n          points: n = e.userData.parameters.points\r\n        }\r\n      ) {\r\n        return this.build({\r\n          width: t,\r\n          height: i,\r\n          depth: r,\r\n          segments: a,\r\n          verticalSegments: s,\r\n          points: n\r\n        })\r\n      })\r\n  })()),\r\n  (SPE.HelixGeometry = new (function () {\r\n    ;(this.build = function ({\r\n      width: e = 100,\r\n      height: t = e,\r\n      depth: i = e,\r\n      radius: r = 20,\r\n      revolutions: a = 2,\r\n      segments: s = 40,\r\n      pathRadius: n = 10,\r\n      pathType: o = 0,\r\n      pathSegments: h = 30,\r\n      cornerRadius: l = 30,\r\n      cornerSegments: c = 8\r\n    }) {\r\n      let d = genHelix(\r\n        !1,\r\n        Math.abs(e),\r\n        Math.abs(t),\r\n        Math.abs(i),\r\n        Math.abs(r),\r\n        Math.abs(a),\r\n        Math.abs(s),\r\n        Math.abs(n),\r\n        Math.abs(o),\r\n        Math.abs(h),\r\n        Math.abs(l),\r\n        Math.abs(c)\r\n      )\r\n      return (\r\n        (d.userData = {\r\n          type: 'HelixGeometry',\r\n          parameters: {\r\n            height: t,\r\n            width: e,\r\n            depth: i,\r\n            radius: r,\r\n            revolutions: a,\r\n            segments: s,\r\n            pathRadius: n,\r\n            pathType: o,\r\n            pathSegments: h,\r\n            cornerRadius: l,\r\n            cornerSegments: c\r\n          }\r\n        }),\r\n        d\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          depth: r = e.userData.parameters.depth,\r\n          radius: a = e.userData.parameters.radius,\r\n          revolutions: s = e.userData.parameters.revolutions,\r\n          segments: n = e.userData.parameters.segments,\r\n          pathRadius: o = e.userData.parameters.pathRadius,\r\n          pathType: h = e.userData.parameters.pathType,\r\n          pathSegments: l = e.userData.parameters.pathSegments,\r\n          cornerRadius: c = e.userData.parameters.cornerRadius,\r\n          cornerSegments: d = e.userData.parameters.cornerSegments\r\n        }\r\n      ) {\r\n        return this.build({\r\n          width: t,\r\n          height: i,\r\n          depth: r,\r\n          radius: a,\r\n          revolutions: s,\r\n          segments: n,\r\n          pathRadius: o,\r\n          pathType: h,\r\n          pathSegments: l,\r\n          cornerRadius: c,\r\n          cornerSegments: d\r\n        })\r\n      })\r\n  })()),\r\n  (SPE.TriangleGeometry = new (function () {\r\n    ;(this.build = function ({\r\n      width: e = 100,\r\n      height: t,\r\n      cornerRadius: i = 0,\r\n      extrudeDepth: r = 0,\r\n      extrudeBevelSize: a = 0,\r\n      extrudeBevelSegments: s = 1,\r\n      isRect: n = !1\r\n    }) {\r\n      e = Math.abs(e)\r\n      let o,\r\n        h = new THREE.Shape()\r\n      if (n)\r\n        (t = t ? Math.abs(t) : e),\r\n          h.moveTo(0.5 * -e, 0.5 * t),\r\n          h.lineTo(0.5 * e, 0.5 * -t),\r\n          h.lineTo(0.5 * -e, 0.5 * -t),\r\n          h.lineTo(0.5 * -e, 0.5 * t)\r\n      else {\r\n        let i = {\r\n          x: 0.5 * e,\r\n          y: 0.5 * (t = (t = Math.abs(t)) || e * (Math.sqrt(3) / 2))\r\n        }\r\n        h.moveTo(0, i.y),\r\n          h.lineTo(i.x, -i.y),\r\n          h.lineTo(-i.x, -i.y),\r\n          h.lineTo(0, i.y)\r\n      }\r\n      return (\r\n        0 !== i &&\r\n          (function (e, t, i) {\r\n            var r,\r\n              a,\r\n              s,\r\n              n,\r\n              o,\r\n              h,\r\n              l,\r\n              c,\r\n              d,\r\n              m,\r\n              u,\r\n              p,\r\n              f,\r\n              E,\r\n              g,\r\n              y,\r\n              v,\r\n              _ = function (e, t, i) {\r\n                ;(i.x = t.x - e.x),\r\n                  (i.y = t.y - e.y),\r\n                  (i.len = Math.sqrt(i.x * i.x + i.y * i.y)),\r\n                  (i.nx = i.x / i.len),\r\n                  (i.ny = i.y / i.len),\r\n                  (i.ang = Math.atan2(i.ny, i.nx))\r\n              }\r\n            for (\r\n              c = {},\r\n                d = {},\r\n                n = t.length - 1,\r\n                o = t[n - 1],\r\n                e.curves = [],\r\n                r = 0;\r\n              r < n;\r\n              r++\r\n            )\r\n              (h = t[r % n]),\r\n                (l = t[(r + 1) % n]),\r\n                _(h, o, c),\r\n                _(h, l, d),\r\n                (m = c.nx * d.ny - c.ny * d.nx),\r\n                (u = c.nx * d.nx - c.ny * -d.ny),\r\n                (E = Math.asin(m)),\r\n                (p = 1),\r\n                (f = !1),\r\n                u < 0\r\n                  ? E < 0\r\n                    ? (E = Math.PI + E)\r\n                    : ((E = Math.PI - E), (p = -1), (f = !0))\r\n                  : E > 0 && ((p = -1), (f = !0)),\r\n                (g = 0.5 * E),\r\n                (v = Math.abs((Math.cos(g) * i) / Math.sin(g))) >\r\n                Math.min(0.5 * c.len, 0.5 * d.len)\r\n                  ? ((v = Math.min(0.5 * c.len, 0.5 * d.len)),\r\n                    (y = Math.abs((v * Math.sin(g)) / Math.cos(g))))\r\n                  : (y = i),\r\n                (a = h.x + d.nx * v),\r\n                (s = h.y + d.ny * v),\r\n                (a += -d.ny * y * p),\r\n                (s += d.nx * y * p),\r\n                e.absarc(\r\n                  a,\r\n                  s,\r\n                  y,\r\n                  c.ang + (Math.PI / 2) * p,\r\n                  d.ang - (Math.PI / 2) * p,\r\n                  f\r\n                ),\r\n                (o = h),\r\n                (h = l)\r\n            e.closePath()\r\n          })(h, h.getPoints(), i),\r\n        ((o =\r\n          r > 0\r\n            ? new THREE.ExtrudeBufferGeometry(h, {\r\n                curveSegments: 64,\r\n                steps: 1,\r\n                depth: r,\r\n                bevelEnabled: !0,\r\n                bevelThickness: a,\r\n                bevelSize: a,\r\n                bevelOffset: 0,\r\n                bevelSegments: s\r\n              })\r\n            : new THREE.ShapeBufferGeometry(h, 32)).userData = {\r\n          type: 'TriangleGeometry',\r\n          parameters: {\r\n            width: e,\r\n            height: t,\r\n            depth: 0,\r\n            cornerRadius: i,\r\n            extrudeDepth: r,\r\n            extrudeBevelSize: a,\r\n            extrudeBevelSegments: s,\r\n            isRect: n\r\n          }\r\n        }),\r\n        SPE.Math.fixUvs(o, e, t),\r\n        o\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          cornerRadius: r = e.userData.parameters.cornerRadius,\r\n          extrudeDepth: a = e.userData.parameters.extrudeDepth,\r\n          extrudeBevelSize: s = e.userData.parameters.extrudeBevelSize,\r\n          extrudeBevelSegments: n = e.userData.parameters.extrudeBevelSegments,\r\n          isRect: o = e.userData.parameters.isRect\r\n        }\r\n      ) {\r\n        return this.build({\r\n          width: t,\r\n          height: i,\r\n          cornerRadius: r,\r\n          extrudeDepth: a,\r\n          extrudeBevelSize: s,\r\n          extrudeBevelSegments: n,\r\n          isRect: o\r\n        })\r\n      })\r\n  })()),\r\n  (SPE.NonParametricGeometry = new (function () {\r\n    ;(this.build = function (\r\n      e = new THREE.BoxBufferGeometry(100, 100, 100),\r\n      t\r\n    ) {\r\n      let i = new THREE.BufferGeometry()\r\n      i.copy(e)\r\n      const r = new THREE.Vector3()\r\n      if ((i.computeBoundingBox(), i.boundingBox.getSize(r), t)) {\r\n        var a = t.width ? t.width : r.x,\r\n          s = t.height ? t.height : r.y,\r\n          n = t.depth ? t.depth : r.z\r\n        i.scale(\r\n          0 === r.x ? 1 : a / r.x,\r\n          0 === r.y ? 1 : s / r.y,\r\n          0 === r.z ? 1 : n / r.z\r\n        )\r\n      } else (a = r.x), (s = r.y), (n = r.z)\r\n      return (\r\n        (i.userData = {\r\n          type: 'NonParametricGeometry',\r\n          parameters: { width: a, height: s, depth: n }\r\n        }),\r\n        i\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height,\r\n          depth: r = e.userData.parameters.depth\r\n        }\r\n      ) {\r\n        return this.build(e, { width: t, height: i, depth: r })\r\n      })\r\n  })()),\r\n  (SPE.StrokeGeometry = new (function () {\r\n    ;(this.build = function (e, t = {}) {\r\n      const i = t.strokeAlignment || 1,\r\n        r = t.strokeGrowth || 1,\r\n        a = []\r\n      switch (e.userData.type) {\r\n        case 'PolygonGeometry':\r\n          var s = 3,\r\n            n = e.getAttribute('position').array.length - 3\r\n          break\r\n        case 'StarGeometry':\r\n          ;(s = 0), (n = e.getAttribute('position').array.length - 3)\r\n          break\r\n        default:\r\n          ;(s = 0), (n = e.getAttribute('position').array.length)\r\n      }\r\n      for (let t = s; t < n; t += 3)\r\n        a.push([\r\n          e.getAttribute('position').array[t],\r\n          e.getAttribute('position').array[t + 1]\r\n        ])\r\n      const o = createLineGeo(a, i, r)(THREE)\r\n      return (\r\n        (o.userData = {\r\n          type: 'StrokeGeometry',\r\n          parameters: { strokeAlignment: i }\r\n        }),\r\n        (o.toJSON = function () {\r\n          const t = {}\r\n          return (\r\n            (t.uuid = this.uuid),\r\n            (t.type = this.type),\r\n            '' !== this.name && (t.name = this.name),\r\n            (t.userData = this.userData),\r\n            (t.userData.meshGeometry = e.uuid),\r\n            t\r\n          )\r\n        }),\r\n        o\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        t,\r\n        {\r\n          strokeAlignment: i = t.userData.parameters.strokeAlignment,\r\n          strokeGrowth: r = t.userData.parameters.strokeGrowth\r\n        }\r\n      ) {\r\n        return SPE.StrokeGeometry.build(e, {\r\n          strokeAlignment: i,\r\n          strokeGrowth: r\r\n        })\r\n      })\r\n  })()),\r\n  (SPE.TextFrameGeometry = new (function () {\r\n    ;(this.build = function ({ width: e = 100, height: t = e }) {\r\n      let i = new THREE.PlaneBufferGeometry(e, t)\r\n      return (\r\n        (i.userData = {\r\n          type: 'TextFrameGeometry',\r\n          parameters: { width: e, height: t, depth: 0 }\r\n        }),\r\n        i\r\n      )\r\n    }),\r\n      (this.buildFromGeometry = function (\r\n        e,\r\n        {\r\n          width: t = e.userData.parameters.width,\r\n          height: i = e.userData.parameters.height\r\n        }\r\n      ) {\r\n        return this.build({ width: t, height: i })\r\n      })\r\n  })()),\r\n  (SPE.Geometry = {}),\r\n  (SPE.Geometry.Utils = new (function () {\r\n    ;(this.roundShapePolygon = function (e, t, i) {\r\n      var r,\r\n        a,\r\n        s,\r\n        n,\r\n        o,\r\n        h,\r\n        l,\r\n        c,\r\n        d,\r\n        m,\r\n        u,\r\n        p,\r\n        f,\r\n        E,\r\n        g,\r\n        y,\r\n        v,\r\n        _ = function (e, t, i) {\r\n          ;(i.x = t.x - e.x),\r\n            (i.y = t.y - e.y),\r\n            (i.len = Math.sqrt(i.x * i.x + i.y * i.y)),\r\n            (i.nx = i.x / i.len),\r\n            (i.ny = i.y / i.len),\r\n            (i.ang = Math.atan2(i.ny, i.nx))\r\n        }\r\n      for (\r\n        c = {}, d = {}, o = t[(n = t.length) - 2], e.curves = [], r = 1;\r\n        r < n - 1;\r\n        r++\r\n      )\r\n        (h = t[r % n]),\r\n          (l = t[(r + 1) % n]),\r\n          _(h, o, c),\r\n          _(h, l, d),\r\n          (m = c.nx * d.ny - c.ny * d.nx),\r\n          (u = c.nx * d.nx - c.ny * -d.ny),\r\n          (E = Math.asin(m)),\r\n          (p = 1),\r\n          (f = !1),\r\n          u < 0\r\n            ? E < 0\r\n              ? (E = Math.PI + E)\r\n              : ((E = Math.PI - E), (p = -1), (f = !0))\r\n            : E > 0 && ((p = -1), (f = !0)),\r\n          (g = E / 2),\r\n          (v = Math.abs((Math.cos(g) * i) / Math.sin(g))) >\r\n          Math.min(c.len / 2, d.len / 2)\r\n            ? ((v = Math.min(c.len / 2, d.len / 2)),\r\n              (y = Math.abs((v * Math.sin(g)) / Math.cos(g))))\r\n            : (y = i),\r\n          (a = h.x + d.nx * v),\r\n          (s = h.y + d.ny * v),\r\n          (a += -d.ny * y * p),\r\n          (s += d.nx * y * p),\r\n          e.absarc(\r\n            a,\r\n            s,\r\n            y,\r\n            c.ang + (Math.PI / 2) * p,\r\n            d.ang - (Math.PI / 2) * p,\r\n            f\r\n          ),\r\n          (o = h),\r\n          (h = l)\r\n      e.closePath()\r\n    }),\r\n      (this.resizeGeometry = function (e, { width: t, height: i, depth: r }) {\r\n        ;(t = Math.abs(t)), (i = Math.abs(i)), (r = Math.abs(r))\r\n        const a = e.userData.parameters\r\n        let s, n, o\r\n        0 === t ? ((t = a.width), (s = 1)) : (s = t / a.width),\r\n          0 === i ? ((i = a.height), (n = 1)) : (n = i / a.height),\r\n          0 === r ? ((r = a.depth), (o = 1)) : (o = r / a.depth),\r\n          e.scale(s, n, o),\r\n          (a.width = t),\r\n          (a.height = i),\r\n          (a.depth = r)\r\n      }),\r\n      (this.addBarycentricAttribute = function (e, t) {\r\n        const i = [\r\n            new THREE.Vector3(1, 0, 0),\r\n            new THREE.Vector3(0, 1, 0),\r\n            new THREE.Vector3(0, 0, 1)\r\n          ],\r\n          r = e.attributes.position,\r\n          a = new Float32Array(3 * r.count)\r\n        for (let e = 0, t = r.count; e < t; e++) i[e % 3].toArray(a, 3 * e)\r\n        e.setAttribute(t, new THREE.Float32BufferAttribute(a, 3))\r\n      }),\r\n      (this.removeBarycentricAttribute = function (e, t) {\r\n        e.deleteAttribute(t)\r\n      }),\r\n      (this.loadFromUrl = function (e) {\r\n        return new Promise(function (t, i) {\r\n          new THREE.BufferGeometryLoader().load(e, function (e) {\r\n            t(e)\r\n          })\r\n        })\r\n      })\r\n  })())\r\nclass Cloner extends THREE.Object3D {\r\n  constructor(e, t = {}) {\r\n    super(),\r\n      (this.object = e),\r\n      (this.userData.type = 'Cloner'),\r\n      (this.userData.skip = !0),\r\n      e.computeComplexBoundingBox(!0)\r\n    const i = e.complexBoundingBox.getSize(new THREE.Vector3())\r\n    ;(this.parameters = {\r\n      type: void 0 !== t.type ? t.type : 'radial',\r\n      hideBase: void 0 !== t.hideBase && t.hideBase,\r\n      count: void 0 !== t.count ? t.count : 3,\r\n      ra_radius: void 0 !== t.ra_radius ? t.ra_radius : 2 * Math.max(i.x, i.y),\r\n      ra_startAngle: void 0 !== t.ra_startAngle ? t.ra_startAngle : 0,\r\n      ra_endAngle: void 0 !== t.ra_endAngle ? t.ra_endAngle : 360,\r\n      ra_align: void 0 !== t.ra_align && t.ra_align,\r\n      ra_axis: void 0 !== t.ra_axis ? t.ra_axis : 'y',\r\n      ra_scale:\r\n        void 0 !== t.ra_scale ? t.ra_scale.clone() : new THREE.Vector3(),\r\n      ra_rotation:\r\n        void 0 !== t.ra_rotation ? t.ra_rotation.clone() : new THREE.Euler(),\r\n      ra_position:\r\n        void 0 !== t.ra_position ? t.ra_position.clone() : new THREE.Vector3(),\r\n      li_scale:\r\n        void 0 !== t.li_scale ? t.li_scale.clone() : new THREE.Vector3(),\r\n      li_rotation:\r\n        void 0 !== t.li_rotation ? t.li_rotation.clone() : new THREE.Euler(),\r\n      li_position:\r\n        void 0 !== t.li_position\r\n          ? t.li_position.clone()\r\n          : new THREE.Vector3(i.x + 0.1 * i.x, 0, 0).round(),\r\n      gr_count:\r\n        void 0 !== t.gr_count ? t.gr_count.clone() : new THREE.Vector3(2, 2, 2),\r\n      gr_size:\r\n        void 0 !== t.gr_size\r\n          ? t.gr_size.clone()\r\n          : new THREE.Vector3(\r\n              i.x + 0.1 * i.x,\r\n              i.y + 0.1 * i.y,\r\n              i.z + 0.1 * i.z\r\n            ).round(),\r\n      gr_fromCenter: void 0 === t.gr_fromCenter || t.gr_fromCenter\r\n    }),\r\n      this.update(),\r\n      this.setHideBase(this.parameters.hideBase)\r\n  }\r\n  refreshMaterial() {\r\n    for (let e = 0, t = this.children.length; e < t; ++e)\r\n      this.children[e].material = this.object.material\r\n  }\r\n  setHideBase(e) {\r\n    if (void 0 !== this.object.material) {\r\n      if (this.children.length > 0)\r\n        if (((this.object.material.visible = !0), !0 === e)) {\r\n          const e = this.object.material.clone()\r\n          for (let t = 0, i = this.children.length; t < i; ++t)\r\n            this.children[t].material = e\r\n        } else\r\n          for (let e = 0, t = this.children.length; e < t; ++e)\r\n            this.children[e].material = this.object.material\r\n      ;(this.object.material.visible = !e), (this.parameters.hideBase = e)\r\n    }\r\n  }\r\n  update() {\r\n    switch ((this._updateCount(), this.parameters.type)) {\r\n      case 'radial':\r\n        this._updateRadial()\r\n        break\r\n      case 'linear':\r\n        this._updateLinear()\r\n        break\r\n      case 'grid':\r\n        this._updateGrid()\r\n    }\r\n  }\r\n  _updateCount() {\r\n    const e = this.parameters,\r\n      t =\r\n        'grid' === e.type ? e.gr_count.x * e.gr_count.y * e.gr_count.z : e.count\r\n    if (this.children.length !== t)\r\n      if (this.children.length < t)\r\n        for (let e = 0, i = t - this.children.length; e < i; ++e) {\r\n          const e = this.object.shallowClone(!1)\r\n          delete e.userData.isEntity, this.add(e)\r\n        }\r\n      else\r\n        for (let e = 0, i = this.children.length - t; e < i; ++e)\r\n          this.remove(this.children[0])\r\n  }\r\n  _updateRadial() {\r\n    const e = this.parameters,\r\n      t = e.ra_startAngle * THREE.Math.DEG2RAD,\r\n      i = t - e.ra_endAngle * THREE.Math.DEG2RAD,\r\n      r = new THREE.Euler(\r\n        e.ra_rotation.x * THREE.Math.DEG2RAD,\r\n        e.ra_rotation.y * THREE.Math.DEG2RAD,\r\n        e.ra_rotation.z * THREE.Math.DEG2RAD\r\n      )\r\n    let a\r\n    'x' == e.ra_axis && (a = new THREE.Vector3(1, 0, 0)),\r\n      'y' == e.ra_axis && (a = new THREE.Vector3(0, 1, 0)),\r\n      'z' == e.ra_axis && (a = new THREE.Vector3(0, 0, 1))\r\n    for (let s = 0; s < e.count; s++) {\r\n      const n = this.children[s]\r\n      n.hiddenMatrix.identity(),\r\n        (n.scale.x = e.ra_scale.x + 1),\r\n        (n.scale.y = e.ra_scale.y + 1),\r\n        (n.scale.z = e.ra_scale.z + 1),\r\n        n.position.setScalar(0)\r\n      const o = (i / e.count) * s - t\r\n      'x' == e.ra_axis && n.rotation.set(0, o, 0),\r\n        'y' == e.ra_axis && n.rotation.set(0, 0, o),\r\n        'z' == e.ra_axis && n.rotation.set(o, 0, 0),\r\n        n.translateOnAxis(a, e.ra_radius),\r\n        n.position.add(e.ra_position),\r\n        !0 === e.ra_align\r\n          ? ((n.rotation.x += r.x),\r\n            (n.rotation.y += r.y),\r\n            (n.rotation.z += r.z))\r\n          : n.rotation.copy(r)\r\n    }\r\n  }\r\n  _updateLinear() {\r\n    const e = this.parameters,\r\n      t = new THREE.Euler(\r\n        e.li_rotation.x * THREE.Math.DEG2RAD,\r\n        e.li_rotation.y * THREE.Math.DEG2RAD,\r\n        e.li_rotation.z * THREE.Math.DEG2RAD\r\n      )\r\n    for (let i = 0; i < e.count; i++) {\r\n      const r = this.children[i]\r\n      r.hiddenMatrix.identity(),\r\n        (r.scale.x = e.li_scale.x * i + 1),\r\n        (r.scale.y = e.li_scale.y * i + 1),\r\n        (r.scale.z = e.li_scale.z * i + 1),\r\n        (r.rotation.x = t.x * i),\r\n        (r.rotation.y = t.y * i),\r\n        (r.rotation.z = t.z * i),\r\n        (r.position.x = e.li_position.x * i),\r\n        (r.position.y = e.li_position.y * i),\r\n        (r.position.z = e.li_position.z * i)\r\n    }\r\n  }\r\n  _updateGrid() {\r\n    const e = this.parameters\r\n    let t = 0\r\n    if (!0 === e.gr_fromCenter) {\r\n      const i = {\r\n          x: e.gr_count.x % 2 == 0 ? 2 : 1,\r\n          y: e.gr_count.y % 2 == 0 ? 2 : 1,\r\n          z: e.gr_count.z % 2 == 0 ? 2 : 1\r\n        },\r\n        r = new THREE.Vector3(\r\n          e.gr_size.x * (e.gr_count.x - i.x) * 0.5,\r\n          e.gr_size.y * (e.gr_count.y - i.y) * 0.5,\r\n          e.gr_size.z * (e.gr_count.z - i.z) * 0.5\r\n        )\r\n      for (let i = 0; i < e.gr_count.x; i++)\r\n        for (let a = 0; a < e.gr_count.y; a++)\r\n          for (let s = 0; s < e.gr_count.z; s++) {\r\n            const n = this.children[t++]\r\n            n.hiddenMatrix.identity(),\r\n              n.scale.setScalar(1),\r\n              n.rotation.set(0, 0, 0),\r\n              (n.position.x = e.gr_size.x * i - r.x),\r\n              (n.position.y = e.gr_size.y * a - r.y),\r\n              (n.position.z = e.gr_size.z * s - r.z)\r\n          }\r\n    } else\r\n      for (let i = 0; i < e.gr_count.x; i++)\r\n        for (let r = 0; r < e.gr_count.y; r++)\r\n          for (let a = 0; a < e.gr_count.z; a++) {\r\n            const s = this.children[t++]\r\n            s.hiddenMatrix.identity(),\r\n              s.scale.setScalar(1),\r\n              s.rotation.set(0, 0, 0),\r\n              (s.position.x = e.gr_size.x * i),\r\n              (s.position.y = -e.gr_size.y * r),\r\n              (s.position.z = -e.gr_size.z * a)\r\n          }\r\n  }\r\n  toJSON() {\r\n    const e = this.parameters,\r\n      t = {}\r\n    return (\r\n      (t.parameters = {\r\n        type: e.type,\r\n        hideBase: e.hideBase,\r\n        count: e.count,\r\n        ra_radius: e.ra_radius,\r\n        ra_startAngle: e.ra_startAngle,\r\n        ra_endAngle: e.ra_endAngle,\r\n        ra_align: e.ra_align,\r\n        ra_axis: e.ra_axis,\r\n        ra_scale: e.ra_scale.toArray(),\r\n        ra_rotation: e.ra_rotation.toArray(),\r\n        ra_position: e.ra_position.toArray(),\r\n        li_scale: e.li_scale.toArray(),\r\n        li_rotation: e.li_rotation.toArray(),\r\n        li_position: e.li_position.toArray(),\r\n        gr_count: e.gr_count.toArray(),\r\n        gr_size: e.gr_size.toArray(),\r\n        gr_fromCenter: e.gr_fromCenter\r\n      }),\r\n      t\r\n    )\r\n  }\r\n  fromJSON(e) {\r\n    const t = e.parameters\r\n    return (\r\n      (this.parameters = {\r\n        type: t.type,\r\n        hideBase: t.hideBase,\r\n        count: t.count,\r\n        ra_radius: t.ra_radius,\r\n        ra_startAngle: t.ra_startAngle,\r\n        ra_endAngle: t.ra_endAngle,\r\n        ra_align: t.ra_align,\r\n        ra_axis: t.ra_axis,\r\n        ra_scale: new THREE.Vector3().fromArray(t.ra_scale),\r\n        ra_rotation: new THREE.Vector3().fromArray(t.ra_rotation),\r\n        ra_position: new THREE.Vector3().fromArray(t.ra_position),\r\n        li_scale: new THREE.Vector3().fromArray(t.li_scale),\r\n        li_rotation: new THREE.Vector3().fromArray(t.li_rotation),\r\n        li_position: new THREE.Vector3().fromArray(t.li_position),\r\n        gr_count: new THREE.Vector3().fromArray(t.gr_count),\r\n        gr_size: new THREE.Vector3().fromArray(t.gr_size),\r\n        gr_fromCenter: t.gr_fromCenter\r\n      }),\r\n      this.update(),\r\n      this.setHideBase(this.parameters.hideBase),\r\n      this\r\n    )\r\n  }\r\n}\r\n;(SPE.CombinedCamera = class extends THREE.Camera {\r\n  constructor(e = 100, t = 100, i = 45, r = 0.1, a = 5e4) {\r\n    super(),\r\n      (e = window.innerWidth),\r\n      (t = window.innerHeight),\r\n      (this.orthoCamera = new THREE.OrthographicCamera(\r\n        -0.5 * e,\r\n        0.5 * e,\r\n        0.5 * t,\r\n        -0.5 * t,\r\n        r,\r\n        a\r\n      )),\r\n      (this.perspCamera = new THREE.PerspectiveCamera(i, e / t, r, a)),\r\n      (this.left = this.orthoCamera.left),\r\n      (this.right = this.orthoCamera.right),\r\n      (this.top = this.orthoCamera.top),\r\n      (this.bottom = this.orthoCamera.bottom),\r\n      (this.view = this.orthoCamera.view),\r\n      (this.far = this.orthoCamera.far),\r\n      (this.isOrthographicCamera = !0),\r\n      (this._type = 'OrthographicCamera'),\r\n      (this.aspect = this.perspCamera.aspect),\r\n      (this.fov = this.perspCamera.fov),\r\n      (this.focus = this.perspCamera.focus),\r\n      (this.filmGauge = this.perspCamera.filmGauge),\r\n      (this.filmOffset = this.perspCamera.filmOffset),\r\n      (this.targetOffset = 1e3),\r\n      (this.userData = {\r\n        type: SPE.CombinedCamera.name,\r\n        isEntity: !0,\r\n        lock: !1,\r\n        scaleLock: !1,\r\n        activeCamera: !1,\r\n        hiddenMatrix: new THREE.Matrix4()\r\n      }),\r\n      (this.enableHelper = !1),\r\n      (this.objectHelper = new SPE.CombinedCameraHelper(this)),\r\n      (this.interaction = new Interaction(this)),\r\n      this.toOrthographic()\r\n  }\r\n  get hiddenMatrix() {\r\n    return this.userData.hiddenMatrix\r\n  }\r\n  set hiddenMatrix(e) {\r\n    this.userData.hiddenMatrix.copy(e)\r\n  }\r\n  get geometryHelper() {\r\n    return SPE.CombinedCameraHelper.geometryHelper\r\n  }\r\n  set visibility(e) {\r\n    ;(this.visible = e), (this.objectHelper.visible = e)\r\n    for (let t = 0, i = this.children.length; t < i; ++t)\r\n      void 0 !== this.children[t].traverseEntity &&\r\n        this.children[t].traverseEntity(function (t) {\r\n          void 0 !== t.objectHelper &&\r\n            !0 === t.visible &&\r\n            (t.objectHelper.visible = e)\r\n        })\r\n  }\r\n  get visibility() {\r\n    return this.visible\r\n  }\r\n  get type() {\r\n    return this._type\r\n  }\r\n  set type(e) {\r\n    'PerspectiveCamera' === e\r\n      ? this.toPerspective()\r\n      : 'OrthographicCamera' === e && this.toOrthographic()\r\n  }\r\n  get near() {\r\n    return this.isPerspectiveCamera\r\n      ? this.perspCamera.near\r\n      : this.isOrthographicCamera\r\n      ? this.orthoCamera.near\r\n      : void 0\r\n  }\r\n  set near(e) {\r\n    this.isPerspectiveCamera\r\n      ? (this.perspCamera.near = e)\r\n      : this.isOrthographicCamera && (this.orthoCamera.near = e)\r\n  }\r\n  get zoom() {\r\n    return this.isPerspectiveCamera\r\n      ? this.perspCamera.zoom\r\n      : this.isOrthographicCamera\r\n      ? this.orthoCamera.zoom\r\n      : void 0\r\n  }\r\n  set zoom(e) {\r\n    e < 0 ||\r\n      (this.isPerspectiveCamera\r\n        ? (this.perspCamera.zoom = e)\r\n        : this.isOrthographicCamera && (this.orthoCamera.zoom = e))\r\n  }\r\n  getTarget(e, t) {\r\n    let i\r\n    return (\r\n      void 0 === e &&\r\n        (console.warn(\r\n          'SPE.CombinedCamera: .getTarget() target is now required'\r\n        ),\r\n        (e = new THREE.Vector3())),\r\n      (i =\r\n        void 0 === t\r\n          ? this.getWorldDirection(new THREE.Vector3()).multiplyScalar(\r\n              this.targetOffset\r\n            )\r\n          : t.clone().multiplyScalar(this.targetOffset)),\r\n      e.copy(this.position).add(i),\r\n      e\r\n    )\r\n  }\r\n  getViewFrontToObject(e) {\r\n    const t = e.getWorldPosition(new THREE.Vector3()),\r\n      i = e\r\n        .getWorldDirection(new THREE.Vector3())\r\n        .multiplyScalar(this.targetOffset)\r\n    return { position: t.clone().add(i), target: t }\r\n  }\r\n  getViewToObject(e) {\r\n    const t = e.getWorldPosition(new THREE.Vector3()),\r\n      i = this.getWorldDirection(new THREE.Vector3()).multiplyScalar(\r\n        this.targetOffset\r\n      )\r\n    return { position: t.clone().sub(i), target: t }\r\n  }\r\n  setViewplaneSize(e, t) {\r\n    ;(this.left = 0.5 * -e),\r\n      (this.right = 0.5 * e),\r\n      (this.top = 0.5 * t),\r\n      (this.bottom = 0.5 * -t),\r\n      (this.aspect = e / t),\r\n      this.updateProjectionMatrix()\r\n  }\r\n  toOrthographic(e) {\r\n    ;(this.orthoCamera.left = this.left),\r\n      (this.orthoCamera.right = this.right),\r\n      (this.orthoCamera.top = this.top),\r\n      (this.orthoCamera.bottom = this.bottom),\r\n      (this.orthoCamera.view = this.view),\r\n      (this.orthoCamera.far = this.far),\r\n      this.orthoCamera.updateProjectionMatrix(),\r\n      (this.projectionMatrix = this.orthoCamera.projectionMatrix),\r\n      (this.projectionMatrixInverse = this.orthoCamera.projectionMatrixInverse),\r\n      delete this.isPerspectiveCamera,\r\n      (this.isOrthographicCamera = !0),\r\n      (this._type = 'OrthographicCamera'),\r\n      (!0 !== this.enableHelper && !0 !== e) || this.objectHelper.update()\r\n  }\r\n  toPerspective(e) {\r\n    ;(this.perspCamera.aspect = this.aspect),\r\n      (this.perspCamera.fov = this.fov),\r\n      (this.perspCamera.view = this.view),\r\n      (this.perspCamera.far = this.far),\r\n      this.perspCamera.updateProjectionMatrix(),\r\n      (this.projectionMatrix = this.perspCamera.projectionMatrix),\r\n      (this.projectionMatrixInverse = this.perspCamera.projectionMatrixInverse),\r\n      delete this.isOrthographicCamera,\r\n      (this.isPerspectiveCamera = !0),\r\n      (this._type = 'PerspectiveCamera'),\r\n      (!0 !== this.enableHelper && !0 !== e) || this.objectHelper.update()\r\n  }\r\n  setFocalLength(e) {\r\n    this.perspCamera.setFocalLength(e), this.toPerspective()\r\n  }\r\n  getFocalLength() {\r\n    return this.perspCamera.getFocalLength()\r\n  }\r\n  getEffectiveFOV() {\r\n    return this.perspCamera.getEffectiveFOV()\r\n  }\r\n  getFilmWidth() {\r\n    return this.perspCamera.getFilmWidth()\r\n  }\r\n  getFilmHeight() {\r\n    return this.perspCamera.getFilmHeight()\r\n  }\r\n  setViewOffset(e, t, i, r, a, s) {\r\n    this.isPerspectiveCamera\r\n      ? (this.perspCamera.setViewOffset(e, t, i, r, a, s), this.toPerspective())\r\n      : this.isOrthographicCamera &&\r\n        (this.orthoCamera.setViewOffset(e, t, i, r, a, s),\r\n        this.toOrthographic())\r\n  }\r\n  clearViewOffset() {\r\n    this.isPerspectiveCamera\r\n      ? (this.perspCamera.clearViewOffset(), this.toPerspective())\r\n      : this.isOrthographicCamera &&\r\n        (this.orthoCamera.clearViewOffset(), this.toOrthographic())\r\n  }\r\n  updateProjectionMatrix(e) {\r\n    this.isPerspectiveCamera\r\n      ? this.toPerspective(e)\r\n      : this.isOrthographicCamera && this.toOrthographic(e)\r\n  }\r\n  updateMatrixWorld(e) {\r\n    this.matrixAutoUpdate && this.updateMatrix(),\r\n      (this.matrixWorldNeedsUpdate || e) &&\r\n        (null === this.parent\r\n          ? this.matrixWorld.multiplyMatrices(\r\n              this.userData.hiddenMatrix,\r\n              this.matrix\r\n            )\r\n          : (this.matrixWorld.multiplyMatrices(\r\n              this.parent.matrixWorld,\r\n              this.userData.hiddenMatrix\r\n            ),\r\n            this.matrixWorld.multiplyMatrices(this.matrixWorld, this.matrix)),\r\n        (this.matrixWorldNeedsUpdate = !1),\r\n        (e = !0))\r\n    for (var t = this.children, i = 0, r = t.length; i < r; i++)\r\n      t[i].updateMatrixWorld(e)\r\n    this.matrixWorldInverse.copy(this.matrixWorld).invert()\r\n  }\r\n  updateWorldMatrix(e, t) {\r\n    var i = this.parent\r\n    if (\r\n      (!0 === e && null !== i && i.updateWorldMatrix(!0, !1),\r\n      this.matrixAutoUpdate && this.updateMatrix(),\r\n      null === this.parent\r\n        ? this.matrixWorld.multiplyMatrices(\r\n            this.userData.hiddenMatrix,\r\n            this.matrix\r\n          )\r\n        : (this.matrixWorld.multiplyMatrices(\r\n            this.parent.matrixWorld,\r\n            this.userData.hiddenMatrix\r\n          ),\r\n          this.matrixWorld.multiplyMatrices(this.matrixWorld, this.matrix)),\r\n      !0 === t)\r\n    )\r\n      for (var r = this.children, a = 0, s = r.length; a < s; a++)\r\n        r[a].updateWorldMatrix(!1, !0)\r\n    this.matrixWorldInverse.copy(this.matrixWorld).invert()\r\n  }\r\n  attach(e) {\r\n    const t = new THREE.Matrix4()\r\n    return (\r\n      this.updateWorldMatrix(!0, !1),\r\n      t.copy(this.matrixWorld).invert(),\r\n      null !== e.parent &&\r\n        (e.parent.updateWorldMatrix(!0, !1), t.multiply(e.parent.matrixWorld)),\r\n      void 0 !== e.userData.hiddenMatrix\r\n        ? e.userData.hiddenMatrix.premultiply(t)\r\n        : e.applyMatrix4(t),\r\n      e.updateWorldMatrix(!1, !1),\r\n      this.add(e),\r\n      this\r\n    )\r\n  }\r\n  computeSingleBoundingBox() {\r\n    this.singleBoundingBox || (this.singleBoundingBox = new SPE.Box3()),\r\n      this.singleBoundingBox.setFromObjectSize(this, !1),\r\n      this.singleBoundingBox.computeVertices(),\r\n      this.singleBoundingBox.computeEdges()\r\n  }\r\n  computeComplexBoundingBox(e) {\r\n    this.complexBoundingBox || (this.complexBoundingBox = new SPE.Box3()),\r\n      this.complexBoundingBox.setFromObjectSize(this, e)\r\n  }\r\n  raycast(e, t) {\r\n    !0 === this.enableHelper &&\r\n      !0 === this.objectHelper.visible &&\r\n      !1 === this.userData.activeCamera &&\r\n      this.objectHelper.raycast(e, t)\r\n  }\r\n  copy(e, t) {\r\n    const i = e.children\r\n    if (\r\n      ((e.children = []),\r\n      super.copy(e),\r\n      (e.children = i),\r\n      this.userDataFromJson(this.userData),\r\n      (this.userData.activeCamera = !1),\r\n      (this.userData.isEntity = !0),\r\n      delete this.userData.isDefaultCamera,\r\n      this.orthoCamera.copy(e.orthoCamera),\r\n      this.perspCamera.copy(e.perspCamera),\r\n      (this.left = e.left),\r\n      (this.right = e.right),\r\n      (this.top = e.top),\r\n      (this.bottom = e.bottom),\r\n      (this.far = e.far),\r\n      (this.view = null === e.view ? null : Object.assign({}, e.view)),\r\n      (this.isOrthographicCamera = e.isOrthographicCamera),\r\n      (this._type = e._type),\r\n      (this.aspect = e.aspect),\r\n      (this.fov = e.fov),\r\n      (this.focus = e.focus),\r\n      (this.filmGauge = e.filmGauge),\r\n      (this.filmOffset = e.filmOffset),\r\n      (this.isPerspectiveCamera = e.isPerspectiveCamera),\r\n      (this.targetOffset = e.targetOffset),\r\n      void 0 !== e.enableHelper && (this.enableHelper = e.enableHelper),\r\n      void 0 !== e.objectHelper &&\r\n        (this.objectHelper.visible = e.objectHelper.visible),\r\n      void 0 !== e.interaction && this.interaction.copy(e.interaction),\r\n      !0 === t)\r\n    )\r\n      for (let t = 0, r = i.length; t < r; ++t) {\r\n        const i = e.children[t]\r\n        !0 === i.userData.isEntity && this.add(i.clone())\r\n      }\r\n    return this.updateProjectionMatrix(), this\r\n  }\r\n  traverseEntity(e) {\r\n    !(function t(i) {\r\n      if (!i.userData.isEntity) return\r\n      e(i)\r\n      const r = i.children\r\n      for (let e = 0, i = r.length; e < i; ++e) t(r[e])\r\n    })(this)\r\n  }\r\n  userDataFromJson(e) {\r\n    ;(this.userData = e),\r\n      (this.userData.positionToCenter = new THREE.Vector3()),\r\n      (this.userData.hiddenMatrix = new THREE.Matrix4()),\r\n      void 0 !== e.hiddenMatrix &&\r\n        this.userData.hiddenMatrix.fromArray(e.hiddenMatrix.elements),\r\n      void 0 === e.lock && (this.userData.lock = !1)\r\n  }\r\n  fromJSON(e) {\r\n    return (\r\n      (this.left = e.left),\r\n      (this.right = e.right),\r\n      (this.top = e.top),\r\n      (this.bottom = e.bottom),\r\n      void 0 !== e.view && (this.view = Object.assign({}, e.view)),\r\n      void 0 !== e.zoomOrtho && (this.orthoCamera.zoom = e.zoomOrtho),\r\n      void 0 !== e.nearOrtho && (this.orthoCamera.near = e.nearOrtho),\r\n      (this.far = e.far),\r\n      (this._type = e.type),\r\n      e.isOrthographicCamera &&\r\n        (this.isOrthographicCamera = e.isOrthographicCamera),\r\n      (this.aspect = e.aspect),\r\n      (this.fov = e.fov),\r\n      (this.focus = e.focus),\r\n      (this.filmGauge = e.filmGauge),\r\n      (this.filmOffset = e.filmOffset),\r\n      void 0 !== e.zoomPersp && (this.perspCamera.zoom = e.zoomPersp),\r\n      void 0 !== e.nearPersp && (this.perspCamera.near = e.nearPersp),\r\n      e.isPerspectiveCamera &&\r\n        (this.isPerspectiveCamera = e.isPerspectiveCamera),\r\n      void 0 !== e.targetOffset && (this.targetOffset = e.targetOffset),\r\n      this.userDataFromJson(this.userData),\r\n      this.updateProjectionMatrix(),\r\n      this\r\n    )\r\n  }\r\n  toJSON(e) {\r\n    let t\r\n    const i = this.userData\r\n    return (\r\n      delete this.userData,\r\n      (t = super.toJSON(e)),\r\n      (this.userData = i),\r\n      (t.object.left = this.left),\r\n      (t.object.right = this.right),\r\n      (t.object.top = this.top),\r\n      (t.object.bottom = this.bottom),\r\n      null !== this.view && (t.object.view = Object.assign({}, this.view)),\r\n      (t.object.zoomOrtho = this.orthoCamera.zoom),\r\n      (t.object.nearOrtho = this.orthoCamera.near),\r\n      (t.object.far = this.far),\r\n      (t.object.type = this._type),\r\n      this.isOrthographicCamera &&\r\n        (t.object.isOrthographicCamera = this.isOrthographicCamera),\r\n      (t.object.aspect = this.aspect),\r\n      (t.object.fov = this.fov),\r\n      (t.object.focus = this.focus),\r\n      (t.object.filmGauge = this.filmGauge),\r\n      (t.object.filmOffset = this.filmOffset),\r\n      (t.object.zoomPersp = this.perspCamera.zoom),\r\n      (t.object.nearPersp = this.perspCamera.near),\r\n      this.isPerspectiveCamera &&\r\n        (t.object.isPerspectiveCamera = this.isPerspectiveCamera),\r\n      (t.object.targetOffset = this.targetOffset),\r\n      (t.object.userData = {\r\n        type: SPE.CombinedCamera.name,\r\n        isEntity: i.isEntity,\r\n        lock: i.lock,\r\n        scaleLock: i.scaleLock,\r\n        activeCamera: i.activeCamera,\r\n        hiddenMatrix: { elements: i.hiddenMatrix.toArray() }\r\n      }),\r\n      (t.object.enableHelper = this.enableHelper),\r\n      (t.object.interaction = this.interaction.toJSON(e)),\r\n      t\r\n    )\r\n  }\r\n}),\r\n  (SPE.CombinedCameraHelper = class extends THREE.CameraHelper {\r\n    constructor(e) {\r\n      super(e)\r\n      const t = new THREE.SphereGeometry(15, 4, 2),\r\n        i = new THREE.MeshBasicMaterial({\r\n          wireframe: !0,\r\n          fog: !1,\r\n          toneMapped: !1\r\n        }),\r\n        r = new THREE.Mesh(t, i)\r\n      this.add(r),\r\n        (this.isObjectHelper = !0),\r\n        (this.name = `CombinedCameraHelper: ${e.uuid}`)\r\n    }\r\n    raycast(e, t) {\r\n      var i = SPE.CombinedCameraHelper._ray,\r\n        r = SPE.CombinedCameraHelper._sphere,\r\n        a = SPE.CombinedCameraHelper._inverseMatrix,\r\n        s = SPE.CombinedCameraHelper.geometryHelper,\r\n        n = this.camera.matrixWorld\r\n      if (\r\n        (null === s.boundingSphere && s.computeBoundingSphere(),\r\n        r.copy(s.boundingSphere),\r\n        r.applyMatrix4(n),\r\n        !1 !== e.ray.intersectsSphere(r) &&\r\n          (a.copy(n).invert(),\r\n          i.copy(e.ray).applyMatrix4(a),\r\n          null === s.boundingBox || !1 !== i.intersectsBox(s.boundingBox)))\r\n      ) {\r\n        var o,\r\n          h,\r\n          l,\r\n          c,\r\n          d,\r\n          m,\r\n          u = s.index,\r\n          p = s.attributes.position,\r\n          f = s.drawRange\r\n        for (\r\n          d = Math.max(0, f.start), m = Math.min(u.count, f.start + f.count);\r\n          d < m;\r\n          d += 3\r\n        )\r\n          (h = u.getX(d)),\r\n            (l = u.getX(d + 1)),\r\n            (c = u.getX(d + 2)),\r\n            (o = E(this.camera, e, i, p, h, l, c)) &&\r\n              ((o.faceIndex = Math.floor(d / 3)), t.push(o))\r\n      }\r\n      function E(e, t, i, r, a, s, n) {\r\n        var o = new THREE.Vector3(),\r\n          h = new THREE.Vector3(),\r\n          l = new THREE.Vector3(),\r\n          c = new THREE.Vector3(),\r\n          d = new THREE.Vector3()\r\n        if (\r\n          (o.fromBufferAttribute(r, a),\r\n          h.fromBufferAttribute(r, s),\r\n          l.fromBufferAttribute(r, n),\r\n          null === i.intersectTriangle(o, h, l, !1, c))\r\n        )\r\n          return null\r\n        d.copy(c), d.applyMatrix4(e.matrixWorld)\r\n        var m = t.ray.origin.distanceTo(d)\r\n        return m < t.near || m > t.far\r\n          ? null\r\n          : { distance: m, point: d.clone(), object: e }\r\n      }\r\n    }\r\n  }),\r\n  (SPE.CombinedCameraHelper._ray = new THREE.Ray()),\r\n  (SPE.CombinedCameraHelper._sphere = new THREE.Sphere()),\r\n  (SPE.CombinedCameraHelper._inverseMatrix = new THREE.Matrix4()),\r\n  (SPE.CombinedCameraHelper.geometryHelper = new THREE.BoxBufferGeometry(\r\n    30,\r\n    30,\r\n    30\r\n  )),\r\n  (SPE.LightSpot = class extends THREE.SpotLight {\r\n    constructor(e, t, i, r, a, s) {\r\n      super(e, t, i, r, a, s),\r\n        (this.shadow.mapSize.width = 1024),\r\n        (this.shadow.mapSize.height = 1024),\r\n        (this.userData = {\r\n          type: SPE.LightSpot.name,\r\n          isEntity: !0,\r\n          lock: !1,\r\n          scaleLock: !1,\r\n          hiddenMatrix: new THREE.Matrix4()\r\n        }),\r\n        (this.enableHelper = !1),\r\n        (this.objectHelper = new SPE.SpotLightHelper(this)),\r\n        (this.interaction = new Interaction(this)),\r\n        (this._gizmos = {})\r\n      const n = this.shadow.camera\r\n      ;(n.fov = 2 * THREE.MathUtils.RAD2DEG * this.angle),\r\n        (n.aspect = 1),\r\n        (n.near = 100),\r\n        (n.far = 2500)\r\n      const o = new THREE.CameraHelper(this.shadow.camera)\r\n      ;(o.visible = !1), (this._gizmos.shadowmap = o), this.update()\r\n    }\r\n    get hiddenMatrix() {\r\n      return this.userData.hiddenMatrix\r\n    }\r\n    set hiddenMatrix(e) {\r\n      this.userData.hiddenMatrix.copy(e)\r\n    }\r\n    get geometryHelper() {\r\n      return SPE.SpotLightHelper.geometryHelper\r\n    }\r\n    get gizmos() {\r\n      return this._gizmos\r\n    }\r\n    set visibility(e) {\r\n      ;(this.visible = e), (this.objectHelper.visible = e)\r\n      for (let t = 0, i = this.children.length; t < i; ++t)\r\n        void 0 !== this.children[t].traverseEntity &&\r\n          this.children[t].traverseEntity(function (t) {\r\n            void 0 !== t.objectHelper &&\r\n              !0 === t.visible &&\r\n              (t.objectHelper.visible = e)\r\n          })\r\n    }\r\n    get visibility() {\r\n      return this.visible\r\n    }\r\n    showGizmos() {\r\n      for (const [e, t] of Object.entries(this._gizmos))\r\n        t instanceof THREE.CameraHelper && (t.visible = !0)\r\n    }\r\n    hideGizmos() {\r\n      for (const [e, t] of Object.entries(this._gizmos))\r\n        t instanceof THREE.CameraHelper && (t.visible = !1)\r\n    }\r\n    update() {\r\n      this.shadow.camera.updateProjectionMatrix()\r\n      for (const [e, t] of Object.entries(this._gizmos))\r\n        t instanceof THREE.CameraHelper && t.update()\r\n    }\r\n    updateMatrixWorld(e) {\r\n      this.matrixAutoUpdate && this.updateMatrix(),\r\n        (this.matrixWorldNeedsUpdate || e) &&\r\n          (null === this.parent\r\n            ? this.matrixWorld.multiplyMatrices(\r\n                this.userData.hiddenMatrix,\r\n                this.matrix\r\n              )\r\n            : (this.matrixWorld.multiplyMatrices(\r\n                this.parent.matrixWorld,\r\n                this.userData.hiddenMatrix\r\n              ),\r\n              this.matrixWorld.multiplyMatrices(this.matrixWorld, this.matrix)),\r\n          (this.matrixWorldNeedsUpdate = !1),\r\n          (e = !0)),\r\n        !0 === this.enableHelper &&\r\n          !0 === this.objectHelper.viisble &&\r\n          this.objectHelper.update()\r\n      for (var t = this.children, i = 0, r = t.length; i < r; i++)\r\n        t[i].updateMatrixWorld(e)\r\n    }\r\n    updateWorldMatrix(e, t) {\r\n      var i = this.parent\r\n      if (\r\n        (!0 === e && null !== i && i.updateWorldMatrix(!0, !1),\r\n        this.matrixAutoUpdate && this.updateMatrix(),\r\n        null === this.parent\r\n          ? this.matrixWorld.multiplyMatrices(\r\n              this.userData.hiddenMatrix,\r\n              this.matrix\r\n            )\r\n          : (this.matrixWorld.multiplyMatrices(\r\n              this.parent.matrixWorld,\r\n              this.userData.hiddenMatrix\r\n            ),\r\n            this.matrixWorld.multiplyMatrices(this.matrixWorld, this.matrix)),\r\n        !0 === t)\r\n      )\r\n        for (var r = this.children, a = 0, s = r.length; a < s; a++)\r\n          r[a].updateWorldMatrix(!1, !0)\r\n    }\r\n    attach(e) {\r\n      const t = new THREE.Matrix4()\r\n      return (\r\n        this.updateWorldMatrix(!0, !1),\r\n        t.copy(this.matrixWorld).invert(),\r\n        null !== e.parent &&\r\n          (e.parent.updateWorldMatrix(!0, !1),\r\n          t.multiply(e.parent.matrixWorld)),\r\n        void 0 !== e.userData.hiddenMatrix\r\n          ? e.userData.hiddenMatrix.premultiply(t)\r\n          : e.applyMatrix4(t),\r\n        e.updateWorldMatrix(!1, !1),\r\n        this.add(e),\r\n        this\r\n      )\r\n    }\r\n    computeSingleBoundingBox() {\r\n      this.singleBoundingBox || (this.singleBoundingBox = new SPE.Box3()),\r\n        this.singleBoundingBox.setFromObjectSize(this, !1),\r\n        this.singleBoundingBox.computeVertices(),\r\n        this.singleBoundingBox.computeEdges()\r\n    }\r\n    computeComplexBoundingBox(e) {\r\n      this.complexBoundingBox || (this.complexBoundingBox = new SPE.Box3()),\r\n        this.complexBoundingBox.setFromObjectSize(this, e)\r\n    }\r\n    raycast(e, t) {\r\n      this.objectHelper.raycast(e, t)\r\n    }\r\n    copy(e, t) {\r\n      const i = e.children\r\n      if (\r\n        ((e.children = []),\r\n        super.copy(e),\r\n        (e.children = i),\r\n        this.userDataFromJson(this.userData),\r\n        void 0 !== e.enableHelper && (this.enableHelper = e.enableHelper),\r\n        void 0 !== e.objectHelper &&\r\n          (this.objectHelper.visible = e.objectHelper.visible),\r\n        void 0 !== e.interaction && this.interaction.copy(e.interaction),\r\n        !0 === t)\r\n      )\r\n        for (let t = 0, r = i.length; t < r; ++t) {\r\n          const i = e.children[t]\r\n          !0 === i.userData.isEntity && this.add(i.clone())\r\n        }\r\n      return this\r\n    }\r\n    traverseEntity(e) {\r\n      !(function t(i) {\r\n        if (!i.userData.isEntity) return\r\n        e(i)\r\n        const r = i.children\r\n        for (let e = 0, i = r.length; e < i; ++e) t(r[e])\r\n      })(this)\r\n    }\r\n    userDataFromJson(e) {\r\n      ;(this.userData = e),\r\n        void 0 !== e.hiddenMatrix &&\r\n          (this.userData.hiddenMatrix = new THREE.Matrix4().fromArray(\r\n            e.hiddenMatrix.elements\r\n          )),\r\n        void 0 === e.lock && (this.userData.lock = !1)\r\n    }\r\n    toJSON(e) {\r\n      const t = this.userData\r\n      delete this.userData\r\n      const i = super.toJSON(e)\r\n      return (\r\n        (i.object.userData = {\r\n          type: SPE.LightSpot.name,\r\n          isEntity: t.isEntity,\r\n          lock: t.lock,\r\n          scaleLock: t.scaleLock,\r\n          hiddenMatrix: { elements: t.hiddenMatrix.toArray() }\r\n        }),\r\n        (i.object.enableHelper = this.enableHelper),\r\n        (i.object.interaction = this.interaction.toJSON(e)),\r\n        (this.userData = t),\r\n        i\r\n      )\r\n    }\r\n  }),\r\n  (SPE.LightPoint = class extends THREE.PointLight {\r\n    constructor(e, t, i, r) {\r\n      super(e, t, i, r),\r\n        (this.shadow.mapSize.width = 1024),\r\n        (this.shadow.mapSize.height = 1024),\r\n        (this.userData = {\r\n          type: SPE.LightPoint.name,\r\n          isEntity: !0,\r\n          lock: !1,\r\n          scaleLock: !1,\r\n          hiddenMatrix: new THREE.Matrix4()\r\n        }),\r\n        (this.enableHelper = !1),\r\n        (this.objectHelper = new SPE.PointLightHelper(this)),\r\n        (this.interaction = new Interaction(this)),\r\n        (this._gizmos = {})\r\n      const a = this.shadow.camera\r\n      ;(a.fov = 90), (a.aspect = 1), (a.near = 100), (a.far = 2500)\r\n      const s = new THREE.Vector3(\r\n          -a.far + this.position.x,\r\n          -a.far + this.position.y,\r\n          -a.far + this.position.z\r\n        ),\r\n        n = new THREE.Vector3(\r\n          a.far + this.position.x,\r\n          a.far + this.position.y,\r\n          a.far + this.position.z\r\n        ),\r\n        o = new THREE.Box3(s, n),\r\n        h = new THREE.Box3Helper(o, new THREE.Color(16755200))\r\n      ;(h.visible = !1), (this._gizmos.shadowmap = h), this.update()\r\n    }\r\n    get hiddenMatrix() {\r\n      return this.userData.hiddenMatrix\r\n    }\r\n    set hiddenMatrix(e) {\r\n      this.userData.hiddenMatrix.copy(e)\r\n    }\r\n    get geometryHelper() {\r\n      return SPE.PointLightHelper.geometryHelper\r\n    }\r\n    get gizmos() {\r\n      return this._gizmos\r\n    }\r\n    set visibility(e) {\r\n      ;(this.visible = e), (this.objectHelper.visible = e)\r\n      for (let t = 0, i = this.children.length; t < i; ++t)\r\n        void 0 !== this.children[t].traverseEntity &&\r\n          this.children[t].traverseEntity(function (t) {\r\n            void 0 !== t.objectHelper &&\r\n              !0 === t.visible &&\r\n              (t.objectHelper.visible = e)\r\n          })\r\n    }\r\n    get visibility() {\r\n      return this.visible\r\n    }\r\n    showGizmos() {\r\n      for (const [e, t] of Object.entries(this._gizmos))\r\n        t instanceof THREE.Box3Helper && (t.visible = !0)\r\n    }\r\n    hideGizmos() {\r\n      for (const [e, t] of Object.entries(this._gizmos))\r\n        t instanceof THREE.Box3Helper && (t.visible = !1)\r\n    }\r\n    update() {\r\n      if (\r\n        this.shadow &&\r\n        (this.shadow.camera.updateProjectionMatrix(), this._gizmos)\r\n      )\r\n        for (const [e, t] of Object.entries(this._gizmos))\r\n          if (t instanceof THREE.Box3Helper) {\r\n            const e = this.shadow.camera,\r\n              i = new THREE.Vector3(\r\n                -e.far + this.position.x,\r\n                -e.far + this.position.y,\r\n                -e.far + this.position.z\r\n              ),\r\n              r = new THREE.Vector3(\r\n                e.far + this.position.x,\r\n                e.far + this.position.y,\r\n                e.far + this.position.z\r\n              )\r\n            t.box.set(i, r), t.updateMatrixWorld(!0)\r\n          }\r\n    }\r\n    updateMatrixWorld(e) {\r\n      this.matrixAutoUpdate && this.updateMatrix(),\r\n        (this.matrixWorldNeedsUpdate || e) &&\r\n          (null === this.parent\r\n            ? this.matrixWorld.multiplyMatrices(\r\n                this.userData.hiddenMatrix,\r\n                this.matrix\r\n              )\r\n            : (this.matrixWorld.multiplyMatrices(\r\n                this.parent.matrixWorld,\r\n                this.userData.hiddenMatrix\r\n              ),\r\n              this.matrixWorld.multiplyMatrices(this.matrixWorld, this.matrix)),\r\n          (this.matrixWorldNeedsUpdate = !1),\r\n          (e = !0))\r\n      for (var t = this.children, i = 0, r = t.length; i < r; i++)\r\n        t[i].updateMatrixWorld(e)\r\n      this.update()\r\n    }\r\n    updateWorldMatrix(e, t) {\r\n      var i = this.parent\r\n      if (\r\n        (!0 === e && null !== i && i.updateWorldMatrix(!0, !1),\r\n        this.matrixAutoUpdate && this.updateMatrix(),\r\n        null === this.parent\r\n          ? this.matrixWorld.multiplyMatrices(\r\n              this.userData.hiddenMatrix,\r\n              this.matrix\r\n            )\r\n          : (this.matrixWorld.multiplyMatrices(\r\n              this.parent.matrixWorld,\r\n              this.userData.hiddenMatrix\r\n            ),\r\n            this.matrixWorld.multiplyMatrices(this.matrixWorld, this.matrix)),\r\n        !0 === t)\r\n      )\r\n        for (var r = this.children, a = 0, s = r.length; a < s; a++)\r\n          r[a].updateWorldMatrix(!1, !0)\r\n    }\r\n    attach(e) {\r\n      const t = new THREE.Matrix4()\r\n      return (\r\n        this.updateWorldMatrix(!0, !1),\r\n        t.copy(this.matrixWorld).invert(),\r\n        null !== e.parent &&\r\n          (e.parent.updateWorldMatrix(!0, !1),\r\n          t.multiply(e.parent.matrixWorld)),\r\n        void 0 !== e.userData.hiddenMatrix\r\n          ? e.userData.hiddenMatrix.premultiply(t)\r\n          : e.applyMatrix4(t),\r\n        e.updateWorldMatrix(!1, !1),\r\n        this.add(e),\r\n        this\r\n      )\r\n    }\r\n    computeSingleBoundingBox() {\r\n      this.singleBoundingBox || (this.singleBoundingBox = new SPE.Box3()),\r\n        this.singleBoundingBox.setFromObjectSize(this, !1),\r\n        this.singleBoundingBox.computeVertices(),\r\n        this.singleBoundingBox.computeEdges()\r\n    }\r\n    computeComplexBoundingBox(e) {\r\n      this.complexBoundingBox || (this.complexBoundingBox = new SPE.Box3()),\r\n        this.complexBoundingBox.setFromObjectSize(this, e)\r\n    }\r\n    raycast(e, t) {\r\n      this.objectHelper.raycast(e, t)\r\n    }\r\n    copy(e, t) {\r\n      const i = e.children\r\n      if (\r\n        ((e.children = []),\r\n        super.copy(e),\r\n        (e.children = i),\r\n        this.userDataFromJson(this.userData),\r\n        void 0 !== e.enableHelper && (this.enableHelper = e.enableHelper),\r\n        void 0 !== e.objectHelper &&\r\n          (this.objectHelper.visible = e.objectHelper.visible),\r\n        void 0 !== e.interaction && this.interaction.copy(e.interaction),\r\n        !0 === t)\r\n      )\r\n        for (let t = 0, r = i.length; t < r; ++t) {\r\n          const i = e.children[t]\r\n          !0 === i.userData.isEntity && this.add(i.clone())\r\n        }\r\n      return this\r\n    }\r\n    traverseEntity(e) {\r\n      !(function t(i) {\r\n        if (!i.userData.isEntity) return\r\n        e(i)\r\n        const r = i.children\r\n        for (let e = 0, i = r.length; e < i; ++e) t(r[e])\r\n      })(this)\r\n    }\r\n    userDataFromJson(e) {\r\n      ;(this.userData = e),\r\n        (this.userData.positionToCenter = new THREE.Vector3()),\r\n        void 0 !== e.hiddenMatrix &&\r\n          (this.userData.hiddenMatrix = new THREE.Matrix4().fromArray(\r\n            e.hiddenMatrix.elements\r\n          )),\r\n        void 0 === e.lock && (this.userData.lock = !1)\r\n    }\r\n    toJSON(e) {\r\n      const t = this.userData\r\n      delete this.userData\r\n      const i = super.toJSON(e)\r\n      return (\r\n        (i.object.userData = {\r\n          type: SPE.LightPoint.name,\r\n          isEntity: t.isEntity,\r\n          lock: t.lock,\r\n          scaleLock: t.scaleLock,\r\n          hiddenMatrix: { elements: t.hiddenMatrix.toArray() }\r\n        }),\r\n        (i.object.enableHelper = this.enableHelper),\r\n        (i.object.interaction = this.interaction.toJSON(e)),\r\n        (this.userData = t),\r\n        i\r\n      )\r\n    }\r\n  }),\r\n  (SPE.LightDirectional = class extends THREE.DirectionalLight {\r\n    constructor(e, t) {\r\n      super(e, t),\r\n        (this.shadow.mapSize.width = 1024),\r\n        (this.shadow.mapSize.height = 1024),\r\n        (this.userData = {\r\n          type: SPE.LightDirectional.name,\r\n          isEntity: !0,\r\n          lock: !1,\r\n          scaleLock: !1,\r\n          hiddenMatrix: new THREE.Matrix4()\r\n        }),\r\n        (this.enableHelper = !1),\r\n        (this.objectHelper = new SPE.DirectionalLightHelper(this)),\r\n        (this.interaction = new Interaction(this)),\r\n        (this._gizmos = {})\r\n      const i = this.shadow.camera\r\n      ;(i.top = 1250),\r\n        (i.bottom = -1250),\r\n        (i.right = 1250),\r\n        (i.left = -1250),\r\n        (i.near = 1),\r\n        (i.far = 2500)\r\n      const r = new THREE.CameraHelper(this.shadow.camera)\r\n      ;(r.visible = !1), (this._gizmos.shadowmap = r), this.update()\r\n    }\r\n    get hiddenMatrix() {\r\n      return this.userData.hiddenMatrix\r\n    }\r\n    set hiddenMatrix(e) {\r\n      this.userData.hiddenMatrix.copy(e)\r\n    }\r\n    get geometryHelper() {\r\n      return SPE.DirectionalLightHelper.geometryHelper\r\n    }\r\n    get gizmos() {\r\n      return this._gizmos\r\n    }\r\n    set visibility(e) {\r\n      ;(this.visible = e), (this.objectHelper.visible = e)\r\n      for (let t = 0, i = this.children.length; t < i; ++t)\r\n        void 0 !== this.children[t].traverseEntity &&\r\n          this.children[t].traverseEntity(function (t) {\r\n            void 0 !== t.objectHelper &&\r\n              !0 === t.visible &&\r\n              (t.objectHelper.visible = e)\r\n          })\r\n    }\r\n    get visibility() {\r\n      return this.visible\r\n    }\r\n    showGizmos() {\r\n      for (const [e, t] of Object.entries(this._gizmos))\r\n        t instanceof THREE.CameraHelper && (t.visible = !0)\r\n    }\r\n    hideGizmos() {\r\n      for (const [e, t] of Object.entries(this._gizmos))\r\n        t instanceof THREE.CameraHelper && (t.visible = !1)\r\n    }\r\n    update() {\r\n      this.shadow.camera.updateProjectionMatrix()\r\n      for (const [e, t] of Object.entries(this._gizmos))\r\n        t instanceof THREE.CameraHelper && t.update()\r\n    }\r\n    updateMatrixWorld(e) {\r\n      this.matrixAutoUpdate && this.updateMatrix(),\r\n        (this.matrixWorldNeedsUpdate || e) &&\r\n          (null === this.parent\r\n            ? this.matrixWorld.multiplyMatrices(\r\n                this.userData.hiddenMatrix,\r\n                this.matrix\r\n              )\r\n            : (this.matrixWorld.multiplyMatrices(\r\n                this.parent.matrixWorld,\r\n                this.userData.hiddenMatrix\r\n              ),\r\n              this.matrixWorld.multiplyMatrices(this.matrixWorld, this.matrix)),\r\n          (this.matrixWorldNeedsUpdate = !1),\r\n          (e = !0)),\r\n        !0 === this.enableHelper && this.objectHelper.update()\r\n      for (var t = this.children, i = 0, r = t.length; i < r; i++)\r\n        t[i].updateMatrixWorld(e)\r\n    }\r\n    updateWorldMatrix(e, t) {\r\n      var i = this.parent\r\n      if (\r\n        (!0 === e && null !== i && i.updateWorldMatrix(!0, !1),\r\n        this.matrixAutoUpdate && this.updateMatrix(),\r\n        null === this.parent\r\n          ? this.matrixWorld.multiplyMatrices(\r\n              this.userData.hiddenMatrix,\r\n              this.matrix\r\n            )\r\n          : (this.matrixWorld.multiplyMatrices(\r\n              this.parent.matrixWorld,\r\n              this.userData.hiddenMatrix\r\n            ),\r\n            this.matrixWorld.multiplyMatrices(this.matrixWorld, this.matrix)),\r\n        !0 === t)\r\n      )\r\n        for (var r = this.children, a = 0, s = r.length; a < s; a++)\r\n          r[a].updateWorldMatrix(!1, !0)\r\n    }\r\n    attach(e) {\r\n      const t = new THREE.Matrix4()\r\n      return (\r\n        this.updateWorldMatrix(!0, !1),\r\n        t.copy(this.matrixWorld).invert(),\r\n        null !== e.parent &&\r\n          (e.parent.updateWorldMatrix(!0, !1),\r\n          t.multiply(e.parent.matrixWorld)),\r\n        void 0 !== e.userData.hiddenMatrix\r\n          ? e.userData.hiddenMatrix.premultiply(t)\r\n          : e.applyMatrix4(t),\r\n        e.updateWorldMatrix(!1, !1),\r\n        this.add(e),\r\n        this\r\n      )\r\n    }\r\n    computeSingleBoundingBox() {\r\n      this.singleBoundingBox || (this.singleBoundingBox = new SPE.Box3()),\r\n        this.singleBoundingBox.setFromObjectSize(this, !1),\r\n        this.singleBoundingBox.computeVertices(),\r\n        this.singleBoundingBox.computeEdges()\r\n    }\r\n    computeComplexBoundingBox(e) {\r\n      this.complexBoundingBox || (this.complexBoundingBox = new SPE.Box3()),\r\n        this.complexBoundingBox.setFromObjectSize(this, e)\r\n    }\r\n    raycast(e, t) {\r\n      this.objectHelper.raycast(e, t)\r\n    }\r\n    copy(e, t) {\r\n      const i = e.children\r\n      if (\r\n        ((e.children = []),\r\n        super.copy(e),\r\n        (e.children = i),\r\n        this.userDataFromJson(this.userData),\r\n        void 0 !== e.enableHelper && (this.enableHelper = e.enableHelper),\r\n        void 0 !== e.objectHelper &&\r\n          (this.objectHelper.visible = e.objectHelper.visible),\r\n        void 0 !== e.interaction && this.interaction.copy(e.interaction),\r\n        !0 === t)\r\n      )\r\n        for (let t = 0, r = i.length; t < r; ++t) {\r\n          const i = e.children[t]\r\n          !0 === i.userData.isEntity && this.add(i.clone())\r\n        }\r\n      return this\r\n    }\r\n    traverseEntity(e) {\r\n      !(function t(i) {\r\n        if (!i.userData.isEntity) return\r\n        e(i)\r\n        const r = i.children\r\n        for (let e = 0, i = r.length; e < i; ++e) t(r[e])\r\n      })(this)\r\n    }\r\n    userDataFromJson(e) {\r\n      ;(this.userData = e),\r\n        void 0 !== e.hiddenMatrix &&\r\n          (this.userData.hiddenMatrix = new THREE.Matrix4().fromArray(\r\n            e.hiddenMatrix.elements\r\n          )),\r\n        void 0 === e.lock && (this.userData.lock = !1)\r\n    }\r\n    toJSON(e) {\r\n      const t = this.userData\r\n      delete this.userData\r\n      const i = super.toJSON(e)\r\n      return (\r\n        (i.object.userData = {\r\n          type: SPE.LightDirectional.name,\r\n          isEntity: t.isEntity,\r\n          lock: t.lock,\r\n          scaleLock: t.scaleLock,\r\n          hiddenMatrix: { elements: t.hiddenMatrix.toArray() }\r\n        }),\r\n        (i.object.enableHelper = this.enableHelper),\r\n        (i.object.interaction = this.interaction.toJSON(e)),\r\n        (this.userData = t),\r\n        i\r\n      )\r\n    }\r\n  }),\r\n  (SPE.SpotLightHelper = class extends THREE.SpotLightHelper {\r\n    constructor(e, t = 6710886) {\r\n      super(e, t),\r\n        (this.isObjectHelper = !0),\r\n        (this.name = `SpotLightHelper: ${e.uuid}`)\r\n    }\r\n    update() {\r\n      const e = SPE.SpotLightHelper._vector,\r\n        t = this.light.distance ? this.light.distance : 1e3,\r\n        i = t * Math.tan(this.light.angle)\r\n      this.cone.scale.set(i, i, t),\r\n        e.setFromMatrixPosition(this.light.target.matrixWorld),\r\n        this.cone.lookAt(e),\r\n        void 0 !== this.color\r\n          ? this.cone.material.color.set(this.color)\r\n          : this.cone.material.color.copy(this.light.color)\r\n    }\r\n    raycast(e, t) {\r\n      var i = SPE.SpotLightHelper._ray,\r\n        r = SPE.SpotLightHelper._sphere,\r\n        a = SPE.SpotLightHelper._inverseMatrix,\r\n        s = SPE.SpotLightHelper.geometryHelper,\r\n        n = this.light.matrixWorld\r\n      if (\r\n        (null === s.boundingSphere && s.computeBoundingSphere(),\r\n        r.copy(s.boundingSphere),\r\n        r.applyMatrix4(n),\r\n        !1 !== e.ray.intersectsSphere(r) &&\r\n          (a.copy(n).invert(),\r\n          i.copy(e.ray).applyMatrix4(a),\r\n          null === s.boundingBox || !1 !== i.intersectsBox(s.boundingBox)))\r\n      ) {\r\n        var o,\r\n          h,\r\n          l,\r\n          c,\r\n          d,\r\n          m,\r\n          u = s.index,\r\n          p = s.attributes.position,\r\n          f = s.drawRange\r\n        for (\r\n          d = Math.max(0, f.start), m = Math.min(u.count, f.start + f.count);\r\n          d < m;\r\n          d += 3\r\n        )\r\n          (h = u.getX(d)),\r\n            (l = u.getX(d + 1)),\r\n            (c = u.getX(d + 2)),\r\n            (o = E(this.light, e, i, p, h, l, c)) &&\r\n              ((o.faceIndex = Math.floor(d / 3)), t.push(o))\r\n      }\r\n      function E(e, t, i, r, a, s, n) {\r\n        var o = new THREE.Vector3(),\r\n          h = new THREE.Vector3(),\r\n          l = new THREE.Vector3(),\r\n          c = new THREE.Vector3(),\r\n          d = new THREE.Vector3()\r\n        if (\r\n          (o.fromBufferAttribute(r, a),\r\n          h.fromBufferAttribute(r, s),\r\n          l.fromBufferAttribute(r, n),\r\n          null === i.intersectTriangle(o, h, l, !1, c))\r\n        )\r\n          return null\r\n        d.copy(c), d.applyMatrix4(e.matrixWorld)\r\n        var m = t.ray.origin.distanceTo(d)\r\n        return m < t.near || m > t.far\r\n          ? null\r\n          : { distance: m, point: d.clone(), object: e }\r\n      }\r\n    }\r\n  }),\r\n  (SPE.SpotLightHelper._vector = new THREE.Vector3()),\r\n  (SPE.SpotLightHelper._ray = new THREE.Ray()),\r\n  (SPE.SpotLightHelper._sphere = new THREE.Sphere()),\r\n  (SPE.SpotLightHelper._inverseMatrix = new THREE.Matrix4()),\r\n  (SPE.SpotLightHelper.geometryHelper = new THREE.BoxBufferGeometry(\r\n    30,\r\n    30,\r\n    30\r\n  )),\r\n  (SPE.PointLightHelper = class extends THREE.PointLightHelper {\r\n    constructor(e, t = 15, i = 6710886) {\r\n      super(e, t, i),\r\n        (this.isObjectHelper = !0),\r\n        (this.name = `PointLightHelper: ${e.uuid}`)\r\n    }\r\n    raycast(e, t) {\r\n      var i = SPE.PointLightHelper._ray,\r\n        r = SPE.PointLightHelper._sphere,\r\n        a = SPE.PointLightHelper._inverseMatrix,\r\n        s = SPE.PointLightHelper.geometryHelper,\r\n        n = this.light.matrixWorld\r\n      if (\r\n        (null === s.boundingSphere && s.computeBoundingSphere(),\r\n        r.copy(s.boundingSphere),\r\n        r.applyMatrix4(n),\r\n        !1 !== e.ray.intersectsSphere(r) &&\r\n          (a.copy(n).invert(),\r\n          i.copy(e.ray).applyMatrix4(a),\r\n          null === s.boundingBox || !1 !== i.intersectsBox(s.boundingBox)))\r\n      ) {\r\n        var o,\r\n          h,\r\n          l,\r\n          c,\r\n          d,\r\n          m,\r\n          u = s.index,\r\n          p = s.attributes.position,\r\n          f = s.drawRange\r\n        for (\r\n          d = Math.max(0, f.start), m = Math.min(u.count, f.start + f.count);\r\n          d < m;\r\n          d += 3\r\n        )\r\n          (h = u.getX(d)),\r\n            (l = u.getX(d + 1)),\r\n            (c = u.getX(d + 2)),\r\n            (o = E(this.light, e, i, p, h, l, c)) &&\r\n              ((o.faceIndex = Math.floor(d / 3)), t.push(o))\r\n      }\r\n      function E(e, t, i, r, a, s, n) {\r\n        var o = new THREE.Vector3(),\r\n          h = new THREE.Vector3(),\r\n          l = new THREE.Vector3(),\r\n          c = new THREE.Vector3(),\r\n          d = new THREE.Vector3()\r\n        if (\r\n          (o.fromBufferAttribute(r, a),\r\n          h.fromBufferAttribute(r, s),\r\n          l.fromBufferAttribute(r, n),\r\n          null === i.intersectTriangle(o, h, l, !1, c))\r\n        )\r\n          return null\r\n        d.copy(c), d.applyMatrix4(e.matrixWorld)\r\n        var m = t.ray.origin.distanceTo(d)\r\n        return m < t.near || m > t.far\r\n          ? null\r\n          : { distance: m, point: d.clone(), object: e }\r\n      }\r\n    }\r\n  }),\r\n  (SPE.PointLightHelper._ray = new THREE.Ray()),\r\n  (SPE.PointLightHelper._sphere = new THREE.Sphere()),\r\n  (SPE.PointLightHelper._inverseMatrix = new THREE.Matrix4()),\r\n  (SPE.PointLightHelper.geometryHelper = new THREE.BoxBufferGeometry(\r\n    30,\r\n    30,\r\n    30\r\n  )),\r\n  (SPE.DirectionalLightHelper = class extends THREE.DirectionalLightHelper {\r\n    constructor(e, t = 15, i = 10066329) {\r\n      super(e, t, i),\r\n        (this.isObjectHelper = !0),\r\n        (this.name = `DirectionalLightHelper: ${e.uuid}`)\r\n    }\r\n    raycast(e, t) {\r\n      var i = SPE.DirectionalLightHelper._ray,\r\n        r = SPE.DirectionalLightHelper._sphere,\r\n        a = SPE.DirectionalLightHelper._inverseMatrix,\r\n        s = SPE.DirectionalLightHelper.geometryHelper,\r\n        n = this.light.matrixWorld\r\n      if (\r\n        (null === s.boundingSphere && s.computeBoundingSphere(),\r\n        r.copy(s.boundingSphere),\r\n        r.applyMatrix4(n),\r\n        !1 !== e.ray.intersectsSphere(r) &&\r\n          (a.copy(n).invert(),\r\n          i.copy(e.ray).applyMatrix4(a),\r\n          null === s.boundingBox || !1 !== i.intersectsBox(s.boundingBox)))\r\n      ) {\r\n        var o,\r\n          h,\r\n          l,\r\n          c,\r\n          d,\r\n          m,\r\n          u = s.index,\r\n          p = s.attributes.position,\r\n          f = s.drawRange\r\n        for (\r\n          d = Math.max(0, f.start), m = Math.min(u.count, f.start + f.count);\r\n          d < m;\r\n          d += 3\r\n        )\r\n          (h = u.getX(d)),\r\n            (l = u.getX(d + 1)),\r\n            (c = u.getX(d + 2)),\r\n            (o = E(this.light, e, i, p, h, l, c)) &&\r\n              ((o.faceIndex = Math.floor(d / 3)), t.push(o))\r\n      }\r\n      function E(e, t, i, r, a, s, n) {\r\n        var o = new THREE.Vector3(),\r\n          h = new THREE.Vector3(),\r\n          l = new THREE.Vector3(),\r\n          c = new THREE.Vector3(),\r\n          d = new THREE.Vector3()\r\n        if (\r\n          (o.fromBufferAttribute(r, a),\r\n          h.fromBufferAttribute(r, s),\r\n          l.fromBufferAttribute(r, n),\r\n          null === i.intersectTriangle(o, h, l, !1, c))\r\n        )\r\n          return null\r\n        d.copy(c), d.applyMatrix4(e.matrixWorld)\r\n        var m = t.ray.origin.distanceTo(d)\r\n        return m < t.near || m > t.far\r\n          ? null\r\n          : { distance: m, point: d.clone(), object: e }\r\n      }\r\n    }\r\n  }),\r\n  (SPE.DirectionalLightHelper._ray = new THREE.Ray()),\r\n  (SPE.DirectionalLightHelper._sphere = new THREE.Sphere()),\r\n  (SPE.DirectionalLightHelper._inverseMatrix = new THREE.Matrix4()),\r\n  (SPE.DirectionalLightHelper.geometryHelper = new THREE.BoxBufferGeometry(\r\n    30,\r\n    30,\r\n    30\r\n  )),\r\n  (SPE.Raycaster = class extends THREE.Raycaster {\r\n    setFromCamera(e, t) {\r\n      t && t.isPerspectiveCamera\r\n        ? (this.ray.origin.setFromMatrixPosition(t.matrixWorld),\r\n          this.ray.direction\r\n            .set(e.x, e.y, 0.5)\r\n            .unproject(t)\r\n            .sub(this.ray.origin)\r\n            .normalize(),\r\n          (this.camera = t))\r\n        : t && t.isOrthographicCamera\r\n        ? (this.ray.origin.set(e.x, e.y, -1).unproject(t),\r\n          this.ray.direction.set(0, 0, -1).transformDirection(t.matrixWorld),\r\n          (this.camera = t))\r\n        : console.error('THREE.Raycaster: Unsupported camera type.')\r\n    }\r\n    createRaycastLineHelper() {\r\n      const e = new THREE.LineBasicMaterial({ color: 16711680, linewidth: 10 }),\r\n        t = new THREE.Geometry(),\r\n        i = new THREE.Vector3(\r\n          this.ray.origin.x,\r\n          this.ray.origin.y,\r\n          this.ray.origin.z\r\n        ),\r\n        r = new THREE.Vector3(\r\n          this.ray.direction.x,\r\n          this.ray.direction.y,\r\n          this.ray.direction.z\r\n        ),\r\n        a = new THREE.Vector3().lerpVectors(i, r, 0.5)\r\n      return (\r\n        r.multiplyScalar(0),\r\n        t.vertices.push(i),\r\n        t.vertices.push(a),\r\n        t.vertices.push(r),\r\n        new THREE.Line(t, e)\r\n      )\r\n    }\r\n  }),\r\n  (SPE.Box3 = function (e, t) {\r\n    THREE.Box3.call(this, e, t), (this.transform = new THREE.Matrix4())\r\n  }),\r\n  (SPE.Box3.prototype = Object.create(THREE.Box3.prototype)),\r\n  (SPE.Box3.prototype.constructor = SPE.Box3),\r\n  (SPE.Box3.prototype.setFromObjectSize = function (e, t) {\r\n    e.updateWorldMatrix(!1, !1),\r\n      this.makeEmpty(),\r\n      (this.transform = e.matrixWorld)\r\n    let i = new THREE.Matrix4().copy(e.matrixWorld).invert()\r\n    return this.expandByObjectSize(e, i, t)\r\n  }),\r\n  (SPE.Box3.prototype.expandByObjectSize = (function () {\r\n    var e,\r\n      t,\r\n      i = new THREE.Vector3(),\r\n      r = new THREE.Matrix4()\r\n    const a = new THREE.Box3(),\r\n      s = new THREE.Vector3()\r\n    var n\r\n    function o(o) {\r\n      if (void 0 !== o.geometry) {\r\n        const e = o.geometry.userData.parameters\r\n        a.setFromArray(o.geometry.getAttribute('position').array),\r\n          a.getCenter(s),\r\n          i.set(e.width, e.height, e.depth).multiplyScalar(0.5)\r\n      } else\r\n        void 0 !== o.geometryHelper && !0 === n\r\n          ? (a.setFromArray(o.geometryHelper.getAttribute('position').array),\r\n            a.getCenter(s),\r\n            a.getSize(i).multiplyScalar(0.5))\r\n          : (s.setScalar(0), i.setScalar(0))\r\n      r.copy(e).multiply(o.matrixWorld),\r\n        (o.userData.positionToCenter = s),\r\n        0 === i.x && 0 === i.y && 0 === i.z\r\n          ? t.push(new THREE.Vector3(s.x, s.y, s.z).applyMatrix4(r))\r\n          : t.push(\r\n              new THREE.Vector3(-i.x, i.y, i.z).add(s).applyMatrix4(r),\r\n              new THREE.Vector3(-i.x, -i.y, i.z).add(s).applyMatrix4(r),\r\n              new THREE.Vector3(i.x, -i.y, i.z).add(s).applyMatrix4(r),\r\n              new THREE.Vector3(i.x, i.y, i.z).add(s).applyMatrix4(r),\r\n              new THREE.Vector3(-i.x, i.y, -i.z).add(s).applyMatrix4(r),\r\n              new THREE.Vector3(-i.x, -i.y, -i.z).add(s).applyMatrix4(r),\r\n              new THREE.Vector3(i.x, -i.y, -i.z).add(s).applyMatrix4(r),\r\n              new THREE.Vector3(i.x, i.y, -i.z).add(s).applyMatrix4(r)\r\n            )\r\n    }\r\n    return function (i, r, a) {\r\n      return (\r\n        this,\r\n        (e = r),\r\n        (n = i.enableHelper),\r\n        (t = []),\r\n        !0 === a\r\n          ? (i.traverseEntity(o), this.setFromPoints(t))\r\n          : (o(i), this.setFromPoints(t)),\r\n        this\r\n      )\r\n    }\r\n  })()),\r\n  (SPE.Box3.prototype.getCenter = function (e) {\r\n    return (\r\n      (e = THREE.Box3.prototype.getCenter.call(this, e)).applyMatrix4(\r\n        this.transform\r\n      ),\r\n      e\r\n    )\r\n  }),\r\n  (SPE.Box3.prototype.setFromObject = function (e, t) {\r\n    return this.makeEmpty(), this.expandByObject(e, t)\r\n  }),\r\n  (SPE.Box3.prototype.expandByObject = (function () {\r\n    var e,\r\n      t,\r\n      i,\r\n      r,\r\n      a = new THREE.Vector3()\r\n    function s(s) {\r\n      var n = s.geometry\r\n      if (void 0 !== n)\r\n        if (n.isGeometry) {\r\n          var o = n.vertices\r\n          for (t = 0, i = o.length; t < i; t++)\r\n            a.copy(o[t]),\r\n              a.applyMatrix4(s.matrixWorld),\r\n              void 0 !== r && a.applyMatrix4(r),\r\n              e.expandByPoint(a)\r\n        } else if (n.isBufferGeometry) {\r\n          var h = n.attributes.position\r\n          if (void 0 !== h)\r\n            for (t = 0, i = h.count; t < i; t++)\r\n              a.fromBufferAttribute(h, t).applyMatrix4(s.matrixWorld),\r\n                void 0 !== r && a.applyMatrix4(r),\r\n                e.expandByPoint(a)\r\n        }\r\n    }\r\n    return function (t, i) {\r\n      return (e = this), t.updateMatrixWorld(!0), (r = i), t.traverse(s), this\r\n    }\r\n  })()),\r\n  (SPE.Box3.prototype.computeVertices = function () {\r\n    let e = this.getSize(new THREE.Vector3()).multiplyScalar(0.5)\r\n    var t = this.getCenter(new THREE.Vector3()),\r\n      i = new THREE.Matrix4().copy(this.transform).setPosition(t)\r\n    this.vertices = [\r\n      new THREE.Vector3(-e.x, e.y, e.z).applyMatrix4(i),\r\n      new THREE.Vector3(-e.x, -e.y, e.z).applyMatrix4(i),\r\n      new THREE.Vector3(e.x, -e.y, e.z).applyMatrix4(i),\r\n      new THREE.Vector3(e.x, e.y, e.z).applyMatrix4(i),\r\n      new THREE.Vector3(-e.x, e.y, -e.z).applyMatrix4(i),\r\n      new THREE.Vector3(-e.x, -e.y, -e.z).applyMatrix4(i),\r\n      new THREE.Vector3(e.x, -e.y, -e.z).applyMatrix4(i),\r\n      new THREE.Vector3(e.x, e.y, -e.z).applyMatrix4(i)\r\n    ]\r\n  }),\r\n  (SPE.Box3.prototype.computeEdges = function () {\r\n    this.vertices || this.computeVertices(),\r\n      (this.edges = [\r\n        new THREE.Line3().set(this.vertices[0], this.vertices[3]),\r\n        new THREE.Line3().set(this.vertices[1], this.vertices[2]),\r\n        new THREE.Line3().set(this.vertices[5], this.vertices[6]),\r\n        new THREE.Line3().set(this.vertices[4], this.vertices[7]),\r\n        new THREE.Line3().set(this.vertices[0], this.vertices[1]),\r\n        new THREE.Line3().set(this.vertices[3], this.vertices[2]),\r\n        new THREE.Line3().set(this.vertices[7], this.vertices[6]),\r\n        new THREE.Line3().set(this.vertices[4], this.vertices[5]),\r\n        new THREE.Line3().set(this.vertices[0], this.vertices[4]),\r\n        new THREE.Line3().set(this.vertices[1], this.vertices[5]),\r\n        new THREE.Line3().set(this.vertices[2], this.vertices[6]),\r\n        new THREE.Line3().set(this.vertices[3], this.vertices[7])\r\n      ])\r\n  }),\r\n  (SPE.Box3.prototype.computeFaces = function () {\r\n    this.vertices || this.computeVertices(),\r\n      (this.faces = [\r\n        new THREE.Vector3()\r\n          .copy(this.vertices[0])\r\n          .sub(this.vertices[2])\r\n          .multiplyScalar(0.5)\r\n          .add(this.vertices[2]),\r\n        new THREE.Vector3()\r\n          .copy(this.vertices[3])\r\n          .sub(this.vertices[6])\r\n          .multiplyScalar(0.5)\r\n          .add(this.vertices[6]),\r\n        new THREE.Vector3()\r\n          .copy(this.vertices[7])\r\n          .sub(this.vertices[5])\r\n          .multiplyScalar(0.5)\r\n          .add(this.vertices[5]),\r\n        new THREE.Vector3()\r\n          .copy(this.vertices[4])\r\n          .sub(this.vertices[1])\r\n          .multiplyScalar(0.5)\r\n          .add(this.vertices[1]),\r\n        new THREE.Vector3()\r\n          .copy(this.vertices[0])\r\n          .sub(this.vertices[7])\r\n          .multiplyScalar(0.5)\r\n          .add(this.vertices[7]),\r\n        new THREE.Vector3()\r\n          .copy(this.vertices[1])\r\n          .sub(this.vertices[6])\r\n          .multiplyScalar(0.5)\r\n          .add(this.vertices[6])\r\n      ])\r\n  }),\r\n  (SPE.Math = class {\r\n    static slerp(e, t, i, r) {\r\n      if (0 === r) return i.copy(e)\r\n      if (1 === r) return i.copy(t)\r\n      var a = e.w * t.w + e.x * t.x + e.y * t.y + e.z * t.z\r\n      if (a >= 1) return i.copy(e)\r\n      var s = 1 - a * a\r\n      if (s <= Number.EPSILON) {\r\n        var n = 1 - r\r\n        return (\r\n          (i.w = n * e.w + r * t.w),\r\n          (i.x = n * e.x + r * t.x),\r\n          (i.y = n * e.y + r * t.y),\r\n          (i.z = n * e.z + r * t.z),\r\n          i.normalize(),\r\n          i\r\n        )\r\n      }\r\n      var o = Math.sqrt(s),\r\n        h = Math.atan2(o, a),\r\n        l = Math.sin((1 - r) * h) / o,\r\n        c = Math.sin(r * h) / o\r\n      return (\r\n        (i.w = e.w * l + t.w * c),\r\n        (i.x = e.x * l + t.x * c),\r\n        (i.y = e.y * l + t.y * c),\r\n        (i.z = e.z * l + t.z * c),\r\n        i\r\n      )\r\n    }\r\n    static getRandomInt(e, t) {\r\n      return (\r\n        (e = Math.ceil(e)),\r\n        (t = Math.floor(t)),\r\n        Math.floor(Math.random() * (t - e) + e)\r\n      )\r\n    }\r\n    static getProjection(e, t, i) {\r\n      let r = e.clone().sub(t),\r\n        a = i.clone().sub(t),\r\n        s = t.distanceTo(i)\r\n      return r.dot(a) / s\r\n    }\r\n    static projectOnVector(e, t) {\r\n      return e.clone().dot(t) / t.length()\r\n    }\r\n    static angle2D(e, t, i, r, a = !1) {\r\n      let s = i - e,\r\n        n = r - t,\r\n        o = Math.atan2(n, s)\r\n      return (o *= 180 / Math.PI), a && o < 0 && (o = 360 + o), o\r\n    }\r\n    static angle3D(e, t, i) {\r\n      let r = e.clone().sub(t),\r\n        a = i.clone().sub(t),\r\n        s = t.distanceTo(e),\r\n        n = t.distanceTo(i),\r\n        o = r.dot(a) / (s * n)\r\n      return Math.acos(o)\r\n    }\r\n    static rotatePosition2D(e, t, i) {\r\n      return {\r\n        x: e * Math.cos(i) - t * Math.sin(i),\r\n        y: e * Math.sin(i) + t * Math.cos(i),\r\n        z: 0\r\n      }\r\n    }\r\n    static rotatePosition3D(e, t) {\r\n      return e.clone().applyMatrix3(SPE.Math.getRotateMatrix(t.x, t.y, t.z))\r\n    }\r\n    static getRotateMatrix(e, t, i) {\r\n      let r = new THREE.Matrix3(),\r\n        a = new THREE.Matrix3(),\r\n        s = new THREE.Matrix3()\r\n      return (\r\n        r.set(\r\n          1,\r\n          0,\r\n          0,\r\n          0,\r\n          Math.cos(e),\r\n          -Math.sin(e),\r\n          0,\r\n          Math.sin(e),\r\n          Math.cos(e)\r\n        ),\r\n        a.set(\r\n          Math.cos(t),\r\n          0,\r\n          Math.sin(t),\r\n          0,\r\n          1,\r\n          0,\r\n          -Math.sin(t),\r\n          0,\r\n          Math.cos(t)\r\n        ),\r\n        s.set(\r\n          Math.cos(i),\r\n          -Math.sin(i),\r\n          0,\r\n          Math.sin(i),\r\n          Math.cos(i),\r\n          0,\r\n          0,\r\n          0,\r\n          1\r\n        ),\r\n        r.multiply(a).multiply(s)\r\n      )\r\n    }\r\n    static round(e, t) {\r\n      let i = (e + 'e').split('e')\r\n      return +(\r\n        (i = (Math.round(i[0] + 'e' + (+i[1] + t)) + 'e').split('e'))[0] +\r\n        'e' +\r\n        (+i[1] - t)\r\n      )\r\n    }\r\n    static normalize(e, t, i) {\r\n      return (e - t) / (i - t)\r\n    }\r\n    static lerp(e, t, i) {\r\n      return (i - t) * e + t\r\n    }\r\n    static map(e, t, i, r, a) {\r\n      return SPE.Math.lerp(SPE.Math.normalize(e, t, i), r, a)\r\n    }\r\n    static clamp(e, t, i) {\r\n      return Math.min(Math.max(e, t), i)\r\n    }\r\n    static getMiddlePointByPerc(e, t, i) {\r\n      let r = t.clone().sub(e),\r\n        a = r.length()\r\n      return (r = r.normalize().multiplyScalar(a * i)), e.clone().add(r)\r\n    }\r\n    static getVectorDistanceInFloat(e, t) {\r\n      let i = e.x - t.x,\r\n        r = e.y - t.y,\r\n        a = e.z - t.z\r\n      return Math.sqrt(i * i + r * r + a * a)\r\n    }\r\n    static getVectorDistanceInVector(e, t) {\r\n      let i = e.x - t.x,\r\n        r = e.y - t.y,\r\n        a = e.z - t.z\r\n      return new THREE.Vector3(i, r, a)\r\n    }\r\n    static getObjectSize(e) {\r\n      let t = new THREE.Vector3()\r\n      return (\r\n        e.geometry.computeBoundingBox(),\r\n        (t.x = e.geometry.boundingBox.max.x - e.geometry.boundingBox.min.x),\r\n        (t.y = e.geometry.boundingBox.max.y - e.geometry.boundingBox.min.y),\r\n        (t.z = e.geometry.boundingBox.max.z - e.geometry.boundingBox.min.z),\r\n        t\r\n      )\r\n    }\r\n    static resetTransform(e, t) {\r\n      for (let i = 0; i < t.length; i++)\r\n        'all' == e\r\n          ? (t[i].position.set(0, 0, 0),\r\n            t[i].scale.set(1, 1, 1),\r\n            t[i].rotation.set(0, 0, 0))\r\n          : 'scale' == e\r\n          ? t[i].scale.set(1, 1, 1)\r\n          : t[i].rotation.set(0, 0, 0),\r\n          t[i].geometry && t[i].geometry.computeBoundingBox()\r\n    }\r\n    static containsObject(e, t) {\r\n      for (let i = 0; i < t.length; i++) if (t[i] === e) return !0\r\n      return !1\r\n    }\r\n    static findCentroid(e) {\r\n      let t = new THREE.Vector3(),\r\n        i = e.length\r\n      for (let i = 0; i < e.length; i++)\r\n        t.set(\r\n          t.x + e[i].position.x,\r\n          t.y + e[i].position.y,\r\n          t.z + e[i].position.z\r\n        )\r\n      return t.set(t.x / i, t.y / i, t.z / i), t\r\n    }\r\n    static removeFromArray(e, t) {\r\n      const i = e.indexOf(t)\r\n      e.splice(i, 1)\r\n    }\r\n    static getPositionRelativeToElement(e) {\r\n      let t = e.target.getBoundingClientRect()\r\n      return { mx: e.clientX - t.left, my: e.clientY - t.top }\r\n    }\r\n    static getElementMousePos(e, t) {\r\n      return { mx: t.pageX - e.offset().left, my: t.pageY - e.offset().top }\r\n    }\r\n    static changeColor(e, t) {\r\n      let i = e.geometry.attributes.color.array,\r\n        r = 3 * e.geometry.attributes.color.count,\r\n        a = 1 / (t.steps * r),\r\n        s = new THREE.Color()\r\n      for (let e = 0, n = r; e < n; e++)\r\n        s.set(makeColorGradient(e, a, t.phase)),\r\n          (i[3 * e] = s.r),\r\n          (i[3 * e + 1] = s.g),\r\n          (i[3 * e + 2] = s.b)\r\n      e.geometry.attributes.color.needsUpdate = !0\r\n    }\r\n    static getColoredBufferLine(e, t, i) {\r\n      let r,\r\n        a,\r\n        s,\r\n        n = i.vertices,\r\n        o = i.vertices.length,\r\n        h = new THREE.BufferGeometry(),\r\n        l = new THREE.LineBasicMaterial({ vertexColors: THREE.VertexColors }),\r\n        c = new Float32Array(3 * o),\r\n        d = new Float32Array(3 * o),\r\n        m = 1 / (e * o),\r\n        u = new THREE.Color()\r\n      for (let e = 0, i = o; e < i; e++)\r\n        (r = n[e].x),\r\n          (a = n[e].y),\r\n          (s = n[e].z),\r\n          (c[3 * e] = r),\r\n          (c[3 * e + 1] = a),\r\n          (c[3 * e + 2] = s),\r\n          u.set(makeColorGradient(e, m, t)),\r\n          (d[3 * e] = u.r),\r\n          (d[3 * e + 1] = u.g),\r\n          (d[3 * e + 2] = u.b)\r\n      return (\r\n        h.setAttribute('position', new THREE.BufferAttribute(c, 3)),\r\n        h.setAttribute('color', new THREE.BufferAttribute(d, 3)),\r\n        new THREE.Line(h, l)\r\n      )\r\n    }\r\n    static makeColorGradient(e, t, i) {\r\n      let r, a, s\r\n      a = s = r = t\r\n      let n = i + 2,\r\n        o = i + 4,\r\n        h = 127 * Math.sin(r * e + i) + 128,\r\n        l = 127 * Math.sin(a * e + n) + 128,\r\n        c = 127 * Math.sin(s * e + o) + 128\r\n      return parseInt('0x' + _byte2Hex(h) + _byte2Hex(l) + _byte2Hex(c))\r\n    }\r\n    static _byte2Hex(e) {\r\n      return (\r\n        String('0123456789ABCDEF'.substr((e >> 4) & 15, 1)) +\r\n        '0123456789ABCDEF'.substr(15 & e, 1)\r\n      )\r\n    }\r\n    static drawBezierTangent(e, t) {\r\n      let i = new THREE.LineCurve3(e, t).getPoints(1),\r\n        r = new THREE.BufferGeometry().setFromPoints(i)\r\n      return new THREE.Line(r, new THREE.LineBasicMaterial({ color: 16711680 }))\r\n    }\r\n    static fixUvs(e, t, i) {\r\n      for (let r = 0; r < e.attributes.uv.array.length; r += 2)\r\n        (e.attributes.uv.array[r] = (e.attributes.uv.array[r] + t / 2) / t),\r\n          (e.attributes.uv.array[r + 1] =\r\n            1 - ((e.attributes.uv.array[r + 1] - i / 2) / i) * -1)\r\n    }\r\n    static flattenArray(e) {\r\n      return (e = [].concat.apply([], e))\r\n    }\r\n    static sortNumber(e, t) {\r\n      return e - t\r\n    }\r\n    static swapArrayValues(e, t, i) {\r\n      let r = e[t]\r\n      ;(e[t] = e[i]), (e[i] = r)\r\n    }\r\n  })\r\n","import './setup'\n\nimport * as React from 'react'\n\nimport { SpeRuntime } from './spline-runtime.js'\nimport styles from './styles.module.css'\n\ninterface Props {\n  scene: object\n  assets?: object\n  id?: string\n  className?: string\n  style?: React.CSSProperties\n  canvasStyle?: React.CSSProperties\n}\n\nexport const Spline = ({ scene, assets, id, className, style, canvasStyle }: Props) => {\n  const canvasRef: any = React.useRef<HTMLCanvasElement>()\n  React.useEffect(() => {\n    const { current } = canvasRef\n    if (current != null) {\n      // @ts-ignore\n      current.width = current.width\n    }\n    const splineRuntime = new SpeRuntime(scene, assets || { fonts: [], images: [], models: [], animations: [] }, {}, current)\n\n    splineRuntime.run()\n  }, [scene, assets])\n  return (\n    <div className={className} style={style}>\n      <div className={styles.container}>\n        <canvas\n          id={id}\n          className={styles.canvas}\n          ref={canvasRef}\n          style={canvasStyle}\n        ></canvas>\n      </div>\n    </div>\n  )\n}\n"],"names":["window","THREE","three","anime","SPE","SPE_USES_PREVIEW_IMAGE","UNSIGNED_BYTE","UNSIGNED_SHORT","UNSIGNED_INT","FLOAT","ARRAY_BUFFER","SPE_LAYER_TYPE_LIGHTING","SPE_LAYER_TYPE_COLOR","SPE_LAYER_TYPE_GRADIENT","SPE_LAYER_TYPE_NORMAL","SPE_LAYER_TYPE_DEPTH","SPE_LAYER_TYPE_TEXTURE","SPE_LAYER_TYPE_NOISE","SPE_LAYER_TYPE_FRESNEL","SPE_LAYER_TYPE_POINTS","SPE_LAYER_TYPE_LINES","SPE_LAYER_UNIFORM_TYPE_BOOL","SPE_LAYER_UNIFORM_TYPE_INT","SPE_LAYER_UNIFORM_TYPE_FLOAT","SPE_LAYER_UNIFORM_TYPE_VEC2","SPE_LAYER_UNIFORM_TYPE_VEC3","SPE_LAYER_UNIFORM_TYPE_VEC4","SPE_LAYER_UNIFORM_TYPE_COLOR","SPE_LAYER_UNIFORM_TYPE_ARRAY_INT","SPE_LAYER_UNIFORM_TYPE_ARRAY_FLOAT","SPE_LAYER_UNIFORM_TYPE_ARRAY_VEC2","SPE_LAYER_UNIFORM_TYPE_ARRAY_VEC3","SPE_LAYER_UNIFORM_TYPE_ARRAY_VEC4","SPE_LAYER_UNIFORM_TYPE_ARRAY_COLOR","SPE_LAYER_UNIFORM_TYPE_MAT3","SPE_LAYER_UNIFORM_TYPE_MAT4","SPE_LAYER_UNIFORM_TYPE_SAMPLER_2D","SPE_RENDERABLE_MESH3D","SPE_COLOR_DEFAULT","SPE_COLOR_RED","SPE_BLENDING_NORMAL","SPE_BLENDING_MULTIPLY","SPE_RUNTIME_VIEWMODE_FULLSCREEN","SPE_RUNTIME_VIEWMODE_CUSTOM_SIZE","SPE_RUNTIME_VIEWMODE_FULL_WIDTH","SPE_RUNTIME_VIEWMODE_FULL_HEIGHT","SPE_RUNTIME_QUALITY_HIGH","SPE_RUNTIME_QUALITY_DEFAULT","QualityModifiers","SphereGeometry","widthSegments","scalers","high","middle","low","default","minValue","maxValue","heightSegments","CubeGeometry","cornerSegments","ConeGeometry","radialSegments","CylinderGeometry","EllipseGeometry","spikes","PolygonGeometry","extrudeBevelSegments","RectangleGeometry","StarGeometry","TorusGeometry","tubularSegments","SpeGltfDecoder","constructor","e","mGltfSceneGraph","mSceneGraph","mSceneCamera","mSceneOptions","mNodes","mCameras","mLights","mGeometries","mGeometriesSpe","mAccessors","mMaterials","decode","SpeScene","mObjects","mInteractionStates","spline","usePrimitives","useOrbitControls","bgColor","Color","bgAlpha","orbitDamped","orbitTarget","cameraType","cameraRotate","cameraPan","cameraZoom","viewMode","viewWidth","viewHeight","quality","t","Interaction","CachedImages","images","i","Object","entries","Image","src","url","CachedTextures","textures","image","r","a","Texture","mapping","wrap","magFilter","minFilter","format","type","anisotropy","encoding","offset","fromArray","repeat","center","updateMatrix","interactionStates","InteractionState","fromJSON","cameras","length","_decodeCamera","extensions","KHR_lights_punctual","lights","_decodeLight","_constructGeometricData","materials","_decodeMaterial","meshes_spe","_decodeSpeGeometry","s","meshes","_decodeGeometry","n","nodes","_decodeNode","interactions","spe_interaction","interaction","o","h","SpeStack","children","push","empty","pop","add","fog","color","near","far","Fog","mainCameraIndex","perspective","l","spe_options","yfov","znear","zfar","CombinedCamera","toPerspective","c","zoom","orthographic","xmag","ymag","toOrthographic","console","warn","setHex","intensity","HemisphereLight","LightDirectional","shadows","castShadow","shadow","camera","right","shadowmapViewRight","left","shadowmapViewLeft","top","shadowmapViewTop","bottom","shadowmapViewBottom","shadowmapViewNear","shadowmapViewFar","range","decay","LightPoint","innerConeAngle","Math","PI","penumbra","LightSpot","fov","shadowmapViewFov","MathUtils","RAD2DEG","error","buffers","_decodeBuffer","bufferViews","_decodeBufferView","accessors","_decodeAccessor","byteLength","uri","indexOf","slice","atob","Uint8Array","charCodeAt","data","byteOffset","buffer","target","bufferView","componentType","count","_getAccessorItemSize","_getAccessorComponentSize","_createUint16Buffer","_createUint32Buffer","_createFloat32Buffer","_createBufferAttribute","KHR_materials_common","_decodeSimpleMaterial","spe_layers","_decodePbrMaterial","technique","values","diffuse","specular","emission","shininess","transparent","transparency","visible","wireframe","d","side","FrontSide","m","flatShading","u","SpePhongMaterial","emissive","opacity","SpeLambertMaterial","ambient","SpeBasicMaterial","SpeToonMaterial","roughness","metalness","reflectivity","SpePhysicalMaterial","techniques","Array","fill","_applyQualityScalers","parameters","width","height","depth","SpeLoadCharData","char","fontFamily","lod","build","max","min","primitives","groups","indices","attributes","BufferGeometry","setIndex","setAttribute","toLowerCase","addGroup","start","materialIndex","Vector3","computeBoundingBox","boundingBox","getSize","x","y","z","scale","abs","userData","position","copy","translation","quaternion","Quaternion","rotation","hiddenMatrix","Matrix4","uuid","generateUUID","mesh_spe","SphereBufferGeometry","material","SpeMesh3D","SpeMesh2D","SpeTextContainer","SpeTextChar3D","receiveShadow","spe_cloner","cloner","Cloner","spe_cloner_data","mesh","light","makeRotationFromQuaternion","elements","spe_empty_object","SpeEmptyObject","Object3D","Uint16Array","Uint32Array","Float32Array","BYTES_PER_ELEMENT","DataView","ArrayBuffer","setUint8","getFloat32","name","Float32BufferAttribute","Uint16BufferAttribute","Uint32BufferAttribute","SpeIMesh","Mesh","mLocalTransform","mInteraction","visibility","traverseEntity","objectHelper","updateGeometry","geometry","computeSingleBoundingBox","singleBoundingBox","Box3","setFromObjectSize","computeVertices","computeEdges","computeComplexBoundingBox","complexBoundingBox","updateMatrixWorld","matrixAutoUpdate","matrixWorldNeedsUpdate","parent","matrixWorld","multiplyMatrices","matrix","updateWorldMatrix","shallowClone","shallowCopy","userDataFromJson","isEntity","positionToCenter","lock","Group","SpeLayer","mId","mType","mNext","mDefines","mUniforms","mProgramVertUniforms","mProgramFragUniforms","initializeUniformsAndDefines","id","next","defines","uniforms","paramNames","keys","getValues","value","toArray","generateUniformsCodeVert","generateUniformsCodeFrag","generateShaderCodeVert","generateShaderCodeFrag","copyUniforms","clone","CreateLayer","SpeLayerLighting","SpeLayerColor","SpeLayerGradient","SpeLayerNormal","SpeLayerDepth","SpeLayerTexture","SpeLayerNoise","SpeLayerFresnel","SpeLayerPoints","SpeLayerLines","DictToUniforms","SPE_USE_LAYER_LIGHTING","alpha","mode","SPE_USE_LAYER_COLOR","SPE_USE_LAYER_TEXTURE","USE_UV","texture","needsUpdate","mat","crop","SPE_USE_LAYER_NORMAL","cnormal","SPE_USE_LAYER_DEPTH","origin","isVector","colorA","colorB","SPE_USE_LAYER_NOISE","SPE_NOISE_NUM_OCTAVES","move","distortion","Vector2","fA","fB","colorC","colorD","intA","intB","intC","intD","SPE_USE_LAYER_FRESNEL","bias","factor","SPE_USE_LAYER_GRADIENT","SPE_GRADIENT_MAX_SIZE","gl_type","num","smooth","floor","Vector4","colors","steps","morph","angle","w","concat","SPE_USE_LAYER_POINTS","useBack","threshold","SPE_USE_LAYER_LINES","thickness","smoothOffset","CreateLayerFromJSON","preprocess_uniforms","Number","isInteger","isNaN","g","b","SpeLayersList","mHead","mShader","addLayer","head","shader","addLayerBeforeAt","random","removeLayer","getLayer","updateLayerUniform","updateLayerUniformByLayer","getUniforms","getDefinesCode","getVertUniformsCode","getFragUniformsCode","getFragShaderCodePreLighting","getFragShaderCodeLighting","getFragShaderCodePostLighting","MeshPhongMaterial","mLayersList","onBeforeCompile","SpeShaderLib","GetSetupCallback","layersList","layerList","MeshLambertMaterial","MeshPhysicalMaterial","MeshToonMaterial","SpeFontsCache","SpeCharsCache","SPE_PATH_FONTS","SPE_DEFAULT_TEXT_FONT","SPE_DEFAULT_TEXT_CHARACTER","SPE_DEFAULT_TEXT_LOD","generateShapes","ShapeBufferGeometry","resolution","glyphsHa","glyphs","ha","mChar","mFontFamily","mLod","mFontSize","fontSize","mLetterSpacing","letterSpacing","mResolution","mGlyphsHa","mLocalPosition","mCharSize","updateFontSize","set","SpeLoaderManager","mAssets","mOnFinishCallback","mNumAssetsToLoad","mNumAssetsLoaded","run","fonts","models","animations","FontLoader","load","SpeRuntime","canvas$1","mGltfScene","mConfig","mViewportMode","mViewportWidth","innerWidth","mViewportHeight","innerHeight","mRenderer","WebGLRenderer","antialias","canvas","setPixelRatio","devicePixelRatio","setSize","shadowMap","enabled","PCFSoftShadowMap","mScene","mMainCamera","mOrbitControls","mPlayHandler","mRunning","mLoaderManager","onRuntimeAssetsLoaded","bind","requestAnimationFrame","onRender","info","loadFromGltf","addEventListener","onResize","document","querySelector","style","display","isEnable","activate","update","autoClear","render","aspect","updateProjectionMatrix","setClearColor","OrbitControls","domElement","enableRotate","enablePan","enableZoom","enableDamping","rotateSpeed","panSpeed","PlayMode","Scene","SetupShader","fragmentShader","vertexShader","replace","string","eval","object","states","events","statesManager","InteractionStatesManager","InteractionEvent","targets","_type","key","ui","isCollapsed","Euler","InteractionTarget","easing","EASING","EASE_IN_OUT","duration","delay","cubicControls","springParameters","mass","stiffness","damping","velocity","cycle","rewind","Raycaster","setFromCamera","TYPE","MOUSE_DOWN","intersectObject","interactionEvent","dispatch","MOUSE_UP","MOUSE_HOVER","find","dispatchReverse","pageX","pageY","LOOK_AT","forEach","lookAt","KEY_DOWN","KEY_UP","getBoundingClientRect","clientX","clientY","deactivate","end","removeEventListener","reset","minDistance","maxDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","dampingFactor","zoomSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TOUCH","TWO","DOLLY_PAN","target0","position0","zoom0","getPolarAngle","f","phi","getAzimuthalAngle","theta","saveState","dispatchEvent","NONE","setFromUnitVectors","up","invert","sub","applyQuaternion","setFromVector3","P","E","isFinite","makeSafe","radius","addScaledVector","setFromSpherical","multiplyScalar","v","distanceToSquared","p","dot","dispose","ee","W","q","K","Q","Z","ownerDocument","k","X","J","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","_","S","T","R","M","L","I","pow","H","A","C","setFromMatrixColumn","D","crossVectors","O","isPerspectiveCamera","tan","clientHeight","isOrthographicCamera","clientWidth","$","U","B","G","N","V","sqrt","j","subVectors","F","Y","pointerType","preventDefault","focus","button","ctrlKey","metaKey","shiftKey","stopPropagation","deltaY","keyCode","DOLLY_ROTATE","tabIndex","prototype","create","EventDispatcher","MapControls","call","Set","newState","selectedState","addState","splice","removeState","selectState","execute","getEventType","hasEventType","some","newEvent","ORDER","addEvent","removeEvent","delete","state","addTarget","toJSON","animation","pause","_removeBackLayer","currentState","prevState","START","play","animate","reverse","isArray","backLayer","isBack","getTimingFunction","LINEAR","EASE","EASE_IN","EASE_OUT","CUBIC","SPRING","timeline","endDelay","direction","loop","finished","then","animateMatrix","animateGeometry","animateMaterial","animateCamera","equals","lerpVectors","DEG2RAD","setFromEuler","slerp","decompose","compose","buildFromGeometry","wrapS","wrapT","repeatX","repeatY","offsetX","offsetY","Promise","complete","all","isCamera","zoomPersp","zoomOrtho","MOUSE_ENTER","MOUSE_LEAVE","SCROLL","newTarget","removeTarget","updateMaterial","updateCamera","perspCamera","orthoCamera","map","setFromQuaternion","sp_mass","sp_stiffness","sp_damping","sp_velocity","_object","springControls","updateObject","updateSceneGraph","multiply","isLight","premultiply","updateMaterialLayer","selectedMaterial","pushMaterialLayer","popMaterialLayer","removeMaterialLayer","layer","pos","restoreMaterialLayerRemoved","changeMaterialLayer","restoreMaterialLayerChanged","moveMaterialLayer","restoreMaterialLayerMoved","setMaterialLayers","restoreMaterialLayersSet","openEnded","thetaStart","thetaLength","cornerRadiusTop","cornerRadiusBottom","RoundedCylinderBufferGeometry","ConeBufferGeometry","depthSegments","cornerRadius","BoxBufferGeometry","RoundedBoxBufferGeometry","pi2","sin","cos","sign","subScalar","flip","radiusTop","radiusBottom","hollow","setLength","normalize","two2three","offset3d","angleTo","projectOntoLine","projectOnVector","innerRadius","RingBufferGeometry","Shape","lineTo","curves","fixUvs","IcosahedronGeometry","detail","IcosahedronBufferGeometry","extrudeDepth","extrudeBevelSize","Geometry","Utils","roundShapePolygon","getPoints","ExtrudeBufferGeometry","curveSegments","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","PyramidGeometry","RoundedPyramidBufferGeometry","setY","cross","atan","genHelix","round","ceil","distanceTo","setComponent","addVectors","unshift","te","ie","cornerType","enabledIndieCorners","moveTo","quadraticCurveTo","SQRT2","bezierCurveTo","phiStart","phiLength","innerRadiusPercent","tubePercent","arc","TorusKnotGeometry","tube","TorusKnotBufferGeometry","LatheGeometry","segments","verticalSegments","points","LatheBufferGeometry","extractPoints","shape","rotateZ","HelixGeometry","revolutions","pathRadius","pathType","pathSegments","TriangleGeometry","isRect","len","nx","ny","ang","atan2","asin","absarc","closePath","NonParametricGeometry","StrokeGeometry","strokeAlignment","strokeGrowth","getAttribute","array","createLineGeo","meshGeometry","TextFrameGeometry","PlaneBufferGeometry","resizeGeometry","addBarycentricAttribute","removeBarycentricAttribute","deleteAttribute","loadFromUrl","BufferGeometryLoader","skip","hideBase","ra_radius","ra_startAngle","ra_endAngle","ra_align","ra_axis","ra_scale","ra_rotation","ra_position","li_scale","li_rotation","li_position","gr_count","gr_size","gr_fromCenter","setHideBase","refreshMaterial","_updateCount","_updateRadial","_updateLinear","_updateGrid","remove","identity","setScalar","translateOnAxis","Camera","OrthographicCamera","PerspectiveCamera","view","filmGauge","filmOffset","targetOffset","scaleLock","activeCamera","enableHelper","CombinedCameraHelper","geometryHelper","getTarget","getWorldDirection","getViewFrontToObject","getWorldPosition","getViewToObject","setViewplaneSize","projectionMatrix","projectionMatrixInverse","setFocalLength","getFocalLength","getEffectiveFOV","getFilmWidth","getFilmHeight","setViewOffset","clearViewOffset","matrixWorldInverse","attach","applyMatrix4","raycast","isDefaultCamera","assign","nearOrtho","nearPersp","CameraHelper","MeshBasicMaterial","toneMapped","isObjectHelper","_ray","_sphere","_inverseMatrix","boundingSphere","computeBoundingSphere","ray","intersectsSphere","intersectsBox","index","drawRange","getX","faceIndex","fromBufferAttribute","intersectTriangle","distance","point","Ray","Sphere","SpotLight","mapSize","SpotLightHelper","_gizmos","shadowmap","gizmos","showGizmos","hideGizmos","viisble","PointLight","PointLightHelper","Box3Helper","box","DirectionalLight","DirectionalLightHelper","_vector","cone","setFromMatrixPosition","unproject","transformDirection","createRaycastLineHelper","LineBasicMaterial","linewidth","vertices","Line","transform","makeEmpty","expandByObjectSize","setFromArray","getCenter","setFromPoints","setFromObject","expandByObject","isGeometry","expandByPoint","isBufferGeometry","traverse","setPosition","edges","Line3","computeFaces","faces","EPSILON","getRandomInt","getProjection","angle2D","angle3D","acos","rotatePosition2D","rotatePosition3D","applyMatrix3","getRotateMatrix","Matrix3","split","lerp","clamp","getMiddlePointByPerc","getVectorDistanceInFloat","getVectorDistanceInVector","getObjectSize","resetTransform","containsObject","findCentroid","removeFromArray","getPositionRelativeToElement","mx","my","getElementMousePos","changeColor","makeColorGradient","phase","getColoredBufferLine","vertexColors","VertexColors","BufferAttribute","parseInt","_byte2Hex","String","substr","drawBezierTangent","LineCurve3","uv","flattenArray","apply","sortNumber","swapArrayValues","Spline","scene","assets","className","canvasStyle","canvasRef","React","current","splineRuntime","styles","container","ref"],"mappings":";;;;AAKAA,MAAM,CAACC,KAAP,GAAeC,KAAf;AACAF,MAAM,CAACG,KAAP,GAAeA,OAAf;AACAH,MAAM,CAACI,GAAP,GAAaJ,MAAM,CAACI,GAAP,IAAc,EAA3B;AAGAJ,MAAM,CAACK,sBAAP,GAAgC,KAAhC;;ACTAL,MAAM,CAACI,GAAP,GAAaJ,MAAM,CAACI,GAAP,IAAc,EAA3B;AAEA,MAAME,aAAa,GAAG,IAAtB;AAAA,MACEC,cAAc,GAAG,IADnB;AAAA,MAEEC,YAAY,GAAG,IAFjB;AAAA,MAGEC,KAAK,GAAG,IAHV;AAAA,MAIEC,AAEAC,uBAAuB,GAAG,OAN5B;AAAA,MAOEC,oBAAoB,GAAG,OAPzB;AAAA,MAQEC,uBAAuB,GAAG,UAR5B;AAAA,MASEC,qBAAqB,GAAG,QAT1B;AAAA,MAUEC,oBAAoB,GAAG,OAVzB;AAAA,MAWEC,sBAAsB,GAAG,SAX3B;AAAA,MAYEC,oBAAoB,GAAG,OAZzB;AAAA,MAaEC,sBAAsB,GAAG,SAb3B;AAAA,MAcEC,qBAAqB,GAAG,QAd1B;AAAA,MAeEC,oBAAoB,GAAG,OAfzB;AAAA,MAgBEC,2BAA2B,GAAG,CAhBhC;AAAA,MAiBEC,0BAA0B,GAAG,CAjB/B;AAAA,MAkBEC,4BAA4B,GAAG,CAlBjC;AAAA,MAmBEC,2BAA2B,GAAG,CAnBhC;AAAA,MAoBEC,2BAA2B,GAAG,CApBhC;AAAA,MAqBEC,2BAA2B,GAAG,CArBhC;AAAA,MAsBEC,4BAA4B,GAAG,CAtBjC;AAAA,MAuBEC,gCAAgC,GAAG,CAvBrC;AAAA,MAwBEC,kCAAkC,GAAG,CAxBvC;AAAA,MAyBEC,iCAAiC,GAAG,CAzBtC;AAAA,MA0BEC,iCAAiC,GAAG,EA1BtC;AAAA,MA2BEC,iCAAiC,GAAG,EA3BtC;AAAA,MA4BEC,kCAAkC,GAAG,EA5BvC;AAAA,MA6BEC,2BAA2B,GAAG,EA7BhC;AAAA,MA8BEC,2BAA2B,GAAG,EA9BhC;AAAA,MA+BEC,iCAAiC,GAAG,EA/BtC;AAAA,MAgCEC,AAQAC,iBAAiB,GAAG,OAxCtB;AAAA,MAyCEC,AAmBAC,mBAAmB,GAAG,CA5DxB;AAAA,MA6DEC,AAGAC,+BAA+B,GAAG,CAhEpC;AAAA,MAiEEC,AACAC,+BAA+B,GAAG,CAlEpC;AAAA,MAmEEC,gCAAgC,GAAG,CAnErC;AAAA,MAoEEC,AAGAC,2BAA2B,GAAG,SAvEhC;AAwEA3C,GAAG,CAAC4C,gBAAJ,GAAuB;AACrBC,EAAAA,cAAc,EAAE;AACdC,IAAAA,aAAa,EAAE;AACbC,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADI;AAEbC,MAAAA,QAAQ,EAAE,CAFG;AAGbC,MAAAA,QAAQ,EAAE;AAHG,KADD;AAMdC,IAAAA,cAAc,EAAE;AACdP,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADK;AAEdC,MAAAA,QAAQ,EAAE,CAFI;AAGdC,MAAAA,QAAQ,EAAE;AAHI;AANF,GADK;AAarBE,EAAAA,YAAY,EAAE;AACZC,IAAAA,cAAc,EAAE;AACdT,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADK;AAEdC,MAAAA,QAAQ,EAAE,CAFI;AAGdC,MAAAA,QAAQ,EAAE;AAHI;AADJ,GAbO;AAoBrBI,EAAAA,YAAY,EAAE;AACZC,IAAAA,cAAc,EAAE;AACdX,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADK;AAEdC,MAAAA,QAAQ,EAAE,CAFI;AAGdC,MAAAA,QAAQ,EAAE;AAHI,KADJ;AAMZC,IAAAA,cAAc,EAAE;AACdP,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADK;AAEdC,MAAAA,QAAQ,EAAE,CAFI;AAGdC,MAAAA,QAAQ,EAAE;AAHI,KANJ;AAWZG,IAAAA,cAAc,EAAE;AACdT,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADK;AAEdC,MAAAA,QAAQ,EAAE,CAFI;AAGdC,MAAAA,QAAQ,EAAE;AAHI;AAXJ,GApBO;AAqCrBM,EAAAA,gBAAgB,EAAE;AAChBD,IAAAA,cAAc,EAAE;AACdX,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADK;AAEdC,MAAAA,QAAQ,EAAE,CAFI;AAGdC,MAAAA,QAAQ,EAAE;AAHI,KADA;AAMhBG,IAAAA,cAAc,EAAE;AACdT,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADK;AAEdC,MAAAA,QAAQ,EAAE,CAFI;AAGdC,MAAAA,QAAQ,EAAE;AAHI;AANA,GArCG;AAiDrBO,EAAAA,eAAe,EAAE;AACfC,IAAAA,MAAM,EAAE;AACNd,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADH;AAENC,MAAAA,QAAQ,EAAE,CAFJ;AAGNC,MAAAA,QAAQ,EAAE;AAHJ;AADO,GAjDI;AAwDrBS,EAAAA,eAAe,EAAE;AACfC,IAAAA,oBAAoB,EAAE;AACpBhB,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADW;AAEpBC,MAAAA,QAAQ,EAAE,CAFU;AAGpBC,MAAAA,QAAQ,EAAE;AAHU;AADP,GAxDI;AA+DrBW,EAAAA,iBAAiB,EAAE;AACjBD,IAAAA,oBAAoB,EAAE;AACpBhB,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADW;AAEpBC,MAAAA,QAAQ,EAAE,CAFU;AAGpBC,MAAAA,QAAQ,EAAE;AAHU;AADL,GA/DE;AAsErBY,EAAAA,YAAY,EAAE;AACZF,IAAAA,oBAAoB,EAAE;AACpBhB,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADW;AAEpBC,MAAAA,QAAQ,EAAE,CAFU;AAGpBC,MAAAA,QAAQ,EAAE;AAHU;AADV,GAtEO;AA6ErBa,EAAAA,aAAa,EAAE;AACbR,IAAAA,cAAc,EAAE;AACdX,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADK;AAEdC,MAAAA,QAAQ,EAAE,CAFI;AAGdC,MAAAA,QAAQ,EAAE;AAHI,KADH;AAMbc,IAAAA,eAAe,EAAE;AACfpB,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,GAAG,EAAE,GAA3B;AAAgCC,QAAAA,OAAO,EAAE;AAAzC,OADM;AAEfC,MAAAA,QAAQ,EAAE,CAFK;AAGfC,MAAAA,QAAQ,EAAE;AAHK;AANJ;AA7EM,CAAvB;;AA0FA,MAAMe,cAAN,CAAqB;AACnBC,EAAAA,WAAW,CAACC,CAAD,EAAI;AACb,AAAE,SAAKC,eAAL,GAAuBD,CAAxB,EACE,KAAKE,WAAL,GAAmB,IADrB,EAEE,KAAKC,YAAL,GAAoB,IAFtB,EAGE,KAAKC,aAAL,GAAqB,EAHvB,EAIE,KAAKC,MAAL,GAAc,EAJhB,EAKE,KAAKC,QAAL,GAAgB,EALlB,EAME,KAAKC,OAAL,GAAe,EANjB,EAOE,KAAKC,WAAL,GAAmB,EAPrB,EAQE,KAAKC,cAAL,GAAsB,EARxB,EASE,KAAKC,UAAL,GAAkB,EATpB,EAUE,KAAKC,UAAL,GAAkB,EAVpB;AAWF;;AACDC,EAAAA,MAAM,CAACZ,CAAD,EAAI;AACRA,IAAAA,CAAC,KAAK,KAAKC,eAAL,GAAuBD,CAA5B,CAAD,EACG,KAAKE,WAAL,GAAmB,IAAIW,QAAJ,EADtB,EAEG,KAAKV,YAAL,GAAoB,IAFvB,EAGG,KAAKC,aAAL,GAAqB,EAHxB,EAIG,KAAKC,MAAL,GAAc,CAAC,KAAKH,WAAN,CAJjB,EAKG,KAAKY,QAAL,GAAgB,EALnB,EAMG,KAAKR,QAAL,GAAgB,EANnB,EAOG,KAAKC,OAAL,GAAe,EAPlB,EAQG,KAAKC,WAAL,GAAmB,EARtB,EASG,KAAKC,cAAL,GAAsB,EATzB,EAUG,KAAKC,UAAL,GAAkB,EAVrB,EAWG,KAAKC,UAAL,GAAkB,EAXrB,EAYG,KAAKI,kBAAL,GAA0B,EAZ7B,EAaE,KAAK,CAAL,KAAW,KAAKd,eAAL,CAAqBe,MAAhC,KACI,KAAKZ,aAAL,CAAmBa,aAAnB,GACA,KAAK,CAAL,KAAW,KAAKhB,eAAL,CAAqBe,MAArB,CAA4BC,aAAvC,IACA,KAAKhB,eAAL,CAAqBe,MAArB,CAA4BC,aAF7B,EAGA,KAAKb,aAAL,CAAmBc,gBAAnB,GACC,KAAK,CAAL,KAAW,KAAKjB,eAAL,CAAqBe,MAArB,CAA4BE,gBAAvC,IACA,KAAKjB,eAAL,CAAqBe,MAArB,CAA4BE,gBAL7B,EAMA,KAAKd,aAAL,CAAmBe,OAAnB,GACC,KAAK,CAAL,KAAW,KAAKlB,eAAL,CAAqBe,MAArB,CAA4BG,OAAvC,GACI,KAAKlB,eAAL,CAAqBe,MAArB,CAA4BG,OADhC,GAEI,IAAI5F,KAAK,CAAC6F,KAAV,CAAgB,OAAhB,CATL,EAUA,KAAKhB,aAAL,CAAmBiB,OAAnB,GACC,KAAK,CAAL,KAAW,KAAKpB,eAAL,CAAqBe,MAArB,CAA4BK,OAAvC,GACI,KAAKpB,eAAL,CAAqBe,MAArB,CAA4BK,OADhC,GAEI,CAbL,EAcA,KAAKjB,aAAL,CAAmBkB,WAAnB,GACC,KAAK,CAAL,KAAW,KAAKrB,eAAL,CAAqBe,MAArB,CAA4BM,WAAvC,IACA,KAAKrB,eAAL,CAAqBe,MAArB,CAA4BM,WAhB7B,EAiBA,KAAKlB,aAAL,CAAmBmB,WAAnB,GACC,KAAK,CAAL,KAAW,KAAKtB,eAAL,CAAqBe,MAArB,CAA4BO,WAAvC,GACI,KAAKtB,eAAL,CAAqBe,MAArB,CAA4BO,WADhC,GAEI,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CApBL,EAqBA,KAAKnB,aAAL,CAAmBoB,UAAnB,GACC,KAAK,CAAL,KAAW,KAAKvB,eAAL,CAAqBe,MAArB,CAA4BQ,UAAvC,GACI,KAAKvB,eAAL,CAAqBe,MAArB,CAA4BQ,UADhC,GAEI,cAxBL,EAyBA,KAAKpB,aAAL,CAAmBqB,YAAnB,GACC,KAAK,CAAL,KAAW,KAAKxB,eAAL,CAAqBe,MAArB,CAA4BS,YAAvC,IACA,KAAKxB,eAAL,CAAqBe,MAArB,CAA4BS,YA3B7B,EA4BA,KAAKrB,aAAL,CAAmBsB,SAAnB,GACC,KAAK,CAAL,KAAW,KAAKzB,eAAL,CAAqBe,MAArB,CAA4BU,SAAvC,IACA,KAAKzB,eAAL,CAAqBe,MAArB,CAA4BU,SA9B7B,EA+BA,KAAKtB,aAAL,CAAmBuB,UAAnB,GACC,KAAK,CAAL,KAAW,KAAK1B,eAAL,CAAqBe,MAArB,CAA4BW,UAAvC,IACA,KAAK1B,eAAL,CAAqBe,MAArB,CAA4BW,UAjC7B,EAkCA,KAAKvB,aAAL,CAAmBwB,QAAnB,GACC,KAAK,CAAL,KAAW,KAAK3B,eAAL,CAAqBe,MAArB,CAA4BY,QAAvC,GACI,KAAK3B,eAAL,CAAqBe,MAArB,CAA4BY,QADhC,GAEI5D,+BArCL,EAsCA,KAAKoC,aAAL,CAAmByB,SAAnB,GACC,KAAK,CAAL,KAAW,KAAK5B,eAAL,CAAqBe,MAArB,CAA4Ba,SAAvC,GACI,KAAK5B,eAAL,CAAqBe,MAArB,CAA4Ba,SADhC,GAEI,IAzCL,EA0CA,KAAKzB,aAAL,CAAmB0B,UAAnB,GACC,KAAK,CAAL,KAAW,KAAK7B,eAAL,CAAqBe,MAArB,CAA4Bc,UAAvC,GACI,KAAK7B,eAAL,CAAqBe,MAArB,CAA4Bc,UADhC,GAEI,GA7CL,EA8CA,KAAK1B,aAAL,CAAmB2B,OAAnB,GACC,KAAK,CAAL,KAAW,KAAK9B,eAAL,CAAqBe,MAArB,CAA4Be,OAAvC,GACI,KAAK9B,eAAL,CAAqBe,MAArB,CAA4Be,OADhC,GAEI1D,2BAlDR,CAbF;AAgEA,UAAM2D,CAAC,GAAG,cAAc,OAAOC,WAA/B;;AACA,QAAID,CAAJ,EAAO;AACL,UACItG,GAAG,CAACwG,YAAJ,GAAmB,EAApB,EACD,KAAKjC,eAAL,CAAqBe,MAArB,IAA+B,KAAKf,eAAL,CAAqBe,MAArB,CAA4BmB,MAF7D,EAGE;AACA,cAAMnC,EAAC,GAAG,KAAKC,eAAL,CAAqBe,MAArB,CAA4BmB,MAAtC;;AACA,aAAK,MAAM,CAACH,EAAD,EAAII,EAAJ,CAAX,IAAqBC,MAAM,CAACC,OAAP,CAAetC,EAAf,CAArB,EAAwC;AACtC,gBAAMA,GAAC,GAAG,IAAIuC,KAAJ,EAAV;;AACEvC,UAAAA,GAAC,CAACwC,GAAF,GAAQJ,EAAC,CAACK,GAAX,EAAkB/G,GAAG,CAACwG,YAAJ,CAAiBF,EAAjB,IAAsBhC,GAAxC;AACF;AACF;;AACD,UACItE,GAAG,CAACgH,cAAJ,GAAqB,EAAtB,EACD,KAAKzC,eAAL,CAAqBe,MAArB,IAA+B,KAAKf,eAAL,CAAqBe,MAArB,CAA4B2B,QAF7D,EAGE;AACA,cAAM3C,GAAC,GAAG,KAAKC,eAAL,CAAqBe,MAArB,CAA4B2B,QAAtC;;AACA,aAAK,MAAM,CAACX,GAAD,EAAII,GAAJ,CAAX,IAAqBC,MAAM,CAACC,OAAP,CAAetC,GAAf,CAArB,EAAwC;AACtC,gBAAMA,GAAC,GAAGoC,GAAC,CAACQ,KAAZ;AAAA,gBACEC,EAAC,GAAGnH,GAAG,CAACwG,YAAJ,CAAiBlC,GAAjB,CADN;AAAA,gBAEE8C,EAAC,GAAG,IAAIvH,KAAK,CAACwH,OAAV,CACFF,EADE,EAEFT,GAAC,CAACY,OAFA,EAGFZ,GAAC,CAACa,IAAF,CAAO,CAAP,CAHE,EAIFb,GAAC,CAACa,IAAF,CAAO,CAAP,CAJE,EAKFb,GAAC,CAACc,SALA,EAMFd,GAAC,CAACe,SANA,EAOFf,GAAC,CAACgB,MAPA,EAQFhB,GAAC,CAACiB,IARA,EASFjB,GAAC,CAACkB,UATA,EAUFlB,GAAC,CAACmB,QAVA,CAFN;;AAcAT,UAAAA,EAAC,CAACU,MAAF,CAASC,SAAT,CAAmBrB,GAAC,CAACoB,MAArB,GACEV,EAAC,CAACY,MAAF,CAASD,SAAT,CAAmBrB,GAAC,CAACsB,MAArB,CADF,EAEEZ,EAAC,CAACa,MAAF,CAASF,SAAT,CAAmBrB,GAAC,CAACuB,MAArB,CAFF,EAGEb,EAAC,CAACc,YAAF,EAHF,EAIGlI,GAAG,CAACgH,cAAJ,CAAmBV,GAAnB,IAAwBc,EAJ3B;AAKD;AACF;;AACD,UACE,KAAK7C,eAAL,CAAqBe,MAArB,IACA,KAAKf,eAAL,CAAqBe,MAArB,CAA4B6C,iBAF9B,EAGE;AACA,cAAM7D,GAAC,GAAG,KAAKC,eAAL,CAAqBe,MAArB,CAA4B6C,iBAAtC;AACA;AACA,aAAK,MAAM,CAAC7B,GAAD,EAAII,GAAJ,CAAX,IAAqBC,MAAM,CAACC,OAAP,CAAetC,GAAf,CAArB,EACE,KAAKe,kBAAL,CAAwBiB,GAAxB,IAA6B,IAAI8B,gBAAJ,GAAuBC,QAAvB,CAC3B3B,GAD2B,EAE3B1G,GAAG,CAACgH,cAFuB,CAA7B;AAIH;AACF;;AACD,UAAMN,CAAC,GAAG,KAAKnC,eAAL,CAAqB+D,OAArB,IAAgC,EAA1C;;AACA,SAAK,IAAIhE,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGoC,CAAC,CAAC6B,MAAtB,EAA8BjE,GAAC,EAA/B,EAAmC,KAAKkE,aAAL,CAAmB9B,CAAC,CAACpC,GAAD,CAApB;;AACnC,QACE,KAAKC,eAAL,CAAqBkE,UAArB,IACA,KAAKlE,eAAL,CAAqBkE,UAArB,CAAgCC,mBADhC,IAEA,KAAKnE,eAAL,CAAqBkE,UAArB,CAAgCC,mBAAhC,CAAoDC,MAHtD,EAIE;AACA,YAAMrE,GAAC,GAAG,KAAKC,eAAL,CAAqBkE,UAArB,CAAgCC,mBAAhC,CAAoDC,MAA9D;;AACA,WAAK,IAAIrC,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGhC,GAAC,CAACiE,MAAtB,EAA8BjC,GAAC,EAA/B,EAAmC,KAAKsC,YAAL,CAAkBtE,GAAC,CAACgC,GAAD,CAAnB;AACpC;;AACD,SAAKuC,uBAAL;;AACA,UAAM1B,CAAC,GAAG,KAAK5C,eAAL,CAAqBuE,SAArB,IAAkC,EAA5C;;AACA,SAAK,IAAIxE,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG6C,CAAC,CAACoB,MAAtB,EAA8BjE,GAAC,EAA/B,EAAmC,KAAKyE,eAAL,CAAqB5B,CAAC,CAAC7C,GAAD,CAAtB;;AACnC,UAAM8C,CAAC,GAAG,KAAK7C,eAAL,CAAqByE,UAArB,IAAmC,EAA7C;;AACA,SAAK,IAAI1E,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG8C,CAAC,CAACmB,MAAtB,EAA8BjE,GAAC,EAA/B,EAAmC,KAAK2E,kBAAL,CAAwB7B,CAAC,CAAC9C,GAAD,CAAzB;;AACnC,UAAM4E,CAAC,GAAG,KAAK3E,eAAL,CAAqB4E,MAArB,IAA+B,EAAzC;;AACA,SAAK,IAAI7E,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG4E,CAAC,CAACX,MAAtB,EAA8BjE,IAAC,EAA/B,EAAmC,KAAK8E,eAAL,CAAqBF,CAAC,CAAC5E,IAAD,CAAtB;;AACnC,UAAM+E,CAAC,GAAG,KAAK9E,eAAL,CAAqB+E,KAArB,IAA8B,EAAxC;;AACA,SAAK,IAAIhF,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG+E,CAAC,CAACd,MAAtB,EAA8BjE,IAAC,EAA/B,EAAmC,KAAKiF,WAAL,CAAiBF,CAAC,CAAC/E,IAAD,CAAlB;;AACnC,QACEgC,CAAC,IACD,KAAK/B,eAAL,CAAqBe,MADrB,IAEA,KAAKf,eAAL,CAAqBe,MAArB,CAA4BkE,YAH9B,EAIE;AACA,YAAMlF,IAAC,GAAG,KAAKC,eAAL,CAAqBe,MAArB,CAA4BkE,YAAtC;;AACA,WAAK,IAAIlD,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG+C,CAAC,CAACd,MAAtB,EAA8BjC,GAAC,EAA/B,EAAmC;AACjC,cAAMI,GAAC,GAAG2C,CAAC,CAAC/C,GAAD,CAAX;;AACA,YAAI,KAAK,CAAL,KAAWI,GAAC,CAAC+C,eAAb,IAAgC,SAAS/C,GAAC,CAAC+C,eAA/C,EAAgE;AAC9D,gBAAMtC,GAAC,GAAGT,GAAC,CAAC+C,eAAZ;;AACA,cAAItC,GAAC,GAAG7C,IAAC,CAACiE,MAAN,IAAgBpB,GAAC,IAAI,CAAzB,EAA4B;AAC1B,kBAAMT,GAAC,GAAGpC,IAAC,CAAC6C,GAAD,CAAX;AAAA,kBACEC,GAAC,GAAG,KAAK/B,kBADX;AAAA,kBAEE6D,EAAC,GAAG,KAAK9D,QAFX;;AAGA,iBAAKT,MAAL,CAAY2B,GAAZ,EAAeoD,WAAf,CAA2BrB,QAA3B,CAAoC3B,GAApC,EAAuCwC,EAAvC,EAA0C9B,GAA1C;AACD;AACF;AACF;AACF;;AACD,UAAMuC,CAAC,GAAG,KAAKpF,eAAL,CAAqB+E,KAArB,CAA2B,CAA3B,CAAV;AAAA,UACEM,CAAC,GAAG,IAAIC,QAAJ,EADN;;AAEA,SAAK,IAAIvF,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGqF,CAAC,CAACG,QAAF,CAAWvB,MAA/B,EAAuCjE,IAAC,EAAxC,EACEsF,CAAC,CAACG,IAAF,CAAO,CAACJ,CAAC,CAACG,QAAF,CAAWxF,IAAX,CAAD,EAAgB,KAAKE,WAArB,CAAP;;AACF,WAAO,CAACoF,CAAC,CAACI,KAAF,EAAR,GAAqB;AACnB,YAAM1F,IAAC,GAAGsF,CAAC,CAACK,GAAF,EAAV;AAAA,YACE3D,GAAC,GAAGhC,IAAC,CAAC,CAAD,CADP;AAAA,YAEEoC,GAAC,GAAGpC,IAAC,CAAC,CAAD,CAFP;;AAGA,UAAIgC,GAAC,GAAG,KAAK3B,MAAL,CAAY4D,MAAhB,IAA0BjC,GAAC,IAAI,CAAnC,EAAsC;AACpC,cAAMhC,IAAC,GAAG,KAAKK,MAAL,CAAY2B,GAAZ,CAAV;AACA,YAAI,CAAChC,IAAL,EAAQ;AACRoC,QAAAA,GAAC,IAAIA,GAAC,CAACwD,GAAF,CAAM5F,IAAN,CAAL;AACA,cAAM6C,GAAC,GAAG,KAAK5C,eAAL,CAAqB+E,KAArB,CAA2BhD,GAA3B,EAA8BwD,QAAxC;AACA,YAAI,KAAK,CAAL,KAAW3C,GAAf,EAAkB,KAAK,IAAIb,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGa,GAAC,CAACoB,MAAtB,EAA8BjC,GAAC,EAA/B,EAAmCsD,CAAC,CAACG,IAAF,CAAO,CAAC5C,GAAC,CAACb,GAAD,CAAF,EAAOhC,IAAP,CAAP;AACtD;AACF;;AACD,QACE,KAAK,CAAL,KAAW,KAAKC,eAAL,CAAqBe,MAAhC,IACA,KAAKf,eAAL,CAAqBe,MAArB,CAA4B6E,GAF9B,EAGE;AACA,YAAM7F,IAAC,GAAG,KAAKC,eAAL,CAAqBe,MAArB,CAA4B6E,GAAtC;AAAA,YACE7D,GAAC,GAAG,KAAK,CAAL,KAAWhC,IAAC,CAAC8F,KAAb,GAAqB9F,IAAC,CAAC8F,KAAvB,GAA+B,QADrC;AAAA,YAEE1D,GAAC,GAAG,KAAK,CAAL,KAAWpC,IAAC,CAAC+F,IAAb,GAAoB/F,IAAC,CAAC+F,IAAtB,GAA6B,GAFnC;AAAA,YAGElD,GAAC,GAAG,KAAK,CAAL,KAAW7C,IAAC,CAACgG,GAAb,GAAmBhG,IAAC,CAACgG,GAArB,GAA2B,GAHjC;;AAIA,WAAK9F,WAAL,CAAiB2F,GAAjB,GAAuB,IAAItK,KAAK,CAAC0K,GAAV,CAAcjE,GAAd,EAAiBI,GAAjB,EAAoBS,GAApB,CAAvB;AACD;;AACD,QACE,KAAK,CAAL,KAAW,KAAK5C,eAAL,CAAqBe,MAAhC,IACA,KAAK,CAAL,KAAW,KAAKf,eAAL,CAAqBe,MAArB,CAA4BkF,eAFzC,EAGE;AACA,YAAMlG,IAAC,GAAG,KAAKC,eAAL,CAAqBe,MAArB,CAA4BkF,eAAtC;AACAlG,MAAAA,IAAC,GAAG,KAAKK,MAAL,CAAY4D,MAAhB,IAA0BjE,IAAC,IAAI,CAA/B,KAAqC,KAAKG,YAAL,GAAoB,KAAKE,MAAL,CAAYL,IAAZ,CAAzD;AACD;;AACD,WAAO,CAAC,KAAKE,WAAN,EAAmB,KAAKC,YAAxB,EAAsC,KAAKC,aAA3C,CAAP;AACD;;AACD8D,EAAAA,aAAa,CAAClE,CAAD,EAAI;AACf,QAAIgC,CAAC,GAAG,KAAK,CAAL,KAAWhC,CAAC,CAACqD,IAAb,GAAoBrD,CAAC,CAACqD,IAAtB,GAA6B,aAArC;AAAA,QACEjB,CAAC,GAAG,GADN;AAAA,QAEES,CAAC,GAAG,GAFN;AAAA,QAGEC,CAAC,GAAG,EAHN;AAAA,QAIE8B,AACAG,CAAC,GAAG,GALN;AAAA,QAMEM,CAAC,GAAG,GANN;AAAA,QAOEC,CAAC,GAAG,IAPN;;AAQA,QAAI,kBAAkBtD,CAAtB,EAAyB;AACvB,YAAMA,GAAC,GAAGhC,CAAC,CAACmG,WAAF,GAAgBnG,CAAC,CAACmG,WAAlB,GAAgC,EAA1C;AAAA,YACEC,CAAC,GAAGpG,CAAC,CAACqG,WAAF,GAAgBrG,CAAC,CAACqG,WAAlB,GAAgC,EADtC;;AAEEvD,MAAAA,CAAC,GAAG,KAAK,CAAL,KAAWd,GAAC,CAACsE,IAAb,GAAoBtE,GAAC,CAACsE,IAAtB,GAA6B,EAAlC,EACE1B,AACAG,CAAC,GAAG,KAAK,CAAL,KAAW/C,GAAC,CAACuE,KAAb,GAAqBvE,GAAC,CAACuE,KAAvB,GAA+B,GAFrC,EAGElB,CAAC,GAAG,KAAK,CAAL,KAAWrD,GAAC,CAACwE,IAAb,GAAoBxE,GAAC,CAACwE,IAAtB,GAA6B,GAHnC,EAIC,CAAClB,CAAC,GAAG,IAAI5J,GAAG,CAAC+K,cAAR,CAAuBrE,CAAvB,EAA0BS,CAA1B,EAA6BC,CAA7B,EAAgCiC,CAAhC,EAAmCM,CAAnC,CAAL,EAA4CqB,aAA5C,EAJD;AAKD,YAAMC,CAAC,GAAG,KAAK,CAAL,KAAWP,CAAC,CAACQ,IAAb,GAAoBR,CAAC,CAACQ,IAAtB,GAA6B,CAAvC;AACAtB,MAAAA,CAAC,CAACsB,IAAF,GAASD,CAAT;AACD,KAVD,MAUO,IAAI,mBAAmB3E,CAAvB,EAA0B;AAC/B,YAAMA,IAAC,GAAGhC,CAAC,CAAC6G,YAAF,GAAiB7G,CAAC,CAAC6G,YAAnB,GAAkC,EAA5C;AAAA,YACEjC,GAAC,GAAG5E,CAAC,CAACqG,WAAF,GAAgBrG,CAAC,CAACqG,WAAlB,GAAgC,EADtC;;AAEEjE,MAAAA,CAAC,GAAG,KAAK,CAAL,KAAWJ,IAAC,CAAC8E,IAAb,GAAoB9E,IAAC,CAAC8E,IAAtB,GAA6B,GAAlC,EACEjE,CAAC,GAAG,KAAK,CAAL,KAAWb,IAAC,CAAC+E,IAAb,GAAoB/E,IAAC,CAAC+E,IAAtB,GAA6B,GADnC,EAEEhC,CAAC,GAAG,KAAK,CAAL,KAAW/C,IAAC,CAACuE,KAAb,GAAqBvE,IAAC,CAACuE,KAAvB,GAA+B,GAFrC,EAGElB,CAAC,GAAG,KAAK,CAAL,KAAWrD,IAAC,CAACwE,IAAb,GAAoBxE,IAAC,CAACwE,IAAtB,GAA6B,GAHnC,EAIC,CAAClB,CAAC,GAAG,IAAI5J,GAAG,CAAC+K,cAAR,CAAuBrE,CAAvB,EAA0BS,CAA1B,EAA6BC,CAA7B,EAAgCiC,CAAhC,EAAmCM,CAAnC,CAAL,EAA4C2B,cAA5C,EAJD;AAKD,YAAMZ,CAAC,GAAG,KAAK,CAAL,KAAWxB,GAAC,CAACgC,IAAb,GAAoBhC,GAAC,CAACgC,IAAtB,GAA6B,CAAvC;AACAtB,MAAAA,CAAC,CAACsB,IAAF,GAASR,CAAT;AACD,KAVM,MAWLa,OAAO,CAACC,IAAR,CACG,8DAA6DlF,CAAE,8BADlE,GAGE,CAACsD,CAAC,GAAG,IAAI5J,GAAG,CAAC+K,cAAR,CAAuBrE,CAAvB,EAA0BS,CAA1B,EAA6BC,CAA7B,EAAgCiC,CAAhC,EAAmCM,CAAnC,CAAL,EAA4C2B,cAA5C,EAHF;;AAIF,SAAK1G,QAAL,CAAcmF,IAAd,CAAmBH,CAAnB;AACD;;AACDhB,EAAAA,YAAY,CAACtE,CAAD,EAAI;AACd,QAAI,kBAAkBA,CAAC,CAACqD,IAAxB,EAA8B;AAC5B,YAAMrB,CAAC,GAAG,IAAIzG,KAAK,CAAC6F,KAAV,GAAkBqC,SAAlB,CACN,KAAK,CAAL,KAAWzD,CAAC,CAAC8F,KAAb,GAAqB9F,CAAC,CAAC8F,KAAvB,GAA+B,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADzB,CAAV;AAAA,YAGE1D,CAAC,GAAG,IAAI7G,KAAK,CAAC6F,KAAV,GAAkB+F,MAAlB,CAAyB,OAAzB,CAHN;AAAA,YAIEtE,CAAC,GAAG7C,CAAC,CAACoH,SAAF,GAAcpH,CAAC,CAACoH,SAAhB,GAA4B,CAJlC;AAKA,WAAK7G,OAAL,CAAakF,IAAb,CAAkB,IAAIlK,KAAK,CAAC8L,eAAV,CAA0BrF,CAA1B,EAA6BI,CAA7B,EAAgCS,CAAhC,CAAlB;AACD,KAPD,MAOO,IAAI,kBAAkB7C,CAAC,CAACqD,IAAxB,EAA8B;AACnC,YAAMrB,CAAC,GAAG,IAAItG,GAAG,CAAC4L,gBAAR,CACN,IAAI/L,KAAK,CAAC6F,KAAV,GAAkBqC,SAAlB,CAA4BzD,CAAC,CAAC8F,KAA9B,CADM,EAEN9F,CAAC,CAACoH,SAFI,CAAV;AAAA,YAIEhF,CAAC,GAAGpC,CAAC,CAACuH,OAAF,IAAa,EAJnB;AAKEvF,MAAAA,CAAC,CAACwF,UAAF,GAAe,KAAK,CAAL,KAAWpF,CAAC,CAACoF,UAAb,IAA2BpF,CAAC,CAACoF,UAA7C,EACExF,CAAC,CAACyF,MAAF,CAASC,MAAT,CAAgBC,KAAhB,GACC,KAAK,CAAL,KAAWvF,CAAC,CAACwF,kBAAb,GAAkCxF,CAAC,CAACwF,kBAApC,GAAyD,IAF5D,EAGE5F,CAAC,CAACyF,MAAF,CAASC,MAAT,CAAgBG,IAAhB,GACC,KAAK,CAAL,KAAWzF,CAAC,CAAC0F,iBAAb,GAAiC1F,CAAC,CAAC0F,iBAAnC,GAAuD,CAAC,IAJ3D,EAKE9F,CAAC,CAACyF,MAAF,CAASC,MAAT,CAAgBK,GAAhB,GACC,KAAK,CAAL,KAAW3F,CAAC,CAAC4F,gBAAb,GAAgC5F,CAAC,CAAC4F,gBAAlC,GAAqD,IANxD,EAOEhG,CAAC,CAACyF,MAAF,CAASC,MAAT,CAAgBO,MAAhB,GACC,KAAK,CAAL,KAAW7F,CAAC,CAAC8F,mBAAb,GAAmC9F,CAAC,CAAC8F,mBAArC,GAA2D,CAAC,IAR/D,EASElG,CAAC,CAACyF,MAAF,CAASC,MAAT,CAAgB3B,IAAhB,GACC,KAAK,CAAL,KAAW3D,CAAC,CAAC+F,iBAAb,GAAiC/F,CAAC,CAAC+F,iBAAnC,GAAuD,CAV1D,EAWEnG,CAAC,CAACyF,MAAF,CAASC,MAAT,CAAgB1B,GAAhB,GACC,KAAK,CAAL,KAAW5D,CAAC,CAACgG,gBAAb,GAAgChG,CAAC,CAACgG,gBAAlC,GAAqD,IAZxD,EAaC,KAAK7H,OAAL,CAAakF,IAAb,CAAkBzD,CAAlB,CAbD;AAcF,KApBM,MAoBA,IAAI,YAAYhC,CAAC,CAACqD,IAAlB,EAAwB;AAC7B,YAAMrB,CAAC,GAAG,IAAIzG,KAAK,CAAC6F,KAAV,GAAkBqC,SAAlB,CACN,KAAK,CAAL,KAAWzD,CAAC,CAAC8F,KAAb,GAAqB9F,CAAC,CAAC8F,KAAvB,GAA+B,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADzB,CAAV;AAAA,YAGE1D,CAAC,GAAGpC,CAAC,CAACoH,SAAF,GAAcpH,CAAC,CAACoH,SAAhB,GAA4B,CAHlC;AAAA,YAIEvE,CAAC,GAAG,KAAK,CAAL,KAAW7C,CAAC,CAACqI,KAAb,GAAqBrI,CAAC,CAACqI,KAAvB,GAA+B,CAJrC;AAAA,YAKEvF,CAAC,GAAG,KAAK,CAAL,KAAW9C,CAAC,CAACsI,KAAb,GAAqBtI,CAAC,CAACsI,KAAvB,GAA+B,CALrC;AAAA,YAME1D,CAAC,GAAG,IAAIlJ,GAAG,CAAC6M,UAAR,CAAmBvG,CAAnB,EAAsBI,CAAtB,EAAyBS,CAAzB,EAA4BC,CAA5B,CANN;AAAA,YAOEiC,CAAC,GAAG/E,CAAC,CAACuH,OAAF,IAAa,EAPnB;AAQE3C,MAAAA,CAAC,CAAC4C,UAAF,GAAe,KAAK,CAAL,KAAWzC,CAAC,CAACyC,UAAb,IAA2BzC,CAAC,CAACyC,UAA7C,EACE5C,CAAC,CAAC6C,MAAF,CAASC,MAAT,CAAgB3B,IAAhB,GACC,KAAK,CAAL,KAAWhB,CAAC,CAACoD,iBAAb,GAAiCpD,CAAC,CAACoD,iBAAnC,GAAuD,CAF1D,EAGEvD,CAAC,CAAC6C,MAAF,CAASC,MAAT,CAAgB1B,GAAhB,GACC,KAAK,CAAL,KAAWjB,CAAC,CAACqD,gBAAb,GAAgCrD,CAAC,CAACqD,gBAAlC,GAAqD,IAJxD,EAKC,KAAK7H,OAAL,CAAakF,IAAb,CAAkBb,CAAlB,CALD;AAMF,KAfM,MAeA,IAAI,WAAW5E,CAAC,CAACqD,IAAjB,EAAuB;AAC5B,YAAMrB,CAAC,GAAG,IAAIzG,KAAK,CAAC6F,KAAV,GAAkBqC,SAAlB,CACN,KAAK,CAAL,KAAWzD,CAAC,CAAC8F,KAAb,GAAqB9F,CAAC,CAAC8F,KAAvB,GAA+B,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADzB,CAAV;AAAA,YAGE1D,CAAC,GAAGpC,CAAC,CAACoH,SAAF,GAAcpH,CAAC,CAACoH,SAAhB,GAA4B,CAHlC;AAAA,YAIEvE,CAAC,GAAG,KAAK,CAAL,KAAW7C,CAAC,CAACqI,KAAb,GAAqBrI,CAAC,CAACqI,KAAvB,GAA+B,CAJrC;AAAA,YAKEvF,CAAC,GAAG,KAAK,CAAL,KAAW9C,CAAC,CAACsI,KAAb,GAAqBtI,CAAC,CAACsI,KAAvB,GAA+B,CALrC;AAAA,YAME1D,CAAC,GAAG,KAAK,CAAL,KAAW5E,CAAC,CAACwI,cAAb,GAA8BxI,CAAC,CAACwI,cAAhC,GAAiDC,IAAI,CAACC,EAAL,GAAU,CANjE;AAAA,YAOE3D,CAAC,GAAG,KAAK,CAAL,KAAW/E,CAAC,CAAC2I,QAAb,GAAwB3I,CAAC,CAAC2I,QAA1B,GAAqC,CAP3C;AAAA,YAQEtD,CAAC,GAAG,IAAI3J,GAAG,CAACkN,SAAR,CAAkB5G,CAAlB,EAAqBI,CAArB,EAAwBS,CAAxB,EAA2B+B,CAA3B,EAA8BG,CAA9B,EAAiCjC,CAAjC,CARN;AAAA,YASEwC,CAAC,GAAGtF,CAAC,CAACuH,OAAF,IAAa,EATnB;AAUElC,MAAAA,CAAC,CAACmC,UAAF,GAAe,KAAK,CAAL,KAAWlC,CAAC,CAACkC,UAAb,IAA2BlC,CAAC,CAACkC,UAA7C,EACEnC,CAAC,CAACoC,MAAF,CAASC,MAAT,CAAgBmB,GAAhB,GACC,KAAK,CAAL,KAAWvD,CAAC,CAACwD,gBAAb,GACIxD,CAAC,CAACwD,gBADN,GAEI,IAAIvN,KAAK,CAACwN,SAAN,CAAgBC,OAApB,GAA8BpE,CAJrC,EAKES,CAAC,CAACoC,MAAF,CAASC,MAAT,CAAgB3B,IAAhB,GACC,KAAK,CAAL,KAAWT,CAAC,CAAC6C,iBAAb,GAAiC7C,CAAC,CAAC6C,iBAAnC,GAAuD,CAN1D,EAOE9C,CAAC,CAACoC,MAAF,CAASC,MAAT,CAAgB1B,GAAhB,GACC,KAAK,CAAL,KAAWV,CAAC,CAAC8C,gBAAb,GAAgC9C,CAAC,CAAC8C,gBAAlC,GAAqD,IARxD,EASC,KAAK7H,OAAL,CAAakF,IAAb,CAAkBJ,CAAlB,CATD;AAUF,KArBM,MAsBL4B,OAAO,CAACgC,KAAR,CACE,2DADF,EAEEjJ,CAAC,CAACqD,IAFJ;AAIH;;AACDkB,EAAAA,uBAAuB,GAAG;AACxB,UAAMvE,CAAC,GAAG,KAAKC,eAAL,CAAqBiJ,OAA/B;AAAA,UACElH,CAAC,GAAG,EADN;;AAEA,SAAK,IAAII,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGpC,CAAC,CAACiE,MAAtB,EAA8B7B,GAAC,EAA/B,EAAmCJ,CAAC,CAACyD,IAAF,CAAO,KAAK0D,aAAL,CAAmBnJ,CAAC,CAACoC,GAAD,CAApB,CAAP;;AACnC,UAAMA,CAAC,GAAG,KAAKnC,eAAL,CAAqBmJ,WAA/B;AAAA,UACEvG,CAAC,GAAG,EADN;;AAEA,SAAK,IAAI7C,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGoC,CAAC,CAAC6B,MAAtB,EAA8BjE,IAAC,EAA/B,EAAmC6C,CAAC,CAAC4C,IAAF,CAAO,KAAK4D,iBAAL,CAAuBjH,CAAC,CAACpC,IAAD,CAAxB,EAA6BgC,CAA7B,CAAP;;AACnC,UAAMc,CAAC,GAAG,KAAK7C,eAAL,CAAqBqJ,SAA/B;;AACA,SAAK,IAAItJ,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG8C,CAAC,CAACmB,MAAtB,EAA8BjE,IAAC,EAA/B,EACE,KAAKU,UAAL,CAAgB+E,IAAhB,CAAqB,KAAK8D,eAAL,CAAqBzG,CAAC,CAAC9C,IAAD,CAAtB,EAA2B6C,CAA3B,CAArB;AACH;;AACDsG,EAAAA,aAAa,CAACnJ,CAAD,EAAI;AACf,UAAMgC,CAAC,GAAGhC,CAAC,CAACwJ,UAAZ;AAAA,UACEpH,CAAC,GAAGpC,CAAC,CAACyJ,GADR;;AAEA,QAAIrH,CAAC,CAACsH,OAAF,CAAU,QAAV,CAAJ,EAAyB;AACvB,YAAM1J,IAAC,GAAGoC,CAAC,CAACuH,KAAF,CAAQvH,CAAC,CAACsH,OAAF,CAAU,QAAV,IAAsB,CAA9B,CAAV;AAAA,YACE7G,CAAC,GAAG+G,IAAI,CAAC5J,IAAD,CADV;AAAA,YAEE8C,CAAC,GAAG,IAAI+G,UAAJ,CAAe7J,IAAC,CAACiE,MAAjB,CAFN;;AAGA,WAAK,IAAIjE,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG6C,CAAC,CAACoB,MAAtB,EAA8BjE,IAAC,EAA/B,EAAmC8C,CAAC,CAAC9C,IAAD,CAAD,GAAO6C,CAAC,CAACiH,UAAF,CAAa9J,IAAb,CAAP;;AACnC,aAAO;AAAE+J,QAAAA,IAAI,EAAEjH,CAAR;AAAWmB,QAAAA,MAAM,EAAEjC;AAAnB,OAAP;AACD;;AACD,WAAOI,CAAC,CAACsH,OAAF,CAAU,MAAV,KACFzC,OAAO,CAACgC,KAAR,CACC,yEADD,GAGD,EAJG,KAKFhC,OAAO,CAACgC,KAAR,CACC,wEADD,GAGD,EARG,CAAP;AASD;;AACDI,EAAAA,iBAAiB,CAACrJ,CAAD,EAAIgC,CAAJ,EAAO;AACtB,UAAMI,CAAC,GAAGpC,CAAC,CAACwJ,UAAZ;AAAA,UACE3G,CAAC,GAAG7C,CAAC,CAACgK,UADR;AAAA,UAEElH,CAAC,GAAG9C,CAAC,CAACiK,MAFR;AAAA,UAGErF,CAAC,GAAG5E,CAAC,CAACkK,MAHR;;AAIA,QAAIpH,CAAC,GAAGd,CAAC,CAACiC,MAAN,IAAgBnB,CAAC,IAAI,CAAzB,EAA4B;AAC1B,aAAO;AAAEiH,QAAAA,IAAI,EAAE/H,CAAC,CAACc,CAAD,CAAD,CAAKiH,IAAL,CAAUJ,KAAV,CAAgB9G,CAAhB,EAAmBA,CAAC,GAAGT,CAAvB,CAAR;AAAmC6B,QAAAA,MAAM,EAAE7B,CAA3C;AAA8C8H,QAAAA,MAAM,EAAEtF;AAAtD,OAAP;AACD;;AACD,WACEqC,OAAO,CAACgC,KAAR,CACE,2EADF,GAGA,EAJF;AAMD;;AACDM,EAAAA,eAAe,CAACvJ,CAAD,EAAIgC,CAAJ,EAAO;AACpB,UAAMI,CAAC,GAAGpC,CAAC,CAACmK,UAAZ;AAAA,UACEtH,CAAC,GAAG7C,CAAC,CAACgK,UADR;AAAA,UAEElH,CAAC,GAAG9C,CAAC,CAACoK,aAFR;AAAA,UAGExF,CAAC,GAAG5E,CAAC,CAACqK,KAHR;AAAA,UAIEtF,CAAC,GAAG/E,CAAC,CAACqD,IAJR;;AAKA,QAAIjB,CAAC,GAAGJ,CAAC,CAACiC,MAAN,IAAgB7B,CAAC,IAAI,CAAzB,EAA4B;AAC1B,YAAMpC,IAAC,GAAGgC,CAAC,CAACI,CAAD,CAAD,CAAK2H,IAAf;AAAA,YACE1E,CAAC,GAAG,KAAKiF,oBAAL,CAA0BvF,CAA1B,CADN;AAAA,YAEEO,CAAC,GAAGV,CAAC,GAAGS,CAAJ,GAAQ,KAAKkF,yBAAL,CAA+BzH,CAA/B,CAFd;AAAA,YAGEsD,CAAC,GAAGpG,IAAC,CAAC2J,KAAF,CAAQ9G,CAAR,EAAWA,CAAC,GAAGyC,CAAf,CAHN;;AAIA,UAAIqB,CAAC,GAAG,IAAR;AACA,aACE7D,CAAC,KAAKjH,cAAN,GACK8K,CAAC,GAAG,KAAK6D,mBAAL,CAAyBpE,CAAzB,CADT,GAEItD,CAAC,KAAKhH,YAAN,GACC6K,CAAC,GAAG,KAAK8D,mBAAL,CAAyBrE,CAAzB,CADL,GAEAtD,CAAC,KAAK/G,KAAN,KAAgB4K,CAAC,GAAG,KAAK+D,oBAAL,CAA0BtE,CAA1B,CAApB,CAJJ,EAKAO,CAAC,GACG,KAAKgE,sBAAL,CAA4BhE,CAA5B,EAA+BtB,CAA/B,CADH,IAEI4B,OAAO,CAACgC,KAAR,CACC,kEADD,GAGD,IALH,CANH;AAaD;;AACD,WACEhC,OAAO,CAACgC,KAAR,CACE,6EADF,GAGA,IAJF;AAMD;;AACDxE,EAAAA,eAAe,CAACzE,CAAD,EAAI;AACjB,QAAI,CAACgC,CAAD,EAAII,CAAJ,IAASC,MAAM,CAACC,OAAP,CAAetC,CAAf,EAAkB,CAAlB,CAAb;AACA,SAAK,CAAL,KAAWoC,CAAC,CAAC+B,UAAb,IAA2B,KAAK,CAAL,KAAW/B,CAAC,CAAC+B,UAAF,CAAayG,oBAAnD,GACI,KAAKC,qBAAL,CACEzI,CAAC,CAAC+B,UAAF,CAAayG,oBADf,EAEExI,CAAC,CAACiE,WAFJ,EAGEjE,CAAC,CAAC0I,UAHJ,CADJ,GAMI,KAAKC,kBAAL,CAAwB3I,CAAxB,CANJ;AAOD;;AACDyI,EAAAA,qBAAqB,CAAC7K,CAAD,EAAIgC,CAAJ,EAAOI,CAAP,EAAU;AAC7B,UAAMS,CAAC,GAAG7C,CAAC,CAACgL,SAAF,IAAe,OAAzB;AAAA,UACElI,CAAC,GAAG9C,CAAC,CAACiL,MAAF,IAAY,EADlB;AAAA,UAEErG,CAAC,GAAG5C,CAAC,IAAI,EAFX;AAAA,UAGE+C,CAAC,GAAG3C,CAAC,IAAI,EAHX;;AAIA,QAAI,YAAYS,CAAhB,EAAmB;AACjB,YAAM7C,IAAC,GAAG,IAAIzE,KAAK,CAAC6F,KAAV,GAAkBqC,SAAlB,CACN,KAAK,CAAL,KAAWX,CAAC,CAACoI,OAAb,GAAuBpI,CAAC,CAACoI,OAAzB,GAAmC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAD7B,CAAV;AAAA,YAGElJ,IAAC,GAAG,IAAIzG,KAAK,CAAC6F,KAAV,GAAkBqC,SAAlB,CACF,KAAK,CAAL,KAAWX,CAAC,CAACqI,QAAb,GAAwBrI,CAAC,CAACqI,QAA1B,GAAqC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CADnC,CAHN;AAAA,YAME/I,GAAC,GAAG,IAAI7G,KAAK,CAAC6F,KAAV,GAAkBqC,SAAlB,CACF,KAAK,CAAL,KAAWX,CAAC,CAACsI,QAAb,GAAwBtI,CAAC,CAACsI,QAA1B,GAAqC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADnC,CANN;AAAA,YASEvI,GAAC,GAAG,KAAK,CAAL,KAAWC,CAAC,CAACuI,SAAb,GAAyBvI,CAAC,CAACuI,SAA3B,GAAuC,EAT7C;AAAA,YAUEhG,CAAC,GAAG,KAAK,CAAL,KAAWvC,CAAC,CAACwI,WAAb,IAA4BxI,CAAC,CAACwI,WAVpC;AAAA,YAWEhG,CAAC,GAAG,KAAK,CAAL,KAAWxC,CAAC,CAACyI,YAAb,GAA4BzI,CAAC,CAACyI,YAA9B,GAA6C,CAXnD;AAAA,YAYEnF,CAAC,GAAG,KAAK,CAAL,KAAWxB,CAAC,CAAC4G,OAAb,IAAwB5G,CAAC,CAAC4G,OAZhC;AAAA,YAaE7E,CAAC,GAAG,KAAK,CAAL,KAAW/B,CAAC,CAAC6G,SAAb,IAA0B7G,CAAC,CAAC6G,SAblC;AAAA,YAcEC,CAAC,GAAG,KAAK,CAAL,KAAW9G,CAAC,CAAC+G,IAAb,GAAoB/G,CAAC,CAAC+G,IAAtB,GAA6BpQ,KAAK,CAACqQ,SAdzC;AAAA,YAeEC,CAAC,GAAG,KAAK,CAAL,KAAWjH,CAAC,CAACkH,WAAb,IAA4BlH,CAAC,CAACkH,WAfpC;AAAA,YAgBEC,CAAC,GAAG,IAAIC,gBAAJ,CAAqBjH,CAArB,EAAwB;AAC1Be,QAAAA,KAAK,EAAE9F,IADmB;AAE1BmL,QAAAA,QAAQ,EAAEnJ,IAFgB;AAG1BiK,QAAAA,QAAQ,EAAE7J,GAHgB;AAI1BiJ,QAAAA,SAAS,EAAExI,GAJe;AAK1ByI,QAAAA,WAAW,EAAEjG,CALa;AAM1B6G,QAAAA,OAAO,EAAE5G,CANiB;AAO1BwG,QAAAA,WAAW,EAAED,CAPa;AAQ1BF,QAAAA,IAAI,EAAED,CARoB;AAS1BD,QAAAA,SAAS,EAAE9E,CATe;AAU1B6E,QAAAA,OAAO,EAAEpF;AAViB,OAAxB,CAhBN;;AA4BA,WAAKzF,UAAL,CAAgB8E,IAAhB,CAAqBsG,CAArB;AACD,KA9BD,MA8BO,IAAI,cAAclJ,CAAlB,EAAqB;AAC1B,YAAM7C,IAAC,GAAG,IAAIzE,KAAK,CAAC6F,KAAV,GAAkBqC,SAAlB,CACN,KAAK,CAAL,KAAWX,CAAC,CAACoI,OAAb,GAAuBpI,CAAC,CAACoI,OAAzB,GAAmC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAD7B,CAAV;AAAA,YAGElJ,IAAC,GAAG,IAAIzG,KAAK,CAAC6F,KAAV,GAAkBqC,SAAlB,CACF,KAAK,CAAL,KAAWX,CAAC,CAACsI,QAAb,GAAwBtI,CAAC,CAACsI,QAA1B,GAAqC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADnC,CAHN;AAAA,YAMEhJ,IAAC,GAAG,KAAK,CAAL,KAAWU,CAAC,CAACwI,WAAb,IAA4BxI,CAAC,CAACwI,WANpC;AAAA,YAOEzI,GAAC,GAAG,KAAK,CAAL,KAAWC,CAAC,CAACyI,YAAb,GAA4BzI,CAAC,CAACyI,YAA9B,GAA6C,CAPnD;AAAA,YAQElG,CAAC,GAAG,KAAK,CAAL,KAAWT,CAAC,CAAC4G,OAAb,IAAwB5G,CAAC,CAAC4G,OARhC;AAAA,YASElG,CAAC,GAAG,KAAK,CAAL,KAAWV,CAAC,CAAC6G,SAAb,IAA0B7G,CAAC,CAAC6G,SATlC;AAAA,YAUErF,CAAC,GAAG,KAAK,CAAL,KAAWxB,CAAC,CAAC+G,IAAb,GAAoB/G,CAAC,CAAC+G,IAAtB,GAA6BpQ,KAAK,CAACqQ,SAVzC;AAAA,YAWEjF,CAAC,GAAG,KAAK,CAAL,KAAW/B,CAAC,CAACkH,WAAb,IAA4BlH,CAAC,CAACkH,WAXpC;AAAA,YAYEJ,CAAC,GAAG,IAAIS,kBAAJ,CAAuBpH,CAAvB,EAA0B;AAC5Be,QAAAA,KAAK,EAAE9F,IADqB;AAE5BiM,QAAAA,QAAQ,EAAEjK,IAFkB;AAG5BsJ,QAAAA,WAAW,EAAElJ,IAHe;AAI5B8J,QAAAA,OAAO,EAAErJ,GAJmB;AAK5BiJ,QAAAA,WAAW,EAAEnF,CALe;AAM5BgF,QAAAA,IAAI,EAAEvF,CANsB;AAO5BqF,QAAAA,SAAS,EAAEnG,CAPiB;AAQ5BkG,QAAAA,OAAO,EAAEnG;AARmB,OAA1B,CAZN;;AAsBA,WAAK1E,UAAL,CAAgB8E,IAAhB,CAAqBiG,CAArB;AACD,KAxBM,MAwBA,IAAI,eAAe7I,CAAnB,EAAsB;AAC3B,YAAM7C,IAAC,GAAG,IAAIzE,KAAK,CAAC6F,KAAV,GAAkBqC,SAAlB,CACN,KAAK,CAAL,KAAWX,CAAC,CAACsJ,OAAb,GAAuBtJ,CAAC,CAACsJ,OAAzB,GAAmC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAD7B,CAAV;AAAA,YAGEpK,IAAC,GAAG,KAAK,CAAL,KAAWc,CAAC,CAACwI,WAAb,IAA4BxI,CAAC,CAACwI,WAHpC;AAAA,YAIElJ,IAAC,GAAG,KAAK,CAAL,KAAWU,CAAC,CAACyI,YAAb,GAA4BzI,CAAC,CAACyI,YAA9B,GAA6C,CAJnD;AAAA,YAKE1I,GAAC,GAAG,KAAK,CAAL,KAAW+B,CAAC,CAAC4G,OAAb,IAAwB5G,CAAC,CAAC4G,OALhC;AAAA,YAMEnG,CAAC,GAAG,KAAK,CAAL,KAAWT,CAAC,CAAC6G,SAAb,IAA0B7G,CAAC,CAAC6G,SANlC;AAAA,YAOEnG,CAAC,GAAG,KAAK,CAAL,KAAWV,CAAC,CAAC+G,IAAb,GAAoB/G,CAAC,CAAC+G,IAAtB,GAA6BpQ,KAAK,CAACqQ,SAPzC;AAAA,YAQExF,CAAC,GAAG,KAAK,CAAL,KAAWxB,CAAC,CAACkH,WAAb,IAA4BlH,CAAC,CAACkH,WARpC;AAAA,YASEnF,CAAC,GAAG,IAAI0F,gBAAJ,CAAqBtH,CAArB,EAAwB;AAC1Be,QAAAA,KAAK,EAAE9F,IADmB;AAE1BsL,QAAAA,WAAW,EAAEtJ,IAFa;AAG1BkK,QAAAA,OAAO,EAAE9J,IAHiB;AAI1B0J,QAAAA,WAAW,EAAE1F,CAJa;AAK1BuF,QAAAA,IAAI,EAAErG,CALoB;AAM1BmG,QAAAA,SAAS,EAAEpG,CANe;AAO1BmG,QAAAA,OAAO,EAAE3I;AAPiB,OAAxB,CATN;;AAkBA,WAAKlC,UAAL,CAAgB8E,IAAhB,CAAqBkB,CAArB;AACD,KApBM,MAoBA,IAAI,WAAW9D,CAAf,EAAkB;AACvB,YAAM7C,IAAC,GAAG,IAAIzE,KAAK,CAAC6F,KAAV,GAAkBqC,SAAlB,CACN,KAAK,CAAL,KAAWX,CAAC,CAACsJ,OAAb,GAAuBtJ,CAAC,CAACsJ,OAAzB,GAAmC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAD7B,CAAV;AAAA,YAGEpK,IAAC,GAAG,KAAK,CAAL,KAAWc,CAAC,CAACwI,WAAb,IAA4BxI,CAAC,CAACwI,WAHpC;AAAA,YAIElJ,IAAC,GAAG,KAAK,CAAL,KAAWU,CAAC,CAACyI,YAAb,GAA4BzI,CAAC,CAACyI,YAA9B,GAA6C,CAJnD;AAAA,YAKE1I,GAAC,GAAG,KAAK,CAAL,KAAW+B,CAAC,CAAC4G,OAAb,IAAwB5G,CAAC,CAAC4G,OALhC;AAAA,YAMEnG,CAAC,GAAG,KAAK,CAAL,KAAWT,CAAC,CAAC6G,SAAb,IAA0B7G,CAAC,CAAC6G,SANlC;AAAA,YAOEnG,CAAC,GAAG,KAAK,CAAL,KAAWV,CAAC,CAAC+G,IAAb,GAAoB/G,CAAC,CAAC+G,IAAtB,GAA6BpQ,KAAK,CAACqQ,SAPzC;AAAA,YAQExF,CAAC,GAAG,KAAK,CAAL,KAAWxB,CAAC,CAACkH,WAAb,IAA4BlH,CAAC,CAACkH,WARpC;AAAA,YASEnF,CAAC,GAAG,IAAI2F,eAAJ,CAAoBvH,CAApB,EAAuB;AACzBe,QAAAA,KAAK,EAAE9F,IADkB;AAEzBsL,QAAAA,WAAW,EAAEtJ,IAFY;AAGzBkK,QAAAA,OAAO,EAAE9J,IAHgB;AAIzB0J,QAAAA,WAAW,EAAE1F,CAJY;AAKzBuF,QAAAA,IAAI,EAAErG,CALmB;AAMzBmG,QAAAA,SAAS,EAAEpG,CANc;AAOzBmG,QAAAA,OAAO,EAAE3I;AAPgB,OAAvB,CATN;;AAkBA,WAAKlC,UAAL,CAAgB8E,IAAhB,CAAqBkB,CAArB;AACD,KApBM,MAoBA,IAAI,eAAe9D,CAAnB,EAAsB;AAC3B,YAAM7C,IAAC,GAAG,IAAIzE,KAAK,CAAC6F,KAAV,GAAkBqC,SAAlB,CACN,KAAK,CAAL,KAAWX,CAAC,CAACsJ,OAAb,GAAuBtJ,CAAC,CAACsJ,OAAzB,GAAmC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAD7B,CAAV;AAAA,YAGEpK,IAAC,GAAG,KAAK,CAAL,KAAWc,CAAC,CAACwI,WAAb,IAA4BxI,CAAC,CAACwI,WAHpC;AAAA,YAIElJ,IAAC,GAAG,KAAK,CAAL,KAAWU,CAAC,CAACyI,YAAb,GAA4BzI,CAAC,CAACyI,YAA9B,GAA6C,CAJnD;AAAA,YAKE1I,GAAC,GAAG,KAAK,CAAL,KAAWC,CAAC,CAACyJ,SAAb,GAAyBzJ,CAAC,CAACyJ,SAA3B,GAAuC,GAL7C;AAAA,YAMElH,CAAC,GAAG,KAAK,CAAL,KAAWvC,CAAC,CAAC0J,SAAb,GAAyB1J,CAAC,CAAC0J,SAA3B,GAAuC,CAN7C;AAAA,YAOElH,CAAC,GAAG,KAAK,CAAL,KAAWxC,CAAC,CAAC2J,YAAb,GAA4B3J,CAAC,CAAC2J,YAA9B,GAA6C,GAPnD;AAAA,YAQErG,CAAC,GAAG,KAAK,CAAL,KAAWxB,CAAC,CAAC4G,OAAb,IAAwB5G,CAAC,CAAC4G,OARhC;AAAA,YASE7E,CAAC,GAAG,KAAK,CAAL,KAAW/B,CAAC,CAAC6G,SAAb,IAA0B7G,CAAC,CAAC6G,SATlC;AAAA,YAUEC,CAAC,GAAG,KAAK,CAAL,KAAW9G,CAAC,CAAC+G,IAAb,GAAoB/G,CAAC,CAAC+G,IAAtB,GAA6BpQ,KAAK,CAACqQ,SAVzC;AAAA,YAWEC,CAAC,GAAG,KAAK,CAAL,KAAWjH,CAAC,CAACkH,WAAb,IAA4BlH,CAAC,CAACkH,WAXpC;AAAA,YAYEC,CAAC,GAAG,IAAIW,mBAAJ,CAAwB3H,CAAxB,EAA2B;AAC7Be,QAAAA,KAAK,EAAE9F,IADsB;AAE7BsL,QAAAA,WAAW,EAAEtJ,IAFgB;AAG7BkK,QAAAA,OAAO,EAAE9J,IAHoB;AAI7BmK,QAAAA,SAAS,EAAE1J,GAJkB;AAK7B2J,QAAAA,SAAS,EAAEnH,CALkB;AAM7BoH,QAAAA,YAAY,EAAEnH,CANe;AAO7BwG,QAAAA,WAAW,EAAED,CAPgB;AAQ7BF,QAAAA,IAAI,EAAED,CARuB;AAS7BD,QAAAA,SAAS,EAAE9E,CATkB;AAU7B6E,QAAAA,OAAO,EAAEpF;AAVoB,OAA3B,CAZN;;AAwBA,WAAKzF,UAAL,CAAgB8E,IAAhB,CAAqBsG,CAArB;AACD,KA1BM,MA0BA,IAAI,YAAYlJ,CAAhB,EAAmB;AACxB,YAAM7C,IAAC,GACH,KAAK,CAAL,KAAW8C,CAAC,CAAC6J,UAAb,GACI7J,CAAC,CAAC6J,UADN,GAEI,IAAIC,KAAJ,CAAU7H,CAAC,CAACd,MAAZ,EAAoB4I,IAApB,CAAyB,UAAzB,CAHR;AAAA,YAIE7K,IAAC,GAAG,EAJN;;AAKA,WAAK,IAAII,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG2C,CAAC,CAACd,MAAtB,EAA8B7B,IAAC,EAA/B,EACE,eAAepC,IAAC,CAACoC,IAAD,CAAhB,GACIJ,IAAC,CAACyD,IAAF,CAAO,IAAI4G,gBAAJ,CAAqBtH,CAAC,CAAC3C,IAAD,CAAtB,EAA2B,EAA3B,CAAP,CADJ,GAEI,cAAcpC,IAAC,CAACoC,IAAD,CAAf,GACAJ,IAAC,CAACyD,IAAF,CAAO,IAAI0G,kBAAJ,CAAuBpH,CAAC,CAAC3C,IAAD,CAAxB,EAA6B,EAA7B,CAAP,CADA,GAEA,YAAYpC,IAAC,CAACoC,IAAD,CAAb,GACAJ,IAAC,CAACyD,IAAF,CAAO,IAAIuG,gBAAJ,CAAqBjH,CAAC,CAAC3C,IAAD,CAAtB,EAA2B,EAA3B,CAAP,CADA,GAEA,WAAWpC,IAAC,CAACoC,IAAD,CAAZ,GACAJ,IAAC,CAACyD,IAAF,CAAO,IAAI6G,eAAJ,CAAoBvH,CAAC,CAAC3C,IAAD,CAArB,EAA0B,EAA1B,CAAP,CADA,GAEA,eAAepC,IAAC,CAACoC,IAAD,CAAhB,GACAJ,IAAC,CAACyD,IAAF,CAAO,IAAIiH,mBAAJ,CAAwB3H,CAAC,CAAC3C,IAAD,CAAzB,EAA8B,EAA9B,CAAP,CADA,IAEC6E,OAAO,CAACgC,KAAR,CACE,oEAAmEjJ,IAAC,CAACoC,IAAD,CAAI,qCAD1E,GAGDJ,IAAC,CAACyD,IAAF,CAAO,IAAI4G,gBAAJ,CAAqBtH,CAAC,CAAC3C,IAAD,CAAtB,EAA2B,EAA3B,CAAP,CALA,CARJ;;AAcF,WAAKzB,UAAL,CAAgB8E,IAAhB,CAAqBzD,IAArB;AACD,KAtBM,MAuBLiF,OAAO,CAACgC,KAAR,CACE,uEADF,EAEEjJ,CAAC,CAACgL,SAFJ;AAIH;;AACDD,EAAAA,kBAAkB,CAAC/K,CAAD,EAAI;;AACtB2E,EAAAA,kBAAkB,CAAC3E,CAAD,EAAI;AACpB,UAAMgC,CAAC,GAAG,KAAK,CAAL,KAAWhC,CAAC,CAACqD,IAAb,GAAoBrD,CAAC,CAACqD,IAAtB,GAA6B,gBAAvC;AAAA,UACEjB,CAAC,GAAG,KAAK0K,oBAAL,CACF9K,CADE,EAEF,KAAK,CAAL,KAAWhC,CAAC,CAAC+M,UAAb,GACI,EAAE,GAAG/M,CAAC,CAAC+M;AAAP,KADJ,GAEI;AAAEC,MAAAA,KAAK,EAAE,GAAT;AAAcC,MAAAA,MAAM,EAAE,GAAtB;AAA2BC,MAAAA,KAAK,EAAE;AAAlC,KAJF,CADN;;AAOA,QAAI,wBAAwBlL,CAA5B,EAA+B;AAC7BmL,MAAAA,eAAe,CACb,KAAK,CAAL,KAAW/K,CAAC,CAACgL,IAAb,GAAoBhL,CAAC,CAACgL,IAAtB,GAA6B,GADhB,EAEb,KAAK,CAAL,KAAWhL,CAAC,CAACiL,UAAb,GAA0BjL,CAAC,CAACiL,UAA5B,GAAyC,gBAF5B,EAGb,KAAK,CAAL,KAAWjL,CAAC,CAACkL,GAAb,GAAmBlL,CAAC,CAACkL,GAArB,GAA2B,CAHd,CAAf,EAKE,KAAK7M,cAAL,CAAoBgF,IAApB,CAAyBrD,CAAzB,CALF;AAMD,KAPD,MAOO;AACL,YAAMpC,IAAC,GAAG,CAAC,GAAGtE,GAAG,CAACsG,CAAD,CAAH,CAAOuL,KAAX,EAAkBnL,CAAlB,CAAV;;AACA,WAAK3B,cAAL,CAAoBgF,IAApB,CAAyBzF,IAAzB;AACD;AACF;;AACD8M,EAAAA,oBAAoB,CAAC9M,CAAD,EAAIgC,CAAJ,EAAO;AACzB,QAAI,KAAK,CAAL,KAAWtG,GAAG,CAAC4C,gBAAJ,CAAqB0B,CAArB,CAAf,EAAwC,OAAOgC,CAAP;AACxC,UAAMI,CAAC,GAAG,EAAV;AAAA,UACES,CAAC,GAAG,KAAKzC,aAAL,CAAmB2B,OADzB;;AAEA,SAAK,MAAM,CAACe,CAAD,EAAI8B,CAAJ,CAAX,IAAqBvC,MAAM,CAACC,OAAP,CAAeN,CAAf,CAArB,EAAwC;AACtC,UAAI,KAAK,CAAL,KAAWtG,GAAG,CAAC4C,gBAAJ,CAAqB0B,CAArB,EAAwB8C,CAAxB,CAAf,EAA2C;AACzCV,QAAAA,CAAC,CAACU,CAAD,CAAD,GAAO8B,CAAP;AACA;AACD;;AACD,YAAM5C,IAAC,GAAGtG,GAAG,CAAC4C,gBAAJ,CAAqB0B,CAArB,EAAwB8C,CAAxB,EAA2BhE,QAArC;AAAA,YACEiG,CAAC,GAAGrJ,GAAG,CAAC4C,gBAAJ,CAAqB0B,CAArB,EAAwB8C,CAAxB,EAA2B/D,QADjC;AAAA,YAEEsG,CAAC,GAAG3J,GAAG,CAAC4C,gBAAJ,CAAqB0B,CAArB,EAAwB8C,CAAxB,EAA2BrE,OAA3B,CAAmCoE,CAAnC,CAFN;AAGAT,MAAAA,CAAC,CAACU,CAAD,CAAD,GAAO2F,IAAI,CAAC+E,GAAL,CAASxL,IAAT,EAAYyG,IAAI,CAACgF,GAAL,CAAS1I,CAAT,EAAYM,CAAC,GAAGT,CAAhB,CAAZ,CAAP;AACD;;AACD,WAAOxC,CAAP;AACD;;AACD0C,EAAAA,eAAe,CAAC9E,CAAD,EAAI;AACjB,UAAMgC,CAAC,GAAGhC,CAAC,CAAC0N,UAAZ;AAAA,UACEtL,CAAC,GAAGpC,CAAC,CAAC2N,MADR;AAAA,UAEE9K,CAAC,GAAG7C,CAAC,CAAC+M,UAFR;AAAA,UAGEjK,CAAC,GAAGd,CAAC,CAAC,CAAD,CAHP;AAAA,UAIE4C,CAAC,GAAG9B,CAAC,CAAC8K,OAJR;AAAA,UAKE7I,CAAC,GAAGjC,CAAC,CAAC+K,UALR;AAAA,UAMExI,CAAC,GAAG,KAAK3E,UAAL,CAAgBkE,CAAhB,CANN;AAAA,UAOEU,CAAC,GAAG,EAPN;;AAQA,SAAK,IAAItF,IAAT,IAAc+E,CAAd,EAAiBO,CAAC,CAACtF,IAAD,CAAD,GAAO,KAAKU,UAAL,CAAgBqE,CAAC,CAAC/E,IAAD,CAAjB,CAAP;;AACjB,UAAMoG,CAAC,GAAG,IAAI7K,KAAK,CAACuS,cAAV,EAAV;AACAzI,IAAAA,CAAC,IAAIe,CAAC,CAAC2H,QAAF,CAAW1I,CAAX,CAAL;;AACA,SAAK,IAAIrF,IAAT,IAAcsF,CAAd,EAAiBc,CAAC,CAAC4H,YAAF,CAAehO,IAAC,CAACiO,WAAF,EAAf,EAAgC3I,CAAC,CAACtF,IAAD,CAAjC;;AACjB,QAAI,KAAK,CAAL,KAAWoC,CAAf,EACE,KAAK,IAAIpC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGoC,CAAC,CAAC6B,MAAtB,EAA8BjE,IAAC,EAA/B,EACEoG,CAAC,CAAC8H,QAAF,CAAW9L,CAAC,CAACpC,IAAD,CAAD,CAAKmO,KAAhB,EAAuB/L,CAAC,CAACpC,IAAD,CAAD,CAAKqK,KAA5B,EAAmCjI,CAAC,CAACpC,IAAD,CAAD,CAAKoO,aAAxC;;AACJ,QAAI,KAAK,CAAL,KAAWvL,CAAf,EAAkB;AAChB,YAAM7C,IAAC,GAAG,IAAIzE,KAAK,CAAC8S,OAAV,EAAV;;AACAjI,MAAAA,CAAC,CAACkI,kBAAF,IAAwBlI,CAAC,CAACmI,WAAF,CAAcC,OAAd,CAAsBxO,IAAtB,CAAxB;;AACA,YAAMgC,IAAC,GAAG,KAAK,CAAL,KAAWa,CAAC,CAACmK,KAAb,GAAqBnK,CAAC,CAACmK,KAAvB,GAA+BhN,IAAC,CAACyO,CAA3C;AAAA,YACErM,IAAC,GAAG,KAAK,CAAL,KAAWS,CAAC,CAACoK,MAAb,GAAsBpK,CAAC,CAACoK,MAAxB,GAAiCjN,IAAC,CAAC0O,CADzC;AAAA,YAEE5L,GAAC,GAAG,KAAK,CAAL,KAAWD,CAAC,CAACqK,KAAb,GAAqBrK,CAAC,CAACqK,KAAvB,GAA+BlN,IAAC,CAAC2O,CAFvC;;AAGAvI,MAAAA,CAAC,CAACwI,KAAF,CACEnG,IAAI,CAACoG,GAAL,CAAS7O,IAAC,CAACyO,CAAX,IAAgB,IAAhB,GAAuB,CAAvB,GAA2BzM,IAAC,GAAGhC,IAAC,CAACyO,CADnC,EAEEhG,IAAI,CAACoG,GAAL,CAAS7O,IAAC,CAAC0O,CAAX,IAAgB,IAAhB,GAAuB,CAAvB,GAA2BtM,IAAC,GAAGpC,IAAC,CAAC0O,CAFnC,EAGEjG,IAAI,CAACoG,GAAL,CAAS7O,IAAC,CAAC2O,CAAX,IAAgB,IAAhB,GAAuB,CAAvB,GAA2B7L,GAAC,GAAG9C,IAAC,CAAC2O,CAHnC,GAKGvI,CAAC,CAAC0I,QAAF,GAAa;AACZzL,QAAAA,IAAI,EAAE,uBADM;AAEZ0J,QAAAA,UAAU,EAAE;AAAEC,UAAAA,KAAK,EAAEhL,IAAT;AAAYiL,UAAAA,MAAM,EAAE7K,IAApB;AAAuB8K,UAAAA,KAAK,EAAEpK;AAA9B;AAFA,OALhB;AASD;;AACD,SAAKtC,WAAL,CAAiBiF,IAAjB,CAAsBW,CAAtB;AACD;;AACDnB,EAAAA,WAAW,CAACjF,CAAD,EAAI;AACb,QAAI,KAAK,CAAL,KAAWA,CAAC,CAAC0H,MAAjB,EAAyB;AACvB,YAAM1F,CAAC,GAAGhC,CAAC,CAAC0H,MAAZ;;AACA,UAAI1F,CAAC,GAAG,KAAK1B,QAAL,CAAc2D,MAAlB,IAA4BjC,CAAC,IAAI,CAArC,EAAwC;AACtC,cAAMI,CAAC,GAAG,KAAK9B,QAAL,CAAc0B,CAAd,CAAV;AACEI,QAAAA,CAAC,CAACoJ,OAAF,GAAY,KAAK,CAAL,KAAWxL,CAAC,CAACwL,OAAb,IAAwBxL,CAAC,CAACwL,OAAvC,EACCpJ,CAAC,CAAC2M,QAAF,CAAWC,IAAX,CACE,IAAIzT,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CACEzD,CAAC,CAACiP,WAAF,GAAgBjP,CAAC,CAACiP,WAAlB,GAAgC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADlC,CADF,CADD,EAMC7M,CAAC,CAAC8M,UAAF,CAAaF,IAAb,CACE,IAAIzT,KAAK,CAAC4T,UAAV,GAAuB1L,SAAvB,CACEzD,CAAC,CAACoP,QAAF,GAAapP,CAAC,CAACoP,QAAf,GAA0B,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAD5B,CADF,CAND,EAWChN,CAAC,CAACiN,YAAF,CAAeL,IAAf,CACE,IAAIzT,KAAK,CAAC+T,OAAV,GAAoB7L,SAApB,CACEzD,CAAC,CAACqP,YAAF,GACIrP,CAAC,CAACqP,YADN,GAEI,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAHN,CADF,CAXD,EAkBCjN,CAAC,CAACwB,YAAF,EAlBD,EAmBC,KAAKvD,MAAL,CAAYoF,IAAZ,CAAiBrD,CAAjB,CAnBD;AAoBD,cAAMS,CAAC,GAAG,KAAK,CAAL,KAAW7C,CAAC,CAACuP,IAAb,GAAoBvP,CAAC,CAACuP,IAAtB,GAA6BhU,KAAK,CAACwN,SAAN,CAAgByG,YAAhB,EAAvC;AACA,aAAK1O,QAAL,CAAc+B,CAAd,IAAmBT,CAAnB;AACD,OAxBD,MAyBE6E,OAAO,CAACgC,KAAR,CACE,iGADF;AAGH,KA9BD,MA8BO,IAAI,KAAK,CAAL,KAAWjJ,CAAC,CAACyP,QAAjB,EAA2B;AAChC,YAAMzN,CAAC,GAAGhC,CAAC,CAACyP,QAAZ;AACA,UAAIrN,CAAC,GAAG,IAAR;AACAJ,MAAAA,CAAC,GAAG,KAAKvB,cAAL,CAAoBwD,MAAxB,IAAkCjC,CAAC,IAAI,CAAvC,GACKI,CAAC,GAAG,KAAK3B,cAAL,CAAoBuB,CAApB,CADT,IAEKiF,OAAO,CAACC,IAAR,CACC,+IADD,GAGA9E,CAAC,GAAG,IAAI7G,KAAK,CAACmU,oBAAV,CAA+B,CAA/B,EAAkC,EAAlC,EAAsC,EAAtC,CALT;AAMA,UAAI7M,CAAC,GAAG,IAAR;;AACA,UAAI,KAAK,CAAL,KAAW7C,CAAC,CAAC2P,QAAjB,EAA2B;AACzB,cAAM3N,IAAC,GAAGhC,CAAC,CAAC2P,QAAZ;AACA3N,QAAAA,IAAC,GAAG,KAAKrB,UAAL,CAAgBsD,MAApB,IAA8BjC,IAAC,IAAI,CAAnC,GACKa,CAAC,GAAG,KAAKlC,UAAL,CAAgBqB,IAAhB,CADT,GAEIiF,OAAO,CAACC,IAAR,CACE,4GADF,CAFJ;AAKD;;AACDrE,MAAAA,CAAC,KACEoE,OAAO,CAACgC,KAAR,CACC,6GADD,GAGApG,CAAC,GAAG,IAAImJ,gBAAJ,CACH,EADG,EAEH;AACElG,QAAAA,KAAK,EAAE,IAAIvK,KAAK,CAAC6F,KAAV,CAAgB,QAAhB,CADT;AAEE+J,QAAAA,QAAQ,EAAE,IAAI5P,KAAK,CAAC6F,KAAV,CAAgB,QAAhB;AAFZ,OAFG,CAJN,CAAD;AAWA,YAAM0B,CAAC,GAAG,KAAK,CAAL,KAAW9C,CAAC,CAACqD,IAAb,GAAoBrD,CAAC,CAACqD,IAAtB,GAA6B,QAAvC;AACA,UAAIuB,CAAC,GAAG,IAAR;AACA,mBAAa9B,CAAb,GACK8B,CAAC,GAAG,IAAIgL,SAAJ,CAAcxN,CAAd,EAAiBS,CAAjB,CADT,GAEI,aAAaC,CAAb,GACC8B,CAAC,GAAG,IAAIiL,SAAJ,CAAczN,CAAd,EAAiBS,CAAjB,CADL,GAEA,WAAWC,CAAX,GACC8B,CAAC,GAAG,IAAIkL,gBAAJ,CAAqB1N,CAArB,EAAwBS,CAAxB,CADL,GAEA,gBAAgBC,CAAhB,GACC8B,CAAC,GAAG,IAAImL,aAAJ,CAAkB3N,CAAlB,EAAqBS,CAArB,CADL,IAECoE,OAAO,CAACgC,KAAR,CACE,6CAA4CnG,CAAE,gBADhD,GAGA8B,CAAC,GAAG,IAAIgL,SAAJ,CAAcxN,CAAd,EAAiBS,CAAjB,CALL,CANJ,EAYG+B,CAAC,CAAC4G,OAAF,GAAY,KAAK,CAAL,KAAWxL,CAAC,CAACwL,OAAb,IAAwBxL,CAAC,CAACwL,OAZzC,EAaG5G,CAAC,CAAC4C,UAAF,GAAe,KAAK,CAAL,KAAWxH,CAAC,CAACwH,UAAb,IAA2BxH,CAAC,CAACwH,UAb/C,EAcG5C,CAAC,CAACoL,aAAF,GAAkB,KAAK,CAAL,KAAWhQ,CAAC,CAACgQ,aAAb,IAA8BhQ,CAAC,CAACgQ,aAdrD,EAeEpL,CAAC,CAACmK,QAAF,CAAWC,IAAX,CACE,IAAIzT,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CACEzD,CAAC,CAACiP,WAAF,GAAgBjP,CAAC,CAACiP,WAAlB,GAAgC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADlC,CADF,CAfF,EAoBErK,CAAC,CAACsK,UAAF,CAAaF,IAAb,CACE,IAAIzT,KAAK,CAAC4T,UAAV,GAAuB1L,SAAvB,CACEzD,CAAC,CAACoP,QAAF,GAAapP,CAAC,CAACoP,QAAf,GAA0B,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAD5B,CADF,CApBF,EAyBExK,CAAC,CAACgK,KAAF,CAAQI,IAAR,CACE,IAAIzT,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzD,CAAC,CAAC4O,KAAF,GAAU5O,CAAC,CAAC4O,KAAZ,GAAoB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAlD,CADF,CAzBF,EA4BEhK,CAAC,CAACyK,YAAF,CAAeL,IAAf,CACE,IAAIzT,KAAK,CAAC+T,OAAV,GAAoB7L,SAApB,CACEzD,CAAC,CAACqP,YAAF,GACIrP,CAAC,CAACqP,YADN,GAEI,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAHN,CADF,CA5BF,EAmCEzK,CAAC,CAAChB,YAAF,EAnCF,EAoCE,KAAKvD,MAAL,CAAYoF,IAAZ,CAAiBb,CAAjB,CApCF;AAqCA,YAAMG,CAAC,GAAG,KAAK,CAAL,KAAW/E,CAAC,CAACuP,IAAb,GAAoBvP,CAAC,CAACuP,IAAtB,GAA6BhU,KAAK,CAACwN,SAAN,CAAgByG,YAAhB,EAAvC;AACE,WAAK1O,QAAL,CAAciE,CAAd,IAAmBH,CAApB,EACC5E,CAAC,CAACiQ,UAAF,KACIrL,CAAC,CAACsL,MAAF,GAAW,IAAIC,MAAJ,CAAWvL,CAAX,EAAcb,QAAd,CAAuB/D,CAAC,CAACoQ,eAAzB,CAAZ,EACDxL,CAAC,CAACgB,GAAF,CAAMhB,CAAC,CAACsL,MAAR,CAFF,CADD;AAIF,KAzEM,MAyEA,IAAI,KAAK,CAAL,KAAWlQ,CAAC,CAACqQ,IAAjB,EAAuB;AAC5B,YAAMrO,CAAC,GAAGhC,CAAC,CAACqQ,IAAZ;AACA,UAAIjO,CAAC,GAAG,IAAR;AACAJ,MAAAA,CAAC,GAAG,KAAKxB,WAAL,CAAiByD,MAArB,IAA+BjC,CAAC,IAAI,CAApC,GACKI,CAAC,GAAG,KAAK5B,WAAL,CAAiBwB,CAAjB,CADT,IAEKiF,OAAO,CAACC,IAAR,CACC,+IADD,GAGA9E,CAAC,GAAG,IAAI7G,KAAK,CAACmU,oBAAV,CAA+B,CAA/B,EAAkC,EAAlC,EAAsC,EAAtC,CALT;AAMA,UAAI7M,CAAC,GAAG,IAAR;;AACA,UAAI,KAAK,CAAL,KAAW7C,CAAC,CAAC2P,QAAjB,EAA2B;AACzB,cAAM3N,IAAC,GAAGhC,CAAC,CAAC2P,QAAZ;AACA3N,QAAAA,IAAC,GAAG,KAAKrB,UAAL,CAAgBsD,MAApB,IAA8BjC,IAAC,IAAI,CAAnC,GACKa,CAAC,GAAG,KAAKlC,UAAL,CAAgBqB,IAAhB,CADT,GAEIiF,OAAO,CAACC,IAAR,CACE,4GADF,CAFJ;AAKD;;AACDrE,MAAAA,CAAC,KACEoE,OAAO,CAACC,IAAR,CACC,6GADD,GAGArE,CAAC,GAAG,IAAImJ,gBAAJ,CACH,EADG,EAEH;AACElG,QAAAA,KAAK,EAAE,IAAIvK,KAAK,CAAC6F,KAAV,CAAgB,QAAhB,CADT;AAEE+J,QAAAA,QAAQ,EAAE,IAAI5P,KAAK,CAAC6F,KAAV,CAAgB,QAAhB;AAFZ,OAFG,CAJN,CAAD;AAWA,YAAM0B,CAAC,GAAG,IAAI8M,SAAJ,CAAcxN,CAAd,EAAiBS,CAAjB,CAAV;AACEC,MAAAA,CAAC,CAAC0I,OAAF,GAAY,KAAK,CAAL,KAAWxL,CAAC,CAACwL,OAAb,IAAwBxL,CAAC,CAACwL,OAAvC,EACE1I,CAAC,CAAC0E,UAAF,GAAe,KAAK,CAAL,KAAWxH,CAAC,CAACwH,UAAb,IAA2BxH,CAAC,CAACwH,UAD9C,EAEE1E,CAAC,CAACkN,aAAF,GAAkB,KAAK,CAAL,KAAWhQ,CAAC,CAACgQ,aAAb,IAA8BhQ,CAAC,CAACgQ,aAFpD,EAGClN,CAAC,CAACiM,QAAF,CAAWC,IAAX,CACE,IAAIzT,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CACEzD,CAAC,CAACiP,WAAF,GAAgBjP,CAAC,CAACiP,WAAlB,GAAgC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADlC,CADF,CAHD,EAQCnM,CAAC,CAACoM,UAAF,CAAaF,IAAb,CACE,IAAIzT,KAAK,CAAC4T,UAAV,GAAuB1L,SAAvB,CACEzD,CAAC,CAACoP,QAAF,GAAapP,CAAC,CAACoP,QAAf,GAA0B,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAD5B,CADF,CARD,EAaCtM,CAAC,CAAC8L,KAAF,CAAQI,IAAR,CACE,IAAIzT,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzD,CAAC,CAAC4O,KAAF,GAAU5O,CAAC,CAAC4O,KAAZ,GAAoB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAlD,CADF,CAbD,EAgBC9L,CAAC,CAACuM,YAAF,CAAeL,IAAf,CACE,IAAIzT,KAAK,CAAC+T,OAAV,GAAoB7L,SAApB,CACEzD,CAAC,CAACqP,YAAF,GACIrP,CAAC,CAACqP,YADN,GAEI,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAHN,CADF,CAhBD,EAuBCvM,CAAC,CAACc,YAAF,EAvBD,EAwBC,KAAKvD,MAAL,CAAYoF,IAAZ,CAAiB3C,CAAjB,CAxBD;AAyBD,YAAM8B,CAAC,GAAG,KAAK,CAAL,KAAW5E,CAAC,CAACuP,IAAb,GAAoBvP,CAAC,CAACuP,IAAtB,GAA6BhU,KAAK,CAACwN,SAAN,CAAgByG,YAAhB,EAAvC;AACE,WAAK1O,QAAL,CAAc8D,CAAd,IAAmB9B,CAApB,EACC9C,CAAC,CAACiQ,UAAF,KACInN,CAAC,CAACoN,MAAF,GAAW,IAAIC,MAAJ,CAAWrN,CAAX,EAAciB,QAAd,CAAuB/D,CAAC,CAACoQ,eAAzB,CAAZ,EACDtN,CAAC,CAAC8C,GAAF,CAAM9C,CAAC,CAACoN,MAAR,CAFF,CADD;AAIF,KA5DM,MA4DA,IACL,KAAK,CAAL,KAAWlQ,CAAC,CAACmE,UAAb,IACA,KAAK,CAAL,KAAWnE,CAAC,CAACmE,UAAF,CAAaC,mBADxB,IAEA,KAAK,CAAL,KAAWpE,CAAC,CAACmE,UAAF,CAAaC,mBAAb,CAAiCkM,KAHvC,EAIL;AACA,YAAMtO,CAAC,GAAGhC,CAAC,CAACmE,UAAF,CAAaC,mBAAb,CAAiCkM,KAA3C;;AACA,UAAItO,CAAC,GAAG,KAAKzB,OAAL,CAAa0D,MAAjB,IAA2BjC,CAAC,IAAI,CAApC,EAAuC;AACrC,cAAMI,CAAC,GAAG,KAAK7B,OAAL,CAAayB,CAAb,CAAV;;AACA,YACGI,CAAC,CAAC2M,QAAF,CAAWC,IAAX,CACC,IAAIzT,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CACEzD,CAAC,CAACiP,WAAF,GAAgBjP,CAAC,CAACiP,WAAlB,GAAgC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADlC,CADD,GAKD,gBAAgB7M,CAAC,CAACiB,IAAlB,IAA0B,uBAAuBjB,CAAC,CAACiB,IANrD,EAOE;AACA,gBAAMrB,IAAC,GAAG,IAAIzG,KAAK,CAAC4T,UAAV,GAAuB1L,SAAvB,CACNzD,CAAC,CAACoP,QAAF,GAAapP,CAAC,CAACoP,QAAf,GAA0B,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CADpB,CAAV;AAAA,gBAGEvM,IAAC,GAAG,IAAItH,KAAK,CAAC+T,OAAV,GAAoBiB,0BAApB,CAA+CvO,IAA/C,CAHN;AAAA,gBAIEc,CAAC,GAAG,IAAIvH,KAAK,CAAC8S,OAAV,CAAkBxL,IAAC,CAAC2N,QAAF,CAAW,CAAX,CAAlB,EAAiC3N,IAAC,CAAC2N,QAAF,CAAW,CAAX,CAAjC,EAAgD3N,IAAC,CAAC2N,QAAF,CAAW,EAAX,CAAhD,CAJN;;AAKEpO,UAAAA,CAAC,CAAC8H,MAAF,CAAS6E,QAAT,CAAkBN,CAAlB,GAAsBrM,CAAC,CAAC2M,QAAF,CAAWN,CAAX,GAAe3L,CAAC,CAAC2L,CAAxC,EACErM,CAAC,CAAC8H,MAAF,CAAS6E,QAAT,CAAkBL,CAAlB,GAAsBtM,CAAC,CAAC2M,QAAF,CAAWL,CAAX,GAAe5L,CAAC,CAAC4L,CADzC,EAEEtM,CAAC,CAAC8H,MAAF,CAAS6E,QAAT,CAAkBJ,CAAlB,GAAsBvM,CAAC,CAAC2M,QAAF,CAAWJ,CAAX,GAAe7L,CAAC,CAAC6L,CAFzC;AAGF;;AACDvM,QAAAA,CAAC,CAACiN,YAAF,IACEjN,CAAC,CAACiN,YAAF,CAAeL,IAAf,CACE,IAAIzT,KAAK,CAAC+T,OAAV,GAAoB7L,SAApB,CACEzD,CAAC,CAACqP,YAAF,GACIrP,CAAC,CAACqP,YADN,GAEI,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAHN,CADF,CADF,EAQGjN,CAAC,CAACoJ,OAAF,GAAY,KAAK,CAAL,KAAWxL,CAAC,CAACwL,OAAb,IAAwBxL,CAAC,CAACwL,OARzC,EASE,KAAKnL,MAAL,CAAYoF,IAAZ,CAAiBrD,CAAjB,CATF;AAUA,cAAMS,CAAC,GAAG,KAAK,CAAL,KAAW7C,CAAC,CAACuP,IAAb,GAAoBvP,CAAC,CAACuP,IAAtB,GAA6BhU,KAAK,CAACwN,SAAN,CAAgByG,YAAhB,EAAvC;AACA,aAAK1O,QAAL,CAAc+B,CAAd,IAAmBT,CAAnB;AACD,OA/BD,MAgCE6E,OAAO,CAACgC,KAAR,CACE,gGADF;AAGH,KAzCM,MAyCA,IAAIjJ,CAAC,CAACyQ,gBAAN,EAAwB;AAC7B,YAAMzO,CAAC,GAAG,IAAI0O,cAAJ,EAAV;AACE1O,MAAAA,CAAC,CAACwJ,OAAF,GAAY,KAAK,CAAL,KAAWxL,CAAC,CAACwL,OAAb,IAAwBxL,CAAC,CAACwL,OAAvC,EACCxJ,CAAC,CAAC+M,QAAF,CAAWC,IAAX,CACE,IAAIzT,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CACEzD,CAAC,CAACiP,WAAF,GAAgBjP,CAAC,CAACiP,WAAlB,GAAgC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADlC,CADF,CADD,EAMCjN,CAAC,CAACkN,UAAF,CAAaF,IAAb,CACE,IAAIzT,KAAK,CAAC4T,UAAV,GAAuB1L,SAAvB,CACEzD,CAAC,CAACoP,QAAF,GAAapP,CAAC,CAACoP,QAAf,GAA0B,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAD5B,CADF,CAND,EAWCpN,CAAC,CAAC4M,KAAF,CAAQI,IAAR,CACE,IAAIzT,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzD,CAAC,CAAC4O,KAAF,GAAU5O,CAAC,CAAC4O,KAAZ,GAAoB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAlD,CADF,CAXD,EAcC5M,CAAC,CAACqN,YAAF,CAAeL,IAAf,CACE,IAAIzT,KAAK,CAAC+T,OAAV,GAAoB7L,SAApB,CACEzD,CAAC,CAACqP,YAAF,GACIrP,CAAC,CAACqP,YADN,GAEI,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAHN,CADF,CAdD,EAqBCrN,CAAC,CAAC4B,YAAF,EArBD,EAsBC,KAAKvD,MAAL,CAAYoF,IAAZ,CAAiBzD,CAAjB,CAtBD;AAuBD,YAAMI,CAAC,GAAG,KAAK,CAAL,KAAWpC,CAAC,CAACuP,IAAb,GAAoBvP,CAAC,CAACuP,IAAtB,GAA6BhU,KAAK,CAACwN,SAAN,CAAgByG,YAAhB,EAAvC;AACA,WAAK1O,QAAL,CAAcsB,CAAd,IAAmBJ,CAAnB;AACD,KA3BM,MA2BA;AACLiF,MAAAA,OAAO,CAACC,IAAR,CACE,6FADF;AAGA,YAAMlF,CAAC,GAAG,IAAIzG,KAAK,CAACoV,QAAV,EAAV;AACA3O,MAAAA,CAAC,CAAC+M,QAAF,CAAWC,IAAX,CACE,IAAIzT,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzD,CAAC,CAACiP,WAAF,GAAgBjP,CAAC,CAACiP,WAAlB,GAAgC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAA9D,CADF,GAGEjN,CAAC,CAACkN,UAAF,CAAaF,IAAb,CACE,IAAIzT,KAAK,CAAC4T,UAAV,GAAuB1L,SAAvB,CACEzD,CAAC,CAACoP,QAAF,GAAapP,CAAC,CAACoP,QAAf,GAA0B,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAD5B,CADF,CAHF,EAQEpN,CAAC,CAAC4M,KAAF,CAAQI,IAAR,CACE,IAAIzT,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzD,CAAC,CAAC4O,KAAF,GAAU5O,CAAC,CAAC4O,KAAZ,GAAoB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAlD,CADF,CARF,EAWE,KAAKvO,MAAL,CAAYoF,IAAZ,CAAiBzD,CAAjB,CAXF;AAYD;AACF;;AACDsI,EAAAA,oBAAoB,CAACtK,CAAD,EAAI;AACtB,WAAO,aAAaA,CAAb,GACH,CADG,GAEH,WAAWA,CAAX,GACA,CADA,GAEA,WAAWA,CAAX,GACA,CADA,GAEA,WAAWA,CAAX,GACA,CADA,GAEA,WAAWA,CAAX,GACA,EADA,IAECiH,OAAO,CAACgC,KAAR,CACC,4DADD,GAGD,CALA,CARJ;AAcD;;AACDsB,EAAAA,yBAAyB,CAACvK,CAAD,EAAI;AAC3B,WAAOA,CAAC,KAAKpE,aAAN,GACH,CADG,GAEHoE,CAAC,KAAKnE,cAAN,GACA,CADA,GAEAmE,CAAC,KAAKlE,YAAN,GACA,CADA,GAEAkE,CAAC,KAAKjE,KAAN,GACA,CADA,IAECkL,OAAO,CAACgC,KAAR,CACC,sEADD,GAGD,CALA,CANJ;AAYD;;AACDuB,EAAAA,mBAAmB,CAACxK,CAAD,EAAI;AACrB,WAAO,IAAI4Q,WAAJ,CAAgB5Q,CAAC,CAACiK,MAAlB,CAAP;AACD;;AACDQ,EAAAA,mBAAmB,CAACzK,CAAD,EAAI;AACrB,WAAO,IAAI6Q,WAAJ,CAAgB7Q,CAAC,CAACiK,MAAlB,CAAP;AACD;;AACDS,EAAAA,oBAAoB,CAAC1K,CAAD,EAAI;AACtB,UAAMgC,CAAC,GAAG,IAAI8O,YAAJ,CAAiB9Q,CAAC,CAACiE,MAAF,GAAW6M,YAAY,CAACC,iBAAzC,CAAV;AAAA,UACE3O,CAAC,GAAG,IAAI4O,QAAJ,CAAa,IAAIC,WAAJ,CAAgBH,YAAY,CAACC,iBAA7B,CAAb,CADN;;AAEA,SAAK,IAAIlO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGb,CAAC,CAACiC,MAAtB,EAA8BpB,CAAC,EAA/B,EACET,CAAC,CAAC8O,QAAF,CAAW,CAAX,EAAclR,CAAC,CAAC,IAAI6C,CAAJ,GAAQ,CAAT,CAAf,GACET,CAAC,CAAC8O,QAAF,CAAW,CAAX,EAAclR,CAAC,CAAC,IAAI6C,CAAJ,GAAQ,CAAT,CAAf,CADF,EAEET,CAAC,CAAC8O,QAAF,CAAW,CAAX,EAAclR,CAAC,CAAC,IAAI6C,CAAJ,GAAQ,CAAT,CAAf,CAFF,EAGET,CAAC,CAAC8O,QAAF,CAAW,CAAX,EAAclR,CAAC,CAAC,IAAI6C,CAAJ,GAAQ,CAAT,CAAf,CAHF,EAIGb,CAAC,CAACa,CAAD,CAAD,GAAOT,CAAC,CAAC+O,UAAF,CAAa,CAAb,EAAgB,CAAC,CAAjB,CAJV;;AAKF,WAAOnP,CAAP;AACD;;AACD2I,EAAAA,sBAAsB,CAAC3K,CAAD,EAAIgC,CAAJ,EAAO;AAC3B,WAAO,mBAAmBhC,CAAC,CAACD,WAAF,CAAcqR,IAAjC,GACH,IAAI7V,KAAK,CAAC8V,sBAAV,CAAiCrR,CAAjC,EAAoCgC,CAApC,CADG,GAEH,kBAAkBhC,CAAC,CAACD,WAAF,CAAcqR,IAAhC,GACA,IAAI7V,KAAK,CAAC+V,qBAAV,CAAgCtR,CAAhC,EAAmCgC,CAAnC,CADA,GAEA,kBAAkBhC,CAAC,CAACD,WAAF,CAAcqR,IAAhC,GACA,IAAI7V,KAAK,CAACgW,qBAAV,CAAgCvR,CAAhC,EAAmCgC,CAAnC,CADA,IAECiF,OAAO,CAACgC,KAAR,CACC,0EADD,GAGD,IALA,CAJJ;AAUD;;AAp6BkB;;AAs6BrB,MAAMuI,QAAN,SAAuBjW,KAAK,CAACkW,IAA7B,CAAkC;AAChC1R,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAASgC,CAAT,GACG,KAAK0P,eAAL,GAAuB,IAAInW,KAAK,CAAC+T,OAAV,EAD1B,EAEG,KAAKqC,YAAL,GACC,cAAc,OAAO1P,WAArB,GAAmC,IAAIA,WAAJ,CAAgB,IAAhB,CAAnC,GAA2D,IAH/D;AAID;;AACD,MAAImD,WAAJ,GAAkB;AAChB,WAAO,KAAKuM,YAAZ;AACD;;AACD,MAAIvM,WAAJ,CAAgBpF,CAAhB,EAAmB;AACjB,SAAK2R,YAAL,GAAoB3R,CAApB;AACD;;AACD,MAAIqP,YAAJ,GAAmB;AACjB,WAAO,KAAKqC,eAAZ;AACD;;AACD,MAAIrC,YAAJ,CAAiBrP,CAAjB,EAAoB;AAClB,SAAK0R,eAAL,CAAqB1C,IAArB,CAA0BhP,CAA1B;AACD;;AACD,MAAI4R,UAAJ,CAAe5R,CAAf,EAAkB;AAChB,SAAKwL,OAAL,GAAexL,CAAf;;AACA,SAAK,IAAIgC,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAG,KAAKoD,QAAL,CAAcvB,MAAlC,EAA0CjC,CAAC,GAAGI,CAA9C,EAAiD,EAAEJ,CAAnD,EACE,KAAK,CAAL,KAAW,KAAKwD,QAAL,CAAcxD,CAAd,EAAiB6P,cAA5B,IACE,KAAKrM,QAAL,CAAcxD,CAAd,EAAiB6P,cAAjB,CAAgC,UAAU7P,CAAV,EAAa;AAC3C,WAAK,CAAL,KAAWA,CAAC,CAAC8P,YAAb,IACE,CAAC,CAAD,KAAO9P,CAAC,CAACwJ,OADX,KAEGxJ,CAAC,CAAC8P,YAAF,CAAetG,OAAf,GAAyBxL,CAF5B;AAGD,KAJD,CADF;AAMH;;AACD,MAAI4R,UAAJ,GAAiB;AACf,WAAO,KAAKpG,OAAZ;AACD;;AACDuG,EAAAA,cAAc,CAAC/R,CAAD,EAAI;AAChB,SAAKgS,QAAL,CAAchD,IAAd,CAAmBhP,CAAnB;AACD;;AACDiS,EAAAA,wBAAwB,GAAG;AACzB,SAAKC,iBAAL,KAA2B,KAAKA,iBAAL,GAAyB,IAAIxW,GAAG,CAACyW,IAAR,EAApD,GACE,KAAKD,iBAAL,CAAuBE,iBAAvB,CAAyC,IAAzC,EAA+C,CAAC,CAAhD,CADF,EAEE,KAAKF,iBAAL,CAAuBG,eAAvB,EAFF,EAGE,KAAKH,iBAAL,CAAuBI,YAAvB,EAHF;AAID;;AACDC,EAAAA,yBAAyB,CAACvS,CAAD,EAAI;AAC3B,SAAKwS,kBAAL,KAA4B,KAAKA,kBAAL,GAA0B,IAAI9W,GAAG,CAACyW,IAAR,EAAtD,GACE,KAAKK,kBAAL,CAAwBJ,iBAAxB,CAA0C,IAA1C,EAAgDpS,CAAhD,CADF;AAED;;AACDyS,EAAAA,iBAAiB,CAACzS,CAAD,EAAI;AACnB,SAAK0S,gBAAL,IAAyB,KAAK9O,YAAL,EAAzB,EACE,CAAC,KAAK+O,sBAAL,IAA+B3S,CAAhC,MACG,SAAS,KAAK4S,MAAd,GACG,KAAKC,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKpB,eAAvC,EAAwD,KAAKqB,MAA7D,CADH,IAEI,KAAKF,WAAL,CAAiBC,gBAAjB,CACC,KAAKF,MAAL,CAAYC,WADb,EAEC,KAAKnB,eAFN,GAID,KAAKmB,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKD,WAAvC,EAAoD,KAAKE,MAAzD,CANH,GAOA,KAAKJ,sBAAL,GAA8B,CAAC,CAP/B,EAQA3S,CAAC,GAAG,CAAC,CATR,CADF;AAWA,UAAMgC,CAAC,GAAG,KAAKwD,QAAf;;AACA,SAAK,IAAIpD,CAAC,GAAG,CAAR,EAAWS,CAAC,GAAGb,CAAC,CAACiC,MAAtB,EAA8B7B,CAAC,GAAGS,CAAlC,EAAqCT,CAAC,EAAtC,EAA0CJ,CAAC,CAACI,CAAD,CAAD,CAAKqQ,iBAAL,CAAuBzS,CAAvB;AAC3C;;AACDgT,EAAAA,iBAAiB,CAAChT,CAAD,EAAIgC,CAAJ,EAAO;AACtB,QAAII,CAAC,GAAG,KAAKwQ,MAAb;AACA,QACG,CAAC,CAAD,KAAO5S,CAAP,IAAY,SAASoC,CAArB,IAA0BA,CAAC,CAAC4Q,iBAAF,CAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB,CAA1B,EACD,KAAKN,gBAAL,IAAyB,KAAK9O,YAAL,EADxB,EAED,SAAS,KAAKgP,MAAd,GACI,KAAKC,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKpB,eAAvC,EAAwD,KAAKqB,MAA7D,CADJ,IAEK,KAAKF,WAAL,CAAiBC,gBAAjB,CACC,KAAKF,MAAL,CAAYC,WADb,EAEC,KAAKnB,eAFN,GAID,KAAKmB,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKD,WAAvC,EAAoD,KAAKE,MAAzD,CANJ,CAFC,EASD,CAAC,CAAD,KAAO/Q,CAVT,EAYE,KAAK,IAAIa,CAAC,GAAG,KAAK2C,QAAb,EAAuB1C,CAAC,GAAG,CAA3B,EAA8B8B,CAAC,GAAG/B,CAAC,CAACoB,MAAzC,EAAiDnB,CAAC,GAAG8B,CAArD,EAAwD9B,CAAC,EAAzD,EACED,CAAC,CAACC,CAAD,CAAD,CAAKkQ,iBAAL,CAAuB,CAAC,CAAxB,EAA2B,CAAC,CAA5B;AACL;;AACDC,EAAAA,YAAY,CAACjT,CAAD,EAAI;AACd,WAAO,IAAI,KAAKD,WAAT,CAAqB,KAAKiS,QAA1B,EAAoC,KAAKrC,QAAzC,EAAmDuD,WAAnD,CACL,IADK,EAELlT,CAFK,CAAP;AAID;;AACDkT,EAAAA,WAAW,CAAClT,CAAD,EAAIgC,CAAC,GAAG,CAAC,CAAT,EAAY;AACrB,QAAII,CAAC,GAAGpC,CAAC,CAACwF,QAAV;AACA,QACIxF,CAAC,CAACwF,QAAF,GAAa,EAAd,EACD,MAAMwJ,IAAN,CAAWhP,CAAX,CADC,EAEAA,CAAC,CAACwF,QAAF,GAAapD,CAFb,EAGD,KAAK+Q,gBAAL,CAAsB,KAAKrE,QAA3B,CAHC,EAID,CAAC,CAAD,KAAO9M,CALT,EAOE,KAAK,IAAIA,IAAC,GAAG,CAAR,EAAWa,CAAC,GAAGT,CAAC,CAAC6B,MAAtB,EAA8BjC,IAAC,GAAGa,CAAlC,EAAqC,EAAEb,IAAvC,EAA0C;AACxC,UAAII,IAAC,GAAGpC,CAAC,CAACwF,QAAF,CAAWxD,IAAX,CAAR;AACA,OAAC,CAAD,KAAOI,IAAC,CAAC0M,QAAF,CAAWsE,QAAlB,IAA8B,KAAKxN,GAAL,CAASxD,IAAC,CAAC6Q,YAAF,EAAT,CAA9B;AACD;AACH,WAAO,IAAP;AACD;;AACDpB,EAAAA,cAAc,CAAC7R,CAAD,EAAI;AAChB,KAAE,SAASgC,CAAT,CAAWI,CAAX,EAAc;AACd,UAAI,CAACA,CAAC,CAAC0M,QAAF,CAAWsE,QAAhB,EAA0B;AAC1BpT,MAAAA,CAAC,CAACoC,CAAD,CAAD;AACA,YAAMS,CAAC,GAAGT,CAAC,CAACoD,QAAZ;;AACA,WAAK,IAAIxF,CAAC,GAAG,CAAR,EAAWoC,IAAC,GAAGS,CAAC,CAACoB,MAAtB,EAA8BjE,CAAC,GAAGoC,IAAlC,EAAqC,EAAEpC,CAAvC,EAA0CgC,CAAC,CAACa,CAAC,CAAC7C,CAAD,CAAF,CAAD;AAC3C,KALA,CAKE,IALF,CAAD;AAMD;;AACDmT,EAAAA,gBAAgB,CAACnT,CAAD,EAAI;AAClB,AAAE,SAAK8O,QAAL,GAAgB9O,CAAjB,EACE,KAAK8O,QAAL,CAAcuE,gBAAd,GAAiC,IAAI9X,KAAK,CAAC8S,OAAV,EADnC,EAEC,KAAK,CAAL,KAAWrO,CAAC,CAACqP,YAAb,KACG,KAAKP,QAAL,CAAcO,YAAd,GAA6B,IAAI9T,KAAK,CAAC+T,OAAV,GAAoB7L,SAApB,CAC5BzD,CAAC,CAACqP,YAAF,CAAemB,QADa,CADhC,CAFD,EAMC,KAAK,CAAL,KAAWxQ,CAAC,CAACsT,IAAb,KAAsB,KAAKxE,QAAL,CAAcwE,IAAd,GAAqB,CAAC,CAA5C,CAND;AAOF;;AAlH+B;;AAoHlC,MAAM1D,SAAN,SAAwB4B,QAAxB,CAAiC;AAC/BzR,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAASgC,CAAT;AACD;;AAH8B;;AAKjC,MAAM6N,SAAN,SAAwB2B,QAAxB,CAAiC;AAC/BzR,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAASgC,CAAT;AACD;;AAH8B;;AAKjC,MAAM0O,cAAN,SAA6BnV,KAAK,CAACgY,KAAnC,CAAyC;AACvCxT,EAAAA,WAAW,GAAG;AACZ,aACG,KAAK2R,eAAL,GAAuB,IAAInW,KAAK,CAAC+T,OAAV,EAD1B,EAEG,KAAKqC,YAAL,GACC,cAAc,OAAO1P,WAArB,GAAmC,IAAIA,WAAJ,CAAgB,IAAhB,CAAnC,GAA2D,IAH/D;AAID;;AACD,MAAImD,WAAJ,GAAkB;AAChB,WAAO,KAAKuM,YAAZ;AACD;;AACD,MAAIvM,WAAJ,CAAgBpF,CAAhB,EAAmB;AACjB,SAAK2R,YAAL,GAAoB3R,CAApB;AACD;;AACD,MAAIqP,YAAJ,GAAmB;AACjB,WAAO,KAAKqC,eAAZ;AACD;;AACD,MAAIrC,YAAJ,CAAiBrP,CAAjB,EAAoB;AAClB,SAAK0R,eAAL,CAAqB1C,IAArB,CAA0BhP,CAA1B;AACD;;AACDyS,EAAAA,iBAAiB,CAACzS,CAAD,EAAI;AACnB,SAAK0S,gBAAL,IAAyB,KAAK9O,YAAL,EAAzB,EACE,CAAC,KAAK+O,sBAAL,IAA+B3S,CAAhC,MACG,SAAS,KAAK4S,MAAd,GACG,KAAKC,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKpB,eAAvC,EAAwD,KAAKqB,MAA7D,CADH,IAEI,KAAKF,WAAL,CAAiBC,gBAAjB,CACC,KAAKF,MAAL,CAAYC,WADb,EAEC,KAAKnB,eAFN,GAID,KAAKmB,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKD,WAAvC,EAAoD,KAAKE,MAAzD,CANH,GAOA,KAAKJ,sBAAL,GAA8B,CAAC,CAP/B,EAQA3S,CAAC,GAAG,CAAC,CATR,CADF;AAWA,UAAMgC,CAAC,GAAG,KAAKwD,QAAf;;AACA,SAAK,IAAIpD,CAAC,GAAG,CAAR,EAAWS,CAAC,GAAGb,CAAC,CAACiC,MAAtB,EAA8B7B,CAAC,GAAGS,CAAlC,EAAqCT,CAAC,EAAtC,EAA0CJ,CAAC,CAACI,CAAD,CAAD,CAAKqQ,iBAAL,CAAuBzS,CAAvB;AAC3C;;AACDgT,EAAAA,iBAAiB,CAAChT,CAAD,EAAIgC,CAAJ,EAAO;AACtB,QAAII,CAAC,GAAG,KAAKwQ,MAAb;AACA,QACG,CAAC,CAAD,KAAO5S,CAAP,IAAY,SAASoC,CAArB,IAA0BA,CAAC,CAAC4Q,iBAAF,CAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB,CAA1B,EACD,KAAKN,gBAAL,IAAyB,KAAK9O,YAAL,EADxB,EAED,SAAS,KAAKgP,MAAd,GACI,KAAKC,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKpB,eAAvC,EAAwD,KAAKqB,MAA7D,CADJ,IAEK,KAAKF,WAAL,CAAiBC,gBAAjB,CACC,KAAKF,MAAL,CAAYC,WADb,EAEC,KAAKnB,eAFN,GAID,KAAKmB,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKD,WAAvC,EAAoD,KAAKE,MAAzD,CANJ,CAFC,EASD,CAAC,CAAD,KAAO/Q,CAVT,EAYE,KAAK,IAAIa,CAAC,GAAG,KAAK2C,QAAb,EAAuB1C,CAAC,GAAG,CAA3B,EAA8B8B,CAAC,GAAG/B,CAAC,CAACoB,MAAzC,EAAiDnB,CAAC,GAAG8B,CAArD,EAAwD9B,CAAC,EAAzD,EACED,CAAC,CAACC,CAAD,CAAD,CAAKkQ,iBAAL,CAAuB,CAAC,CAAxB,EAA2B,CAAC,CAA5B;AACL;;AAlDsC;;AAoDzC,MAAMQ,QAAN,CAAe;AACbzT,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAC,GAAG9F,oBAAR,EAA8BkG,CAAC,GAAG,EAAlC,EAAsC;AAC/C,AAAE,SAAKqR,GAAL,GAAWzT,CAAZ,EACE,KAAK0T,KAAL,GAAa1R,CADf,EAEE,KAAK2R,KAAL,GAAa,IAFf,EAGE,KAAKC,QAAL,GAAgB,EAHlB,EAIE,KAAKC,SAAL,GAAiB,EAJnB,EAKE,KAAKC,oBAAL,GAA4B,EAL9B,EAME,KAAKC,oBAAL,GAA4B,EAN9B,EAOC,KAAKC,4BAAL,CAAkC5R,CAAlC,CAPD;AAQF;;AACD,MAAI6R,EAAJ,GAAS;AACP,WAAO,KAAKR,GAAZ;AACD;;AACD,MAAIpQ,IAAJ,GAAW;AACT,WAAO,KAAKqQ,KAAZ;AACD;;AACD,MAAIQ,IAAJ,GAAW;AACT,WAAO,KAAKP,KAAZ;AACD;;AACD,MAAIO,IAAJ,CAASlU,CAAT,EAAY;AACV,SAAK2T,KAAL,GAAa3T,CAAb;AACD;;AACD,MAAImU,OAAJ,GAAc;AACZ,WAAO,KAAKP,QAAZ;AACD;;AACD,MAAIQ,QAAJ,GAAe;AACb,WAAO,KAAKP,SAAZ;AACD;;AACD,MAAIQ,UAAJ,GAAiB;AACf,UAAMrU,CAAC,GAAGqC,MAAM,CAACiS,IAAP,CAAY,KAAKT,SAAjB,CAAV;AAAA,UACE7R,CAAC,GAAI,IAAG,KAAKyR,GAAI,GADnB;AAAA,UAEErR,CAAC,GAAG,EAFN;;AAGA,SAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7C,CAAC,CAACiE,MAAtB,EAA8BpB,CAAC,EAA/B,EAAmC;AACjC,YAAMC,CAAC,GAAG9C,CAAC,CAAC6C,CAAD,CAAX;AACAT,MAAAA,CAAC,CAACqD,IAAF,CAAO3C,CAAC,CAAC6G,KAAF,CAAQ7G,CAAC,CAAC4G,OAAF,CAAU1H,CAAV,IAAeA,CAAC,CAACiC,MAAzB,CAAP;AACD;;AACD,WAAO7B,CAAP;AACD;;AACDmS,EAAAA,SAAS,GAAG;AACV,UAAMvU,CAAC,GAAI,IAAG,KAAKyT,GAAI,GAAvB;AAAA,UACEzR,CAAC,GAAG;AAAEqB,MAAAA,IAAI,EAAE,KAAKA;AAAb,KADN;;AAEA,SAAK,MAAM,CAACjB,CAAD,EAAIS,CAAJ,CAAX,IAAqBR,MAAM,CAACC,OAAP,CAAe,KAAKuR,SAApB,CAArB,EAAqD;AACnD,YAAM/Q,CAAC,GAAGV,CAAC,CAACuH,KAAF,CAAQvH,CAAC,CAACsH,OAAF,CAAU1J,CAAV,IAAeA,CAAC,CAACiE,MAAzB,CAAV;AACApB,MAAAA,CAAC,CAAC2R,KAAF,CAAQC,OAAR,GAAmBzS,CAAC,CAACc,CAAD,CAAD,GAAOD,CAAC,CAAC2R,KAAF,CAAQC,OAAR,EAA1B,GAAgDzS,CAAC,CAACc,CAAD,CAAD,GAAOD,CAAC,CAAC2R,KAAzD;AACD;;AACD,WAAOxS,CAAP;AACD;;AACDgS,EAAAA,4BAA4B,CAAChU,CAAD,EAAI;AAC9BiH,IAAAA,OAAO,CAACgC,KAAR,CAAc,2DAAd;AACD;;AACDyL,EAAAA,wBAAwB,GAAG;AACzB,WAAO,MAAP;AACD;;AACDC,EAAAA,wBAAwB,GAAG;AACzB,WAAO,MAAP;AACD;;AACDC,EAAAA,sBAAsB,CAAC5U,CAAD,EAAI;AACxB,WAAO,MAAP;AACD;;AACD6U,EAAAA,sBAAsB,CAAC7U,CAAD,EAAI;AACxB,WAAO,MAAP;AACD;;AACDgP,EAAAA,IAAI,CAAChP,CAAD,EAAI;AACN,SAAK0T,KAAL,KAAe1T,CAAC,CAAC0T,KAAjB,IACM,KAAKD,GAAL,GAAWzT,CAAC,CAACyT,GAAd,EACA,KAAKG,QAAL,GAAgB,EAAE,GAAG5T,CAAC,CAAC4T;AAAP,KADhB,EAED,KAAKkB,YAAL,CAAkB9U,CAAlB,CAHJ,IAIIiH,OAAO,CAACgC,KAAR,CACG,4DAA2D,KAAKyK,KAAM,SAAQ1T,CAAC,CAAC0T,KAAM,EADzF,CAJJ;AAOD;;AACDqB,EAAAA,KAAK,GAAG;AACN,WAAOvB,QAAQ,CAACwB,WAAT,CAAqB,KAAKvB,GAA1B,EAA+B,KAAKC,KAApC,EAA2C,KAAKG,SAAhD,CAAP;AACD;;AACDiB,EAAAA,YAAY,CAAC9U,CAAD,EAAI;AACdiH,IAAAA,OAAO,CAACgC,KAAR,CAAc,2CAAd;AACD;;AACD,SAAO+L,WAAP,CAAmBhV,CAAnB,EAAsBgC,CAAtB,EAAyBI,CAAzB,EAA4B;AAC1B,WAAOJ,CAAC,KAAK/F,uBAAN,GACH,IAAIgZ,gBAAJ,CAAqBjV,CAArB,EAAwBoC,CAAxB,CADG,GAEHJ,CAAC,KAAK9F,oBAAN,GACA,IAAIgZ,aAAJ,CAAkBlV,CAAlB,EAAqBoC,CAArB,CADA,GAEAJ,CAAC,KAAK7F,uBAAN,GACA,IAAIgZ,gBAAJ,CAAqBnV,CAArB,EAAwBoC,CAAxB,CADA,GAEAJ,CAAC,KAAK5F,qBAAN,GACA,IAAIgZ,cAAJ,CAAmBpV,CAAnB,EAAsBoC,CAAtB,CADA,GAEAJ,CAAC,KAAK3F,oBAAN,GACA,IAAIgZ,aAAJ,CAAkBrV,CAAlB,EAAqBoC,CAArB,CADA,GAEAJ,CAAC,KAAK1F,sBAAN,GACA,IAAIgZ,eAAJ,CAAoBtV,CAApB,EAAuBoC,CAAvB,CADA,GAEAJ,CAAC,KAAKzF,oBAAN,GACA,IAAIgZ,aAAJ,CAAkBvV,CAAlB,EAAqBoC,CAArB,CADA,GAEAJ,CAAC,KAAKxF,sBAAN,GACA,IAAIgZ,eAAJ,CAAoBxV,CAApB,EAAuBoC,CAAvB,CADA,GAEAJ,CAAC,KAAKvF,qBAAN,GACA,IAAIgZ,cAAJ,CAAmBzV,CAAnB,EAAsBoC,CAAtB,CADA,GAEAJ,CAAC,KAAKtF,oBAAN,GACA,IAAIgZ,aAAJ,CAAkB1V,CAAlB,EAAqBoC,CAArB,CADA,GAEA,IApBJ;AAqBD;;AACD,SAAOuT,cAAP,CAAsB3V,CAAtB,EAAyB;AACvB,UAAMgC,CAAC,GAAG,EAAV;;AACA,SAAK,MAAM,CAACI,CAAD,EAAIS,CAAJ,CAAX,IAAqBR,MAAM,CAACC,OAAP,CAAetC,CAAf,CAArB,EAAwCgC,CAAC,CAACI,CAAD,CAAD,GAAO;AAAEoS,MAAAA,KAAK,EAAE3R;AAAT,KAAP;;AACxC,WAAOb,CAAP;AACD;;AAzGY;;AA2Gf,MAAMiT,gBAAN,SAA+BzB,QAA/B,CAAwC;AACtCzT,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAAS/D,uBAAT,EAAkC+F,CAAlC;AACD;;AACDgS,EAAAA,4BAA4B,CAAChU,CAAD,EAAI;AAC9B,AAAE,SAAK4T,QAAL,CAAcgC,sBAAd,GAAuC,EAAxC,EACE,KAAK/B,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC6V,KAAb,GAAqB7V,CAAC,CAAC6V,KAAF,CAAQrB,KAA7B,GAAqC;AADN,KADzC,EAIE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC8V,IAAb,GAAoB9V,CAAC,CAAC8V,IAAF,CAAOtB,KAA3B,GAAmC1W;AADL,KAJxC;AAOF;;AACD6W,EAAAA,wBAAwB,GAAG;AACzB,WAAQ,mFAAkF,KAAKlB,GAAI,qCAAoC,KAAKA,GAAI,qEAAhJ;AACD;;AACDoB,EAAAA,sBAAsB,GAAG;AACvB,WAAQ,2aAA0a,KAAKpB,GAAI,qGAAoG,KAAKA,GAAI,YAAW,KAAKA,GAAI,yIAA5jB;AACD;;AACDqB,EAAAA,YAAY,CAAC9U,CAAD,EAAI;AACdA,IAAAA,CAAC,YAAYiV,gBAAb,KACI,KAAKpB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO;AADG,KAAxC,EAGA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KAJzC;AAOD;;AA3BqC;;AA6BxC,MAAMU,aAAN,SAA4B1B,QAA5B,CAAqC;AACnCzT,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAAS9D,oBAAT,EAA+B8F,CAA/B;AACD;;AACDgS,EAAAA,4BAA4B,CAAChU,CAAD,EAAI;AAC9B,AAAE,SAAK4T,QAAL,CAAcmC,mBAAd,GAAoC,EAArC,EACE,KAAKlC,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC6V,KAAb,GAAqB7V,CAAC,CAAC6V,KAAF,CAAQrB,KAA7B,GAAqC;AADN,KADzC,EAIE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC8V,IAAb,GAAoB9V,CAAC,CAAC8V,IAAF,CAAOtB,KAA3B,GAAmC1W;AADL,KAJxC,EAOE,KAAK+V,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAAC8F,KAAb,GACI,IAAIvK,KAAK,CAAC6F,KAAV,CAAgBpB,CAAC,CAAC8F,KAAF,CAAQ0O,KAAxB,CADJ,GAEI,IAAIjZ,KAAK,CAAC6F,KAAV,CAAgBxD,iBAAhB;AAJgC,KAPzC;AAaF;;AACD+W,EAAAA,wBAAwB,GAAG;AACzB,WAAQ,qFAAoF,KAAKlB,GAAI,qCAAoC,KAAKA,GAAI,qCAAoC,KAAKA,GAAI,wEAA/L;AACD;;AACDoB,EAAAA,sBAAsB,CAAC7U,CAAD,EAAI;AACxB,WAAQ,8HAA6H,KAAKyT,GAAI,cAAa,KAAKA,GAAI,oBAAmB,KAAKA,GAAI,2FAA0F,KAAKA,GAAI,wBAAuBzT,CAAE,iBAAgBA,CAAE,MAAK,KAAKyT,GAAI,YAAW,KAAKA,GAAI,aAAY,KAAKA,GAAI,0HAArY;AACD;;AACDqB,EAAAA,YAAY,CAAC9U,CAAD,EAAI;AACdA,IAAAA,CAAC,YAAYkV,aAAb,KACI,KAAKrB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO;AADG,KAAxC,EAGA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KAHtC,EAMA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO,KAA7B,CAAmCO,KAAnC;AAD+B,KAP1C;AAUD;;AApCkC;;AAsCrC,MAAMO,eAAN,SAA8B9B,QAA9B,CAAuC;AACrCzT,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAAS1D,sBAAT,EAAiC0F,CAAjC;AACD;;AACDgS,EAAAA,4BAA4B,CAAChU,CAAD,EAAI;AAC9B,QAAIgC,CAAJ;AACE,SAAK4R,QAAL,CAAcoC,qBAAd,GAAsC,EAAvC,EACE,KAAKpC,QAAL,CAAcqC,MAAd,GAAuB,EADzB,EAEE,KAAKpC,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC6V,KAAb,GAAqB7V,CAAC,CAAC6V,KAAF,CAAQrB,KAA7B,GAAqC;AADN,KAFzC,EAKE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC8V,IAAb,GAAoB9V,CAAC,CAAC8V,IAAF,CAAOtB,KAA3B,GAAmC1W;AADL,KALxC,EAQE,KAAK+V,SAAL,CAAgB,IAAG,KAAKJ,GAAI,UAA5B,IAAyC;AACxCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAACkW,OAAb,IACMlU,CAAC,GAAGhC,CAAC,CAACkW,OAAF,CAAU1B,KAAf,EACDxS,CAAC,YAAYzG,KAAK,CAACwH,OAAnB,GACIf,CADJ,GAEI,YAAY,OAAOA,CAAnB,GACC,UAAUhC,CAAV,EAAa;AACZ,cAAMgC,CAAC,GAAG,IAAIO,KAAJ,EAAV;AACAP,QAAAA,CAAC,CAACQ,GAAF,GAAQxC,CAAR;AACA,cAAMoC,CAAC,GAAG,IAAI7G,KAAK,CAACwH,OAAV,CAAkBf,CAAlB,CAAV;AACA,eAAQI,CAAC,CAAC+T,WAAF,GAAgB,CAAC,CAAlB,EAAsB/T,CAA7B;AACD,OALD,CAKGJ,CALH,CADA,IAOCiF,OAAO,CAACgC,KAAR,CACC,8EADD,GAGD,IAAI1N,KAAK,CAACwH,OAAV,EAVA,CAJR,IAeI,IAAIxH,KAAK,CAACwH,OAAV;AAjBkC,KAR3C,EA2BE,KAAK8Q,SAAL,CAAgB,IAAG,KAAKJ,GAAI,MAA5B,IAAqC;AACpCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAACoW,GAAb,GACI,KAAKvC,SAAL,CAAgB,IAAG,KAAKJ,GAAI,UAA5B,EAAuCe,KAAvC,CAA6CzB,MAA7C,CAAoDtP,SAApD,CACE,KAAK,CAAL,KAAWzD,CAAC,CAACoW,GAAF,CAAM5B,KAAN,CAAYhE,QAAvB,GACIxQ,CAAC,CAACoW,GAAF,CAAM5B,KAAN,CAAYhE,QADhB,GAEIxQ,CAAC,CAACoW,GAAF,CAAM5B,KAHZ,CADJ,GAMI,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,UAA5B,EAAuCe,KAAvC,CAA6CzB;AARf,KA3BvC,EAqCE,KAAKc,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAACqW,IAAb,GAAoBrW,CAAC,CAACqW,IAAF,CAAO7B,KAA3B,GAAmC;AADL,KArCxC;AAwCF;;AACDG,EAAAA,wBAAwB,GAAG;AACzB,WAAQ,qFAAoF,KAAKlB,GAAI,qCAAoC,KAAKA,GAAI,0CAAyC,KAAKA,GAAI,wCAAuC,KAAKA,GAAI,qCAAoC,KAAKA,GAAI,uEAAjS;AACD;;AACDoB,EAAAA,sBAAsB,CAAC7U,CAAD,EAAI;AACxB,WAAQ,6HAA4H,KAAKyT,GAAI,aAAY,KAAKA,GAAI,wEAAuE,KAAKA,GAAI,sBAAqB,KAAKA,GAAI,cAAa,KAAKA,GAAI,8BAA6B,KAAKA,GAAI,WAAU,KAAKA,GAAI,iCAAgC,KAAKA,GAAI,cAAa,KAAKA,GAAI,aAAY,KAAKA,GAAI,8BAA6B,KAAKA,GAAI,0CAAyC,KAAKA,GAAI,oBAAmB,KAAKA,GAAI,0CAAyC,KAAKA,GAAI,oBAAmB,KAAKA,GAAI,8CAA6C,KAAKA,GAAI,wEAAuE,KAAKA,GAAI,eAAc,KAAKA,GAAI,qBAAoB,KAAKA,GAAI,4FAA2F,KAAKA,GAAI,yBAAwBzT,CAAE,iBAAgBA,CAAE,MAAK,KAAKyT,GAAI,UAAS,KAAKA,GAAI,aAAY,KAAKA,GAAI,0HAAp/B;AACD;;AACDqB,EAAAA,YAAY,CAAC9U,CAAD,EAAI;AACdA,IAAAA,CAAC,YAAYsV,eAAb,KACI,KAAKzB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO;AADG,KAAxC,EAGA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KAHtC,EAMA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,UAA5B,IAAyC;AACxCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,UAApB,EAA+BO,KAA/B,CAAqCO,KAArC;AADiC,KANzC,EASA,KAAKlB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,MAA5B,IAAqC;AACpCe,MAAAA,KAAK,EAAE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,UAA5B,EAAuCe,KAAvC,CAA6CzB;AADhB,KATrC,EAYA,KAAKc,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KAbzC;AAgBD;;AACD,SAAOmB,cAAP,CAAsB3V,CAAtB,EAAyB;AACvB,WAAO;AACL6V,MAAAA,KAAK,EAAE;AAAErB,QAAAA,KAAK,EAAExU,CAAC,CAAC6V;AAAX,OADF;AAELC,MAAAA,IAAI,EAAE;AAAEtB,QAAAA,KAAK,EAAExU,CAAC,CAAC8V;AAAX,OAFD;AAGLI,MAAAA,OAAO,EAAE;AAAE1B,QAAAA,KAAK,EAAExU,CAAC,CAACkW;AAAX,OAHJ;AAILE,MAAAA,GAAG,EAAE;AAAE5B,QAAAA,KAAK,EAAExU,CAAC,CAACkW,OAAF,CAAUnD;AAAnB,OAJA;AAKLsD,MAAAA,IAAI,EAAE;AAAE7B,QAAAA,KAAK,EAAExU,CAAC,CAACqW;AAAX;AALD,KAAP;AAOD;;AA/EoC;;AAiFvC,MAAMjB,cAAN,SAA6B5B,QAA7B,CAAsC;AACpCzT,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAAS5D,qBAAT,EAAgC4F,CAAhC;AACD;;AACDgS,EAAAA,4BAA4B,CAAChU,CAAD,EAAI;AAC9B,AAAE,SAAK4T,QAAL,CAAc0C,oBAAd,GAAqC,EAAtC,EACE,KAAKzC,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC6V,KAAb,GAAqB7V,CAAC,CAAC6V,KAAF,CAAQrB,KAA7B,GAAqC;AADN,KADzC,EAIE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC8V,IAAb,GAAoB9V,CAAC,CAAC8V,IAAF,CAAOtB,KAA3B,GAAmC1W;AADL,KAJxC,EAOE,KAAK+V,SAAL,CAAgB,IAAG,KAAKJ,GAAI,UAA5B,IAAyC;AACxCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAACuW,OAAb,GACI,IAAIhb,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzD,CAAC,CAACuW,OAAF,CAAU/B,KAAxC,CADJ,GAEI,IAAIjZ,KAAK,CAAC8S,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB;AAJkC,KAP3C;AAaF;;AACDsG,EAAAA,wBAAwB,GAAG;AACzB,WAAQ,oFAAmF,KAAKlB,GAAI,qCAAoC,KAAKA,GAAI,qCAAoC,KAAKA,GAAI,yEAA9L;AACD;;AACDoB,EAAAA,sBAAsB,CAAC7U,CAAD,EAAI;AACxB,WAAQ,6HAA4H,KAAKyT,GAAI,0DAAyD,KAAKA,GAAI,gCAA+B,KAAKA,GAAI,mCAAkC,KAAKA,GAAI,cAAa,KAAKA,GAAI,oBAAmB,KAAKA,GAAI,2FAA0F,KAAKA,GAAI,wBAAuBzT,CAAE,iBAAgBA,CAAE,MAAK,KAAKyT,GAAI,aAAY,KAAKA,GAAI,aAAY,KAAKA,GAAI,0HAA1hB;AACD;;AACDqB,EAAAA,YAAY,CAAC9U,CAAD,EAAI;AACdA,IAAAA,CAAC,YAAYoV,cAAb,KACI,KAAKvB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO;AADG,KAAxC,EAGA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KAHtC,EAMA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,UAA5B,IAAyC;AACxCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,UAApB,EAA+BO,KAA/B,CAAqCO,KAArC;AADiC,KAP5C;AAUD;;AApCmC;;AAsCtC,MAAMM,aAAN,SAA4B7B,QAA5B,CAAqC;AACnCzT,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAAS3D,oBAAT,EAA+B2F,CAA/B;AACD;;AACDgS,EAAAA,4BAA4B,CAAChU,CAAD,EAAI;AAC9B,AAAE,SAAK4T,QAAL,CAAc4C,mBAAd,GAAoC,EAArC,EACE,KAAK3C,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC6V,KAAb,GAAqB7V,CAAC,CAAC6V,KAAF,CAAQrB,KAA7B,GAAqC;AADN,KADzC,EAIE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC8V,IAAb,GAAoB9V,CAAC,CAAC8V,IAAF,CAAOtB,KAA3B,GAAmC1W;AADL,KAJxC,EAOE,KAAK+V,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC+F,IAAb,GAAoB/F,CAAC,CAAC+F,IAAF,CAAOyO,KAA3B,GAAmC;AADL,KAPxC,EAUE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,MAA5B,IAAqC;AACpCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAACgG,GAAb,GAAmBhG,CAAC,CAACgG,GAAF,CAAMwO,KAAzB,GAAiC;AADJ,KAVvC,EAaE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAACyW,MAAb,GACI,IAAIlb,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzD,CAAC,CAACyW,MAAF,CAASjC,KAAvC,CADJ,GAEI,IAAIjZ,KAAK,CAAC8S,OAAV;AAJiC,KAb1C,EAmBE,KAAKwF,SAAL,CAAgB,IAAG,KAAKJ,GAAI,WAA5B,IAA0C;AACzCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC0W,QAAb,GAAwB1W,CAAC,CAAC0W,QAAF,CAAWlC,KAAnC,GAA2C;AADT,KAnB5C,EAsBE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAAC2W,MAAF,GAAW,IAAIpb,KAAK,CAAC6F,KAAV,CAAgBpB,CAAC,CAAC2W,MAAF,CAASnC,KAAzB,CAAX,GAA6C,IAAIjZ,KAAK,CAAC6F,KAAV;AADb,KAtB1C,EAyBE,KAAKyS,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAAC4W,MAAF,GACH,IAAIrb,KAAK,CAAC6F,KAAV,CAAgBpB,CAAC,CAAC4W,MAAF,CAASpC,KAAzB,CADG,GAEH,IAAIjZ,KAAK,CAAC6F,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB;AAHmC,KAzB1C;AA8BF;;AACDuT,EAAAA,wBAAwB,GAAG;AACzB,WAAQ,wFAAuF,KAAKlB,GAAI,qCAAoC,KAAKA,GAAI,sCAAqC,KAAKA,GAAI,sCAAqC,KAAKA,GAAI,qCAAoC,KAAKA,GAAI,yCAAwC,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,4EAA7a;AACD;;AACDoB,EAAAA,sBAAsB,CAAC7U,CAAD,EAAI;AACxB,WAAQ,gIAA+H,KAAKyT,GAAI,SAAQ,KAAKA,GAAI,yBAAwB,KAAKA,GAAI,oDAAmD,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,6BAA4B,KAAKA,GAAI,YAAW,KAAKA,GAAI,OAAM,KAAKA,GAAI,gBAAe,KAAKA,GAAI,WAAU,KAAKA,GAAI,+BAA8B,KAAKA,GAAI,mBAAkB,KAAKA,GAAI,aAAY,KAAKA,GAAI,4BAA2B,KAAKA,GAAI,qCAAoC,KAAKA,GAAI,cAAa,KAAKA,GAAI,oBAAmB,KAAKA,GAAI,yFAAwF,KAAKA,GAAI,wBAAuBzT,CAAE,iBAAgBA,CAAE,MAAK,KAAKyT,GAAI,YAAW,KAAKA,GAAI,aAAY,KAAKA,GAAI,0HAA7zB;AACD;;AACDqB,EAAAA,YAAY,CAAC9U,CAAD,EAAI;AACdA,IAAAA,CAAC,YAAYqV,aAAb,KACI,KAAKxB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO;AADG,KAAxC,EAGA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KAHtC,EAMA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KANtC,EASA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,MAA5B,IAAqC;AACpCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,MAApB,EAA2BO;AADE,KATrC,EAYA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,SAApB,EAA8BO,KAA9B,CAAoCO,KAApC;AADgC,KAZxC,EAeA,KAAKlB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,WAA5B,IAA0C;AACzCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,WAApB,EAAgCO;AADE,KAf1C,EAkBA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,SAApB,EAA8BO,KAA9B,CAAoCO,KAApC;AADgC,KAlBxC,EAqBA,KAAKlB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,SAApB,EAA8BO,KAA9B,CAAoCO,KAApC;AADgC,KAtB3C;AAyBD;;AApEkC;;AAsErC,MAAMQ,aAAN,SAA4B/B,QAA5B,CAAqC;AACnCzT,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAASzD,oBAAT,EAA+ByF,CAA/B;AACD;;AACDgS,EAAAA,4BAA4B,CAAChU,CAAD,EAAI;AAC9B,AAAE,SAAK4T,QAAL,CAAciD,mBAAd,GAAoC,EAArC,EACE,KAAKjD,QAAL,CAAcoC,qBAAd,GAAsC,EADxC,EAEE,KAAKpC,QAAL,CAAckD,qBAAd,GAAsC,GAFxC,EAGE,KAAKlD,QAAL,CAAcqC,MAAd,GAAuB,EAHzB,EAIE,KAAKpC,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC6V,KAAb,GAAqB7V,CAAC,CAAC6V,KAAF,CAAQrB,KAA7B,GAAqC;AADN,KAJzC,EAOE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC8V,IAAb,GAAoB9V,CAAC,CAAC8V,IAAF,CAAOtB,KAA3B,GAAmC1W;AADL,KAPxC,EAUE,KAAK+V,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC4O,KAAb,GAAqB5O,CAAC,CAAC4O,KAAF,CAAQ4F,KAA7B,GAAqC;AADN,KAVzC,EAaE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC+W,IAAb,GAAoB/W,CAAC,CAAC+W,IAAF,CAAOvC,KAA3B,GAAmC;AADL,KAbxC,EAgBE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,aAA5B,IAA4C;AAC3Ce,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAACgX,UAAb,GACI,IAAIzb,KAAK,CAAC0b,OAAV,GAAoBxT,SAApB,CAA8BzD,CAAC,CAACgX,UAAF,CAAaxC,KAA3C,CADJ,GAEI,IAAIjZ,KAAK,CAAC0b,OAAV,CAAkB,CAAlB,EAAqB,CAArB;AAJqC,KAhB9C,EAsBE,KAAKpD,SAAL,CAAgB,IAAG,KAAKJ,GAAI,KAA5B,IAAoC;AACnCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAACkX,EAAb,GACI,IAAI3b,KAAK,CAAC0b,OAAV,GAAoBxT,SAApB,CAA8BzD,CAAC,CAACkX,EAAF,CAAK1C,KAAnC,CADJ,GAEI,IAAIjZ,KAAK,CAAC0b,OAAV,CAAkB,GAAlB,EAAuB,GAAvB;AAJ6B,KAtBtC,EA4BE,KAAKpD,SAAL,CAAgB,IAAG,KAAKJ,GAAI,KAA5B,IAAoC;AACnCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAACmX,EAAb,GACI,IAAI5b,KAAK,CAAC0b,OAAV,GAAoBxT,SAApB,CAA8BzD,CAAC,CAACmX,EAAF,CAAK3C,KAAnC,CADJ,GAEI,IAAIjZ,KAAK,CAAC0b,OAAV,CAAkB,GAAlB,EAAuB,GAAvB;AAJ6B,KA5BtC,EAkCE,KAAKpD,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAAC2W,MAAb,GACI,IAAIpb,KAAK,CAAC6F,KAAV,CAAgBpB,CAAC,CAAC2W,MAAF,CAASnC,KAAzB,CADJ,GAEI,IAAIjZ,KAAK,CAAC6F,KAAV,CAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B;AAJiC,KAlC1C,EAwCE,KAAKyS,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAAC4W,MAAb,GACI,IAAIrb,KAAK,CAAC6F,KAAV,CAAgBpB,CAAC,CAAC4W,MAAF,CAASpC,KAAzB,CADJ,GAEI,IAAIjZ,KAAK,CAAC6F,KAAV,CAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B;AAJiC,KAxC1C,EA8CE,KAAKyS,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAACoX,MAAb,GACI,IAAI7b,KAAK,CAAC6F,KAAV,CAAgBpB,CAAC,CAACoX,MAAF,CAAS5C,KAAzB,CADJ,GAEI,IAAIjZ,KAAK,CAAC6F,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB;AAJiC,KA9C1C,EAoDE,KAAKyS,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAACqX,MAAb,GACI,IAAI9b,KAAK,CAAC6F,KAAV,CAAgBpB,CAAC,CAACqX,MAAF,CAAS7C,KAAzB,CADJ,GAEI,IAAIjZ,KAAK,CAAC6F,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB;AAJiC,KApD1C,EA0DE,KAAKyS,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAACsX,IAAb,GAAoBtX,CAAC,CAACsX,IAAF,CAAO9C,KAA3B,GAAmC;AADL,KA1DxC,EA6DE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAACuX,IAAb,GAAoBvX,CAAC,CAACuX,IAAF,CAAO/C,KAA3B,GAAmC;AADL,KA7DxC,EAgEE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAACwX,IAAb,GAAoBxX,CAAC,CAACwX,IAAF,CAAOhD,KAA3B,GAAmC;AADL,KAhExC,EAmEE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAACyX,IAAb,GAAoBzX,CAAC,CAACyX,IAAF,CAAOjD,KAA3B,GAAmC;AADL,KAnExC;AAsEF;;AACDG,EAAAA,wBAAwB,GAAG;AACzB,WAAQ,8FAA6F,KAAKlB,GAAI,qCAAoC,KAAKA,GAAI,sCAAqC,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,qCAAoC,KAAKA,GAAI,mCAAkC,KAAKA,GAAI,mCAAkC,KAAKA,GAAI,2CAA0C,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,wCAAuC,KAAKA,GAAI,sCAAqC,KAAKA,GAAI,sCAAqC,KAAKA,GAAI,sCAAqC,KAAKA,GAAI,gFAArvB;AACD;;AACDoB,EAAAA,sBAAsB,CAAC7U,CAAD,EAAI;AACxB,WAAQ,6HAA4H,KAAKyT,GAAI,gBAAe,KAAKA,GAAI,8BAA6B,KAAKA,GAAI,8BAA6B,KAAKA,GAAI,oBAAmB,KAAKA,GAAI,gBAAe,KAAKA,GAAI,2CAA0C,KAAKA,GAAI,oBAAmB,KAAKA,GAAI,UAAS,KAAKA,GAAI,kBAAiB,KAAKA,GAAI,SAAQ,KAAKA,GAAI,UAAS,KAAKA,GAAI,2DAA0D,KAAKA,GAAI,UAAS,KAAKA,GAAI,kBAAiB,KAAKA,GAAI,SAAQ,KAAKA,GAAI,UAAS,KAAKA,GAAI,kCAAiC,KAAKA,GAAI,cAAa,KAAKA,GAAI,UAAS,KAAKA,GAAI,uBAAsB,KAAKA,GAAI,kBAAiB,KAAKA,GAAI,cAAa,KAAKA,GAAI,WAAU,KAAKA,GAAI,cAAa,KAAKA,GAAI,4CAA2C,KAAKA,GAAI,OAAM,KAAKA,GAAI,qCAAoC,KAAKA,GAAI,kBAAiB,KAAKA,GAAI,YAAW,KAAKA,GAAI,cAAa,KAAKA,GAAI,mDAAkD,KAAKA,GAAI,oCAAmC,KAAKA,GAAI,kBAAiB,KAAKA,GAAI,YAAW,KAAKA,GAAI,cAAa,KAAKA,GAAI,mDAAkD,KAAKA,GAAI,2CAA0C,KAAKA,GAAI,0BAAyB,KAAKA,GAAI,SAAQ,KAAKA,GAAI,6CAA4C,KAAKA,GAAI,cAAa,KAAKA,GAAI,oBAAmB,KAAKA,GAAI,yFAAwF,KAAKA,GAAI,wBAAuBzT,CAAE,iBAAgBA,CAAE,MAAK,KAAKyT,GAAI,YAAW,KAAKA,GAAI,aAAY,KAAKA,GAAI,0HAAzkD;AACD;;AACDqB,EAAAA,YAAY,CAAC9U,CAAD,EAAI;AACdA,IAAAA,CAAC,YAAYuV,aAAb,KACI,KAAK1B,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO;AADG,KAAxC,EAGA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KAHtC,EAMA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO;AADE,KANvC,EASA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KATtC,EAYA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,aAA5B,IAA4C;AAC3Ce,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,aAApB,EAAkCO,KAAlC,CAAwCO,KAAxC;AADoC,KAZ5C,EAeA,KAAKlB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,KAA5B,IAAoC;AACnCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,KAApB,EAA0BO,KAA1B,CAAgCO,KAAhC;AAD4B,KAfpC,EAkBA,KAAKlB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,KAA5B,IAAoC;AACnCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,KAApB,EAA0BO,KAA1B,CAAgCO,KAAhC;AAD4B,KAlBpC,EAqBA,KAAKlB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,SAApB,EAA8BO,KAA9B,CAAoCO,KAApC;AADgC,KArBxC,EAwBA,KAAKlB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,SAApB,EAA8BO,KAA9B,CAAoCO,KAApC;AADgC,KAxBxC,EA2BA,KAAKlB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,SAApB,EAA8BO,KAA9B,CAAoCO,KAApC;AADgC,KA3BxC,EA8BA,KAAKlB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,SAApB,EAA8BO,KAA9B,CAAoCO,KAApC;AADgC,KA9BxC,EAiCA,KAAKlB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KAjCtC,EAoCA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KApCtC,EAuCA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KAvCtC,EA0CA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KA3CzC;AA8CD;;AAjIkC;;AAmIrC,MAAMgB,eAAN,SAA8BhC,QAA9B,CAAuC;AACrCzT,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAASxD,sBAAT,EAAiCwF,CAAjC;AACD;;AACDgS,EAAAA,4BAA4B,CAAChU,CAAD,EAAI;AAC9B,AAAE,SAAK4T,QAAL,CAAc8D,qBAAd,GAAsC,EAAvC,EACE,KAAK7D,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC6V,KAAb,GAAqB7V,CAAC,CAAC6V,KAAF,CAAQrB,KAA7B,GAAqC;AADN,KADzC,EAIE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC8V,IAAb,GAAoB9V,CAAC,CAAC8V,IAAF,CAAOtB,KAA3B,GAAmC1W;AADL,KAJxC,EAOE,KAAK+V,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC2X,IAAb,GAAoB3X,CAAC,CAAC2X,IAAF,CAAOnD,KAA3B,GAAmC;AADL,KAPxC,EAUE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC4O,KAAb,GAAqB5O,CAAC,CAAC4O,KAAF,CAAQ4F,KAA7B,GAAqC;AADN,KAVzC,EAaE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,YAA5B,IAA2C;AAC1Ce,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAACoH,SAAb,GAAyBpH,CAAC,CAACoH,SAAF,CAAYoN,KAArC,GAA6C;AADV,KAb7C,EAgBE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC4X,MAAb,GAAsB5X,CAAC,CAAC4X,MAAF,CAASpD,KAA/B,GAAuC;AADP,KAhB1C,EAmBE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAAC8F,KAAb,GACI,IAAIvK,KAAK,CAAC6F,KAAV,CAAgBpB,CAAC,CAAC8F,KAAF,CAAQ0O,KAAxB,CADJ,GAEI,IAAIjZ,KAAK,CAAC6F,KAAV;AAJgC,KAnBzC;AAyBF;;AACDuT,EAAAA,wBAAwB,GAAG;AACzB,WAAQ,sFAAqF,KAAKlB,GAAI,qCAAoC,KAAKA,GAAI,sCAAqC,KAAKA,GAAI,sCAAqC,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,2CAA0C,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,yEAAhY;AACD;;AACDoB,EAAAA,sBAAsB,CAAC7U,CAAD,EAAI;AACxB,WAAQ,8HAA6H,KAAKyT,GAAI,eAAc,KAAKA,GAAI,YAAW,KAAKA,GAAI,kBAAiB,KAAKA,GAAI,4EAA2E,KAAKA,GAAI,qCAAoC,KAAKA,GAAI,qBAAoB,KAAKA,GAAI,2BAA0B,KAAKA,GAAI,+BAA8B,KAAKA,GAAI,cAAa,KAAKA,GAAI,qBAAoB,KAAKA,GAAI,0FAAyF,KAAKA,GAAI,yBAAwBzT,CAAE,iBAAgBA,CAAE,MAAK,KAAKyT,GAAI,YAAW,KAAKA,GAAI,aAAY,KAAKA,GAAI,0HAAnrB;AACD;;AACDqB,EAAAA,YAAY,CAAC9U,CAAD,EAAI;AACdA,IAAAA,CAAC,YAAYwV,eAAb,KACI,KAAK3B,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO;AADG,KAAxC,EAGA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KAHtC,EAMA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KANtC,EASA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO;AADE,KATvC,EAYA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,YAA5B,IAA2C;AAC1Ce,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,YAApB,EAAiCO;AADE,KAZ3C,EAeA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,SAApB,EAA8BO;AADE,KAfxC,EAkBA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO,KAA7B,CAAmCO,KAAnC;AAD+B,KAnB1C;AAsBD;;AA5DoC;;AA8DvC,MAAMI,gBAAN,SAA+B3B,QAA/B,CAAwC;AACtCzT,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAAS7D,uBAAT,EAAkC6F,CAAlC;AACD;;AACDgS,EAAAA,4BAA4B,CAAChU,CAAD,EAAI;AAC9B,AAAE,SAAK4T,QAAL,CAAciE,sBAAd,GAAuC,EAAxC,EACE,KAAKjE,QAAL,CAAckE,qBAAd,GAAsC,IADxC,EAEE,KAAKlE,QAAL,CAAcqC,MAAd,GAAuB,EAFzB,EAGE,KAAKpC,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC6V,KAAb,GAAqB7V,CAAC,CAAC6V,KAAF,CAAQrB,KAA7B,GAAqC;AADN,KAHzC,EAME,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC8V,IAAb,GAAoB9V,CAAC,CAAC8V,IAAF,CAAOtB,KAA3B,GAAmC1W;AADL,KANxC,EASE,KAAK+V,SAAL,CAAgB,IAAG,KAAKJ,GAAI,UAA5B,IAAyC;AACxCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC+X,OAAb,GAAuB/X,CAAC,CAAC+X,OAAF,CAAUvD,KAAjC,GAAyC;AADR,KAT3C,EAYE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,MAA5B,IAAqC;AACpCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAACgY,GAAb,GAAmBhY,CAAC,CAACgY,GAAF,CAAMxD,KAAzB,GAAiC;AADJ,KAZvC,EAeE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAACiY,MAAb,IAAuBjY,CAAC,CAACiY,MAAF,CAASzD;AADA,KAf1C,EAkBE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAG,UAAUxU,CAAV,EAAa;AACnB,cAAMgC,CAAC,GAAG,EAAV;;AACA,aAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqG,IAAI,CAACyP,KAAL,CAAWlY,CAAC,CAACiE,MAAF,GAAW,CAAtB,CAApB,EAA8C7B,CAAC,EAA/C,EACEJ,CAAC,CAACyD,IAAF,CACE,IAAIlK,KAAK,CAAC4c,OAAV,CACEnY,CAAC,CAAC,IAAIoC,CAAJ,GAAQ,CAAT,CADH,EAEEpC,CAAC,CAAC,IAAIoC,CAAJ,GAAQ,CAAT,CAFH,EAGEpC,CAAC,CAAC,IAAIoC,CAAJ,GAAQ,CAAT,CAHH,EAIEpC,CAAC,CAAC,IAAIoC,CAAJ,GAAQ,CAAT,CAJH,CADF;;AAQF,eAAOJ,CAAP;AACD,OAZM,CAYJ,KAAK,CAAL,KAAWhC,CAAC,CAACoY,MAAb,GAAsBpY,CAAC,CAACoY,MAAF,CAAS5D,KAA/B,GAAuC,IAAI5H,KAAJ,CAAU,EAAV,EAAcC,IAAd,EAZnC;AADgC,KAlB1C,EAiCE,KAAKgH,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAACqY,KAAb,GAAqBrY,CAAC,CAACqY,KAAF,CAAQ7D,KAA7B,GAAqC,IAAI5H,KAAJ,CAAU,EAAV,EAAcC,IAAd;AADN,KAjCzC,EAoCE,KAAKgH,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAACwD,MAAb,GACI,IAAIjI,KAAK,CAAC0b,OAAV,GAAoBxT,SAApB,CAA8BzD,CAAC,CAACwD,MAAF,CAASgR,KAAvC,CADJ,GAEI,IAAIjZ,KAAK,CAAC0b,OAAV,CAAkB,CAAlB,EAAqB,CAArB;AAJiC,KApC1C,EA0CE,KAAKpD,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAACsY,KAAb,GACI,IAAI/c,KAAK,CAAC0b,OAAV,GAAoBxT,SAApB,CAA8BzD,CAAC,CAACsY,KAAF,CAAQ9D,KAAtC,CADJ,GAEI,IAAIjZ,KAAK,CAAC0b,OAAV,CAAkB,CAAlB,EAAqB,CAArB;AAJgC,KA1CzC,EAgDE,KAAKpD,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAACuY,KAAb,GAAqBvY,CAAC,CAACuY,KAAF,CAAQ/D,KAA7B,GAAqC;AADN,KAhDzC;AAmDF;;AACDG,EAAAA,wBAAwB,GAAG;AACzB,WAAQ,8FAA6F,KAAKlB,GAAI,qCAAoC,KAAKA,GAAI,oCAAmC,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,oCAAmC,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,+DAA8D,KAAKA,GAAI,6DAA4D,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,iFAA3jB;AACD;;AACDoB,EAAAA,sBAAsB,CAAC7U,CAAD,EAAI;AACxB,WAAQ,6HAA4H,KAAKyT,GAAI,aAAY,KAAKA,GAAI,kCAAiC,KAAKA,GAAI,SAAQ,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,uBAAsB,KAAKA,GAAI,UAAS,KAAKA,GAAI,8BAA6B,KAAKA,GAAI,sCAAqC,KAAKA,GAAI,eAAc,KAAKA,GAAI,kBAAiB,KAAKA,GAAI,eAAc,KAAKA,GAAI,kCAAiC,KAAKA,GAAI,eAAc,KAAKA,GAAI,kBAAiB,KAAKA,GAAI,eAAc,KAAKA,GAAI,6CAA4C,KAAKA,GAAI,wBAAuB,KAAKA,GAAI,sBAAqB,KAAKA,GAAI,kCAAiC,KAAKA,GAAI,cAAa,KAAKA,GAAI,SAAQ,KAAKA,GAAI,iBAAgB,KAAKA,GAAI,SAAQ,KAAKA,GAAI,6BAA4B,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,iDAAgD,KAAKA,GAAI,iDAAgD,KAAKA,GAAI,yCAAwC,KAAKA,GAAI,qCAAoC,KAAKA,GAAI,6CAA4C,KAAKA,GAAI,gDAA+C,KAAKA,GAAI,qBAAoB,KAAKA,GAAI,4CAA2C,KAAKA,GAAI,qBAAoB,KAAKA,GAAI,0DAAyD,KAAKA,GAAI,kBAAiB,KAAKA,GAAI,mCAAkC,KAAKA,GAAI,uDAAsD,KAAKA,GAAI,mGAAkG,KAAKA,GAAI,kCAAiC,KAAKA,GAAI,kBAAiB,KAAKA,GAAI,SAAQ,KAAKA,GAAI,sBAAqB,KAAKA,GAAI,gBAAe,KAAKA,GAAI,oDAAmD,KAAKA,GAAI,kBAAiB,KAAKA,GAAI,YAAW,KAAKA,GAAI,2CAA0C,KAAKA,GAAI,sCAAqC,KAAKA,GAAI,WAAU,KAAKA,GAAI,0IAAyI,KAAKA,GAAI,cAAa,KAAKA,GAAI,aAAY,KAAKA,GAAI,iCAAgC,KAAKA,GAAI,eAAc,KAAKA,GAAI,qBAAoB,KAAKA,GAAI,4FAA2F,KAAKA,GAAI,yBAAwBzT,CAAE,iBAAgBA,CAAE,MAAK,KAAKyT,GAAI,gBAAe,KAAKA,GAAI,aAAY,KAAKA,GAAI,0HAAv7E;AACD;;AACDc,EAAAA,SAAS,GAAG;AACV,UAAMvU,CAAC,GAAG;AAAEqD,MAAAA,IAAI,EAAE,KAAKA;AAAb,KAAV;AACA,WACGrD,CAAC,CAAC6V,KAAF,GAAU,KAAKhC,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,EAAqCe,KAAhD,EACCxU,CAAC,CAAC8V,IAAF,GAAS,KAAKjC,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,EAAoCe,KAD9C,EAECxU,CAAC,CAAC+X,OAAF,GAAY,KAAKlE,SAAL,CAAgB,IAAG,KAAKJ,GAAI,UAA5B,EAAuCe,KAFpD,EAGCxU,CAAC,CAACgY,GAAF,GAAQ,KAAKnE,SAAL,CAAgB,IAAG,KAAKJ,GAAI,MAA5B,EAAmCe,KAH5C,EAICxU,CAAC,CAACiY,MAAF,GAAW,KAAKpE,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,EAAsCe,KAJlD,EAKCxU,CAAC,CAACoY,MAAF,GAAY,UAAUpY,CAAV,EAAa;AACxB,YAAMgC,CAAC,GAAG,EAAV;;AACA,WAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpC,CAAC,CAACiE,MAAtB,EAA8B7B,CAAC,EAA/B,EACEJ,CAAC,CAACyD,IAAF,CAAOzF,CAAC,CAACoC,CAAD,CAAD,CAAKqM,CAAZ,EAAezO,CAAC,CAACoC,CAAD,CAAD,CAAKsM,CAApB,EAAuB1O,CAAC,CAACoC,CAAD,CAAD,CAAKuM,CAA5B,EAA+B3O,CAAC,CAACoC,CAAD,CAAD,CAAKoW,CAApC;;AACF,aAAOxW,CAAP;AACD,KALW,CAKT,KAAK6R,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,EAAsCe,KAL7B,CALZ,EAWCxU,CAAC,CAACqY,KAAF,GAAU,GAAGI,MAAH,CAAU,KAAK5E,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,EAAqCe,KAA/C,CAXX,EAYCxU,CAAC,CAACwD,MAAF,GAAW,KAAKqQ,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,EAAsCe,KAAtC,CAA4CC,OAA5C,EAZZ,EAaCzU,CAAC,CAACsY,KAAF,GAAU,KAAKzE,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,EAAqCe,KAArC,CAA2CC,OAA3C,EAbX,EAcCzU,CAAC,CAACuY,KAAF,GAAU,KAAK1E,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,EAAqCe,KAdhD,EAeAxU,CAhBF;AAkBD;;AACD8U,EAAAA,YAAY,CAAC9U,CAAD,EAAI;AACdA,IAAAA,CAAC,YAAYmV,gBAAb,KACI,KAAKtB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO;AADG,KAAxC,EAGA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,OAApB,EAA4BO;AADE,KAHtC,EAMA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,UAA5B,IAAyC;AACxCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,UAApB,EAA+BO;AADE,KANzC,EASA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,MAA5B,IAAqC;AACpCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,MAApB,EAA2BO;AADE,KATrC,EAYA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,SAApB,EAA8BO;AADE,KAZxC,EAeA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAG,UAAUxU,CAAV,EAAa;AACnB,cAAMgC,CAAC,GAAG,EAAV;;AACA,aAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpC,CAAC,CAACiE,MAAtB,EAA8B7B,CAAC,EAA/B,EAAmCJ,CAAC,CAACyD,IAAF,CAAOzF,CAAC,CAACoC,CAAD,CAAD,CAAK2S,KAAL,EAAP;;AACnC,eAAO/S,CAAP;AACD,OAJM,CAIJhC,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,SAApB,EAA8BO,KAJ1B;AADgC,KAfxC,EAsBA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,GAAGiE,MAAH,CAAUzY,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO,KAAvC;AAD+B,KAtBvC,EAyBA,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,SAA5B,IAAwC;AACvCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,SAApB,EAA8BO,KAA9B,CAAoCO,KAApC;AADgC,KAzBxC,EA4BA,KAAKlB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO,KAA7B,CAAmCO,KAAnC;AAD+B,KA5BvC,EA+BA,KAAKlB,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAY,IAAGpU,CAAC,CAACiU,EAAG,QAApB,EAA6BO;AADE,KAhC1C;AAmCD;;AAxHqC;;AA0HxC,MAAMiB,cAAN,SAA6BjC,QAA7B,CAAsC;AACpCzT,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAASvD,qBAAT,EAAgCuF,CAAhC;AACD;;AACDgS,EAAAA,4BAA4B,CAAChU,CAAD,EAAI;AAC9B,AAAE,SAAK4T,QAAL,CAAc8E,oBAAd,GAAqC,EAAtC,EACE,KAAK7E,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC6V,KAAb,GAAqB7V,CAAC,CAAC6V,KAAF,CAAQrB,KAA7B,GAAqC;AADN,KADzC,EAIE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC8V,IAAb,GAAoB9V,CAAC,CAAC8V,IAAF,CAAOtB,KAA3B,GAAmC1W;AADL,KAJxC,EAOE,KAAK+V,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAAC8F,KAAb,GACI,IAAIvK,KAAK,CAAC6F,KAAV,CAAgBpB,CAAC,CAAC8F,KAAF,CAAQ0O,KAAxB,CADJ,GAEI,IAAIjZ,KAAK,CAAC6F,KAAV,CAAgB,QAAhB;AAJgC,KAPzC,EAaE,KAAKyS,SAAL,CAAgB,IAAG,KAAKJ,GAAI,UAA5B,IAAyC;AACxCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC2Y,OAAb,IAAwB3Y,CAAC,CAAC2Y,OAAF,CAAUnE;AADD,KAb3C,EAgBE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,YAA5B,IAA2C;AAC1Ce,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC4Y,SAAb,GAAyB5Y,CAAC,CAAC4Y,SAAF,CAAYpE,KAArC,GAA6C;AADV,KAhB7C;AAmBF;;AACDG,EAAAA,wBAAwB,GAAG;AACzB,WAAQ,0FAAyF,KAAKlB,GAAI,qCAAoC,KAAKA,GAAI,qCAAoC,KAAKA,GAAI,sCAAqC,KAAKA,GAAI,yCAAwC,KAAKA,GAAI,iFAAnS;AACD;;AACDoB,EAAAA,sBAAsB,CAAC7U,CAAD,EAAI;AACxB,WAAQ,8HAA6H,KAAKyT,GAAI,uDAAsD,KAAKA,GAAI,oBAAmB,KAAKA,GAAI,gBAAe,KAAKA,GAAI,sCAAqC,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,8EAA6E,KAAKA,GAAI,aAAY,KAAKA,GAAI,uBAAsBzT,CAAE,iBAAgBA,CAAE,MAAK,KAAKyT,GAAI,cAAa,KAAKA,GAAI,YAAW,KAAKA,GAAI,aAAY,KAAKA,GAAI,WAAU,KAAKA,GAAI,0HAAnlB;AACD;;AA9BmC;;AAgCtC,MAAMiC,aAAN,SAA4BlC,QAA5B,CAAqC;AACnCzT,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAAStD,oBAAT,EAA+BsF,CAA/B;AACD;;AACDgS,EAAAA,4BAA4B,CAAChU,CAAD,EAAI;AAC9B,AAAE,SAAK4T,QAAL,CAAciF,mBAAd,GAAoC,EAArC,EACE,KAAKhF,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC6V,KAAb,GAAqB7V,CAAC,CAAC6V,KAAF,CAAQrB,KAA7B,GAAqC;AADN,KADzC,EAIE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,OAA5B,IAAsC;AACrCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC8V,IAAb,GAAoB9V,CAAC,CAAC8V,IAAF,CAAOtB,KAA3B,GAAmC1W;AADL,KAJxC,EAOE,KAAK+V,SAAL,CAAgB,IAAG,KAAKJ,GAAI,QAA5B,IAAuC;AACtCe,MAAAA,KAAK,EACH,KAAK,CAAL,KAAWxU,CAAC,CAAC8F,KAAb,GACI,IAAIvK,KAAK,CAAC6F,KAAV,CAAgBpB,CAAC,CAAC8F,KAAF,CAAQ0O,KAAxB,CADJ,GAEI,IAAIjZ,KAAK,CAAC6F,KAAV,CAAgB,QAAhB;AAJgC,KAPzC,EAaE,KAAKyS,SAAL,CAAgB,IAAG,KAAKJ,GAAI,YAA5B,IAA2C;AAC1Ce,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC8Y,SAAb,GAAyB9Y,CAAC,CAAC8Y,SAAF,CAAYtE,KAArC,GAA6C;AADV,KAb7C,EAgBE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,UAA5B,IAAyC;AACxCe,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC2Y,OAAb,IAAwB3Y,CAAC,CAAC2Y,OAAF,CAAUnE;AADD,KAhB3C,EAmBE,KAAKX,SAAL,CAAgB,IAAG,KAAKJ,GAAI,eAA5B,IAA8C;AAC7Ce,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWxU,CAAC,CAAC+Y,YAAb,GAA4B/Y,CAAC,CAAC+Y,YAAF,CAAevE,KAA3C,GAAmD;AADb,KAnBhD;AAsBF;;AACDG,EAAAA,wBAAwB,GAAG;AACzB,WAAQ,oGAAmG,KAAKlB,GAAI,qCAAoC,KAAKA,GAAI,qCAAoC,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,0CAAyC,KAAKA,GAAI,yCAAwC,KAAKA,GAAI,6FAAhW;AACD;;AACDoB,EAAAA,sBAAsB,CAAC7U,CAAD,EAAI;AACxB,WAAQ,8HAA6H,KAAKyT,GAAI,6FAA4F,KAAKA,GAAI,sBAAqB,KAAKA,GAAI,mCAAkC,KAAKA,GAAI,0BAAyB,KAAKA,GAAI,qBAAoB,KAAKA,GAAI,WAAU,KAAKA,GAAI,wCAAuC,KAAKA,GAAI,uCAAsC,KAAKA,GAAI,8EAA6E,KAAKA,GAAI,aAAY,KAAKA,GAAI,uBAAsBzT,CAAE,iBAAgBA,CAAE,MAAK,KAAKyT,GAAI,cAAa,KAAKA,GAAI,YAAW,KAAKA,GAAI,aAAY,KAAKA,GAAI,WAAU,KAAKA,GAAI,0HAAluB;AACD;;AAjCkC;;AAmCrC,IAAI,CAAC/X,GAAG,CAACsd,mBAAT,EAA8B;AAC5B,WAASC,mBAAT,CAA6BjZ,CAA7B,EAAgCgC,CAAhC,EAAmC;AACjC,UAAMI,CAAC,GAAG,EAAV;AAAA,UACES,CAAC,GAAI,IAAG7C,CAAE,GADZ;;AAEA,SAAK,MAAMA,IAAX,IAAgBgC,CAAhB,EAAmB;AACjB,YAAMc,CAAC,GAAG9C,IAAC,CAAC2J,KAAF,CAAQ3J,IAAC,CAAC0J,OAAF,CAAU7G,CAAV,IAAeA,CAAC,CAACoB,MAAzB,CAAV;AAAA,YACEW,CAAC,GAAG5C,CAAC,CAAChC,IAAD,CAAD,CAAKwU,KADX;;AAEA,UAAI,aAAa,OAAO5P,CAAxB,EACExC,CAAC,CAACU,CAAD,CAAD,GAAO;AAAEsO,QAAAA,IAAI,EAAEtO,CAAR;AAAW0R,QAAAA,KAAK,EAAE5P,CAAlB;AAAqBvB,QAAAA,IAAI,EAAE1G;AAA3B,OAAP,CADF,KAEK,IAAI,YAAY,OAAOiI,CAAvB,EACHsU,MAAM,CAACC,SAAP,CAAiBvU,CAAjB,IACKxC,CAAC,CAACU,CAAD,CAAD,GAAO;AAAEsO,QAAAA,IAAI,EAAEtO,CAAR;AAAW0R,QAAAA,KAAK,EAAE5P,CAAlB;AAAqBvB,QAAAA,IAAI,EAAEzG;AAA3B,OADZ,GAEKwF,CAAC,CAACU,CAAD,CAAD,GAAO;AAAEsO,QAAAA,IAAI,EAAEtO,CAAR;AAAW0R,QAAAA,KAAK,EAAE5P,CAAlB;AAAqBvB,QAAAA,IAAI,EAAExG;AAA3B,OAFZ,CADG,KAIA,IAAI,YAAY,OAAO+H,CAAnB,IAAwBwU,KAAK,CAACxU,CAAD,CAAjC;AACH,YAAIA,CAAC,YAAYvC,MAAb,IAAuB,MAAMA,MAAM,CAACC,OAAP,CAAesC,CAAf,EAAkBX,MAAnD,EACE,KAAK,CAAL,KAAWW,CAAC,CAAC6J,CAAb,IACE,KAAK,CAAL,KAAW7J,CAAC,CAAC8J,CADf,KAEGtM,CAAC,CAACU,CAAD,CAAD,GAAO;AACNsO,UAAAA,IAAI,EAAEtO,CADA;AAEN0R,UAAAA,KAAK,EAAE,CAAC5P,CAAC,CAAC6J,CAAH,EAAM7J,CAAC,CAAC8J,CAAR,CAFD;AAGNrL,UAAAA,IAAI,EAAEvG;AAHA,SAFV,EADF,KAQK,IAAI8H,CAAC,YAAYvC,MAAb,IAAuB,MAAMA,MAAM,CAACC,OAAP,CAAesC,CAAf,EAAkBX,MAAnD,EACH,KAAK,CAAL,KAAWW,CAAC,CAAC6J,CAAb,IACE,KAAK,CAAL,KAAW7J,CAAC,CAAC8J,CADf,IAEE,KAAK,CAAL,KAAW9J,CAAC,CAAC+J,CAFf,KAGGvM,CAAC,CAACU,CAAD,CAAD,GAAO;AACNsO,UAAAA,IAAI,EAAEtO,CADA;AAEN0R,UAAAA,KAAK,EAAE,CAAC5P,CAAC,CAAC6J,CAAH,EAAM7J,CAAC,CAAC8J,CAAR,EAAW9J,CAAC,CAAC+J,CAAb,CAFD;AAGNtL,UAAAA,IAAI,EAAEtG;AAHA,SAHV,EADG,KASA,IAAI6H,CAAC,YAAYvC,MAAb,IAAuB,MAAMA,MAAM,CAACC,OAAP,CAAesC,CAAf,EAAkBX,MAAnD,EACH,KAAK,CAAL,KAAWW,CAAC,CAAC6J,CAAb,IAAkB,KAAK,CAAL,KAAW7J,CAAC,CAAC8J,CAA/B,IAAoC,KAAK,CAAL,KAAW9J,CAAC,CAAC+J,CAAjD,IAAsD,KAAK,CAAL,KAAW/J,CAAC,CAAC4T,CAAnE,GACKpW,CAAC,CAACU,CAAD,CAAD,GAAO;AACNsO,UAAAA,IAAI,EAAEtO,CADA;AAEN0R,UAAAA,KAAK,EAAE,CAAC5P,CAAC,CAAC6J,CAAH,EAAM7J,CAAC,CAAC8J,CAAR,EAAW9J,CAAC,CAAC+J,CAAb,EAAgB/J,CAAC,CAAC4T,CAAlB,CAFD;AAGNnV,UAAAA,IAAI,EAAErG;AAHA,SADZ,GAMI,KAAK,CAAL,KAAW4H,CAAC,CAAC/B,CAAb,IACA,KAAK,CAAL,KAAW+B,CAAC,CAACyU,CADb,IAEA,KAAK,CAAL,KAAWzU,CAAC,CAAC0U,CAFb,IAGA,KAAK,CAAL,KAAW1U,CAAC,CAAC9B,CAHb,KAICV,CAAC,CAACU,CAAD,CAAD,GAAO;AACNsO,UAAAA,IAAI,EAAEtO,CADA;AAEN0R,UAAAA,KAAK,EAAE,CAAC5P,CAAC,CAAC/B,CAAH,EAAM+B,CAAC,CAACyU,CAAR,EAAWzU,CAAC,CAAC0U,CAAb,EAAgB1U,CAAC,CAAC9B,CAAlB,CAFD;AAGNO,UAAAA,IAAI,EAAEpG;AAHA,SAJR,CANJ,CADG,KAgBA,IAAI2H,CAAC,YAAYgI,KAAb,IAAsB,YAAY,OAAOhI,CAAC,CAAC,CAAD,CAA9C,EACHsU,MAAM,CAACC,SAAP,CAAiBvU,CAAC,CAAC,CAAD,CAAlB,IACKxC,CAAC,CAACU,CAAD,CAAD,GAAO;AACNsO,UAAAA,IAAI,EAAEtO,CADA;AAEN0R,UAAAA,KAAK,EAAE,GAAGiE,MAAH,CAAU7T,CAAV,CAFD;AAGNvB,UAAAA,IAAI,EAAEnG;AAHA,SADZ,GAMKkF,CAAC,CAACU,CAAD,CAAD,GAAO;AACNsO,UAAAA,IAAI,EAAEtO,CADA;AAEN0R,UAAAA,KAAK,EAAE,GAAGiE,MAAH,CAAU7T,CAAV,CAFD;AAGNvB,UAAAA,IAAI,EAAElG;AAHA,SANZ,CADG,KAYA,IACHyH,CAAC,YAAYgI,KAAb,IACAhI,CAAC,CAAC,CAAD,CAAD,YAAgBvC,MADhB,IAEA,MAAMA,MAAM,CAACC,OAAP,CAAesC,CAAC,CAAC,CAAD,CAAhB,EAAqBX,MAHxB,EAIH;AACA,cAAI,KAAK,CAAL,KAAWW,CAAC,CAAC,CAAD,CAAD,CAAK6J,CAAhB,IAAqB,KAAK,CAAL,KAAW7J,CAAC,CAAC,CAAD,CAAD,CAAK8J,CAAzC,EAA4C;AAC1C,gBAAI1O,IAAC,GAAG,EAAR;;AACA,iBAAK,IAAIgC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG4C,CAAC,CAACX,MAAtB,EAA8BjC,IAAC,EAA/B,EAAmChC,IAAC,GAAGA,IAAC,CAACyY,MAAF,CAAS,CAAC7T,CAAC,CAAC5C,IAAD,CAAD,CAAKyM,CAAN,EAAS7J,CAAC,CAAC5C,IAAD,CAAD,CAAK0M,CAAd,CAAT,CAAJ;;AACnCtM,YAAAA,CAAC,CAACU,CAAD,CAAD,GAAO;AACLsO,cAAAA,IAAI,EAAEtO,CADD;AAEL0R,cAAAA,KAAK,EAAExU,IAFF;AAGLqD,cAAAA,IAAI,EAAEjG;AAHD,aAAP;AAKD;AACF,SAdI,MAcE,IACLwH,CAAC,YAAYgI,KAAb,IACAhI,CAAC,CAAC,CAAD,CAAD,YAAgBvC,MADhB,IAEA,MAAMA,MAAM,CAACC,OAAP,CAAesC,CAAC,CAAC,CAAD,CAAhB,EAAqBX,MAHtB,EAIL;AACA,cAAI,KAAK,CAAL,KAAWW,CAAC,CAAC,CAAD,CAAD,CAAK6J,CAAhB,IAAqB,KAAK,CAAL,KAAW7J,CAAC,CAAC,CAAD,CAAD,CAAK8J,CAArC,IAA0C,KAAK,CAAL,KAAW9J,CAAC,CAAC,CAAD,CAAD,CAAK+J,CAA9D,EAAiE;AAC/D,gBAAI3O,IAAC,GAAG,EAAR;;AACA,iBAAK,IAAIgC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG4C,CAAC,CAACX,MAAtB,EAA8BjC,IAAC,EAA/B,EACEhC,IAAC,GAAGA,IAAC,CAACyY,MAAF,CAAS,CAAC7T,CAAC,CAAC5C,IAAD,CAAD,CAAKyM,CAAN,EAAS7J,CAAC,CAAC5C,IAAD,CAAD,CAAK0M,CAAd,EAAiB9J,CAAC,CAAC5C,IAAD,CAAD,CAAK2M,CAAtB,CAAT,CAAJ;;AACFvM,YAAAA,CAAC,CAACU,CAAD,CAAD,GAAO;AACLsO,cAAAA,IAAI,EAAEtO,CADD;AAEL0R,cAAAA,KAAK,EAAExU,IAFF;AAGLqD,cAAAA,IAAI,EAAEhG;AAHD,aAAP;AAKD;AACF,SAfM,MAeA,IACLuH,CAAC,YAAYgI,KAAb,IACAhI,CAAC,CAAC,CAAD,CAAD,YAAgBvC,MADhB,IAEA,MAAMA,MAAM,CAACC,OAAP,CAAesC,CAAC,CAAC,CAAD,CAAhB,EAAqBX,MAHtB,EAIL;AACA,cACE,KAAK,CAAL,KAAWW,CAAC,CAAC,CAAD,CAAD,CAAK6J,CAAhB,IACA,KAAK,CAAL,KAAW7J,CAAC,CAAC,CAAD,CAAD,CAAK8J,CADhB,IAEA,KAAK,CAAL,KAAW9J,CAAC,CAAC,CAAD,CAAD,CAAK+J,CAFhB,IAGA,KAAK,CAAL,KAAW/J,CAAC,CAAC,CAAD,CAAD,CAAK4T,CAJlB,EAKE;AACA,gBAAIxY,IAAC,GAAG,EAAR;;AACA,iBAAK,IAAIgC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG4C,CAAC,CAACX,MAAtB,EAA8BjC,IAAC,EAA/B,EACEhC,IAAC,GAAGA,IAAC,CAACyY,MAAF,CAAS,CAAC7T,CAAC,CAAC5C,IAAD,CAAD,CAAKyM,CAAN,EAAS7J,CAAC,CAAC5C,IAAD,CAAD,CAAK0M,CAAd,EAAiB9J,CAAC,CAAC5C,IAAD,CAAD,CAAK2M,CAAtB,EAAyB/J,CAAC,CAAC5C,IAAD,CAAD,CAAKwW,CAA9B,CAAT,CAAJ;;AACFpW,YAAAA,CAAC,CAACU,CAAD,CAAD,GAAO;AACLsO,cAAAA,IAAI,EAAEtO,CADD;AAEL0R,cAAAA,KAAK,EAAExU,IAFF;AAGLqD,cAAAA,IAAI,EAAE/F;AAHD,aAAP;AAKD;AACF,SApBM,MAoBA,IAAIsH,CAAC,YAAYgI,KAAb,IAAsBhI,CAAC,CAAC,CAAD,CAAD,YAAgBrJ,KAAK,CAAC6F,KAAhD,EAAuD;AAC5D,cACE,KAAK,CAAL,KAAWwD,CAAC,CAAC,CAAD,CAAD,CAAK6J,CAAhB,IACA,KAAK,CAAL,KAAW7J,CAAC,CAAC,CAAD,CAAD,CAAK8J,CADhB,IAEA,KAAK,CAAL,KAAW9J,CAAC,CAAC,CAAD,CAAD,CAAK+J,CAFhB,IAGA,KAAK,CAAL,KAAW/J,CAAC,CAAC,CAAD,CAAD,CAAK4T,CAJlB,EAKE;AACA,gBAAIxY,IAAC,GAAG,EAAR;;AACA,iBAAK,IAAIgC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG4C,CAAC,CAACX,MAAtB,EAA8BjC,IAAC,EAA/B,EACEhC,IAAC,GAAGA,IAAC,CAACyY,MAAF,CAAS,CAAC7T,CAAC,CAAC5C,IAAD,CAAD,CAAKa,CAAN,EAAS+B,CAAC,CAAC5C,IAAD,CAAD,CAAKqX,CAAd,EAAiBzU,CAAC,CAAC5C,IAAD,CAAD,CAAKsX,CAAtB,EAAyB1U,CAAC,CAAC5C,IAAD,CAAD,CAAKc,CAA9B,CAAT,CAAJ;;AACFV,YAAAA,CAAC,CAACU,CAAD,CAAD,GAAO;AACLsO,cAAAA,IAAI,EAAEtO,CADD;AAEL0R,cAAAA,KAAK,EAAExU,IAFF;AAGLqD,cAAAA,IAAI,EAAE9F;AAHD,aAAP;AAKD;AACF,SAhBM,MAiBLqH,CAAC,YAAYvC,MAAb,IAAuB,MAAMA,MAAM,CAACC,OAAP,CAAesC,CAAf,EAAkBX,MAA/C,GACI,KAAK,CAAL,KAAWW,CAAC,CAAC4L,QAAb,IACA5L,CAAC,CAAC4L,QAAF,YAAsB5D,KADtB,KAEC,MAAMhI,CAAC,CAAC4L,QAAF,CAAWvM,MAAjB,GACI7B,CAAC,CAACU,CAAD,CAAD,GAAO;AACNsO,UAAAA,IAAI,EAAEtO,CADA;AAEN0R,UAAAA,KAAK,EAAE,GAAGiE,MAAH,CAAU7T,CAAC,CAAC4L,QAAZ,CAFD;AAGNnN,UAAAA,IAAI,EAAE7F;AAHA,SADX,GAMG,OAAOoH,CAAC,CAAC4L,QAAF,CAAWvM,MAAlB,GACC7B,CAAC,CAACU,CAAD,CAAD,GAAO;AACNsO,UAAAA,IAAI,EAAEtO,CADA;AAEN0R,UAAAA,KAAK,EAAE,GAAGiE,MAAH,CAAU7T,CAAC,CAAC4L,QAAZ,CAFD;AAGNnN,UAAAA,IAAI,EAAE5F;AAHA,SADR,GAMAwJ,OAAO,CAACgC,KAAR,CACE,wEADF,EAEErE,CAAC,CAAC4L,QAFJ,CAdJ,CADJ,GAmBI,YAAY,OAAO5L,CAAnB,GACCxC,CAAC,CAACU,CAAD,CAAD,GAAO;AACNsO,UAAAA,IAAI,EAAEtO,CADA;AAEN0R,UAAAA,KAAK,EAAE9Y,GAAG,CAACgH,cAAJ,CAAmBkC,CAAnB,CAFD;AAGNvB,UAAAA,IAAI,EAAE3F;AAHA,SADR,GAMAuJ,OAAO,CAACgC,KAAR,CACE,+DADF,EAEErE,CAFF,CAzBJ;AAhHC,aA6IA;AACH,cAAM5E,IAAC,GAAGkZ,MAAM,CAACtU,CAAD,CAAhB;;AACAsU,QAAAA,MAAM,CAACC,SAAP,CAAiBnZ,IAAjB,IACKoC,CAAC,CAACU,CAAD,CAAD,GAAO;AAAEsO,UAAAA,IAAI,EAAEtO,CAAR;AAAW0R,UAAAA,KAAK,EAAExU,IAAlB;AAAqBqD,UAAAA,IAAI,EAAEzG;AAA3B,SADZ,GAEKwF,CAAC,CAACU,CAAD,CAAD,GAAO;AAAEsO,UAAAA,IAAI,EAAEtO,CAAR;AAAW0R,UAAAA,KAAK,EAAExU,IAAlB;AAAqBqD,UAAAA,IAAI,EAAExG;AAA3B,SAFZ;AAGD;AACF;;AACD,WAAOuF,CAAP;AACD;;AACD1G,EAAAA,GAAG,CAACsd,mBAAJ,GAA0B,UAAUhZ,CAAV,EAAagC,CAAb,EAAgB;AACxC,UAAMI,CAAC,GAAGpC,CAAC,CAACiU,EAAZ;AAAA,UACEpR,CAAC,GAAG7C,CAAC,CAACqD,IADR;AAAA,UAEEP,CAAC,GAAGmW,mBAAmB,CAACjZ,CAAC,CAACiU,EAAH,EAAOjU,CAAC,CAACoU,QAAT,CAFzB;AAGA,WAAOZ,QAAQ,CAACwB,WAAT,CAAqB5S,CAArB,EAAwBS,CAAxB,EAA2BC,CAA3B,CAAP;AACD,GALD;AAMD;;AACD,MAAMyW,aAAN,CAAoB;AAClBxZ,EAAAA,WAAW,CAACC,CAAD,EAAI;AACb,QACI,KAAKwZ,KAAL,GAAa,IAAd,EACA,KAAKC,OAAL,GAAe,IADf,EAED,KAAK,CAAL,KAAWzZ,CAAX,IAAgBqC,MAAM,CAACiS,IAAP,CAAYtU,CAAZ,EAAeiE,MAAf,GAAwB,CAH1C,EAKE,KAAK,IAAIjC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhC,CAAC,CAACiE,MAAtB,EAA8BjC,CAAC,EAA/B,EACE,KAAK0X,QAAL,CAAc1X,CAAd,EAAiBhC,CAAC,CAACgC,CAAD,CAAD,CAAKqB,IAAtB,EAA4BrD,CAAC,CAACgC,CAAD,CAAD,CAAKoS,QAAjC,EANJ,KAQE,KAAKsF,QAAL,CAAc,CAAd,EAAiBxd,oBAAjB,EAAuC,EAAvC,GACE,KAAKwd,QAAL,CAAc,CAAd,EAAiBzd,uBAAjB,EAA0C,EAA1C,CADF;AAEH;;AACD,MAAI0d,IAAJ,GAAW;AACT,WAAO,KAAKH,KAAZ;AACD;;AACD,MAAIG,IAAJ,CAAS3Z,CAAT,EAAY;AACV,SAAKwZ,KAAL,GAAaxZ,CAAb;AACD;;AACD,MAAI4Z,MAAJ,GAAa;AACX,WAAO,KAAKH,OAAZ;AACD;;AACD,MAAIG,MAAJ,CAAW5Z,CAAX,EAAc;AACZ,SAAKyZ,OAAL,GAAezZ,CAAf;AACD;;AACD0Z,EAAAA,QAAQ,CAAC1Z,CAAD,EAAIgC,CAAJ,EAAOI,CAAP,EAAU;AAChB,UAAMS,CAAC,GAAG2Q,QAAQ,CAACwB,WAAT,CAAqBhV,CAArB,EAAwBgC,CAAxB,EAA2BI,CAA3B,CAAV;;AACA,QAAI,SAASS,CAAb,EAAgB;AACd,UAAI,SAAS,KAAK2W,KAAlB,EAAyB,KAAKA,KAAL,GAAa3W,CAAb,CAAzB,KACK;AACH,YAAI7C,IAAC,GAAG,KAAKwZ,KAAb;;AACA,eAAOxZ,IAAC,CAACkU,IAAT,GAAiBlU,IAAC,GAAGA,IAAC,CAACkU,IAAN;;AACjBlU,QAAAA,IAAC,CAACkU,IAAF,GAASrR,CAAT;AACD;AACD,aAAOA,CAAP;AACD;;AACDoE,IAAAA,OAAO,CAACgC,KAAR,CACE,8DADF,EAEEjH,CAFF;AAID;;AACD6X,EAAAA,gBAAgB,CAAC7Z,CAAD,EAAIgC,CAAJ,EAAO;AACrB,UAAMI,CAAC,GAAG,KAAK,CAAL,KAAWpC,CAAC,CAACiU,EAAb,GAAkBjU,CAAC,CAACiU,EAApB,GAAyB,MAAMxL,IAAI,CAACyP,KAAL,CAAW,MAAMzP,IAAI,CAACqR,MAAL,EAAjB,CAAzC;AAAA,UACEjX,CAAC,GAAG,KAAK,CAAL,KAAW7C,CAAC,CAACqD,IAAb,GAAoBrD,CAAC,CAACqD,IAAtB,GAA6BnH,oBADnC;AAAA,UAEE4G,CAAC,GACC,cAAcD,CAAd,GACI2Q,QAAQ,CAACmC,cAAT,CAAwB3V,CAAxB,CADJ,GAEIsV,eAAe,CAACK,cAAhB,CAA+B3V,CAA/B,CALR;AAAA,UAME4E,CAAC,GAAG4O,QAAQ,CAACwB,WAAT,CAAqB5S,CAArB,EAAwBS,CAAxB,EAA2BC,CAA3B,CANN;AAOA,QAAIiC,CAAC,GAAG,KAAK4U,IAAb;AACA,QAAM/U,CAAC,CAACsP,IAAF,GAASlS,CAAV,EAAc+C,CAAC,KAAK/C,CAAzB,EAA6B,KAAK2X,IAAL,GAAY/U,CAAZ,CAA7B,KACK;AACH,aAAOG,CAAC,CAACmP,IAAF,KAAWlS,CAAlB,GAAuB+C,CAAC,GAAGA,CAAC,CAACmP,IAAN;;AACvBnP,MAAAA,CAAC,CAACmP,IAAF,GAAStP,CAAT;AACD;AACD,WAAOA,CAAP;AACD;;AACDmV,EAAAA,WAAW,CAAC/Z,CAAD,EAAI;AACb,QAAIgC,CAAC,GAAG,KAAK2X,IAAb;AAAA,QACEvX,CAAC,GAAG,KAAK,CADX;AAAA,QAEES,CAAC,GAAG,CAFN;AAGA,QAAIb,CAAC,CAACiS,EAAF,IAAQjU,CAAZ,EAAe,KAAK2Z,IAAL,GAAY3X,CAAC,CAACkS,IAAd,CAAf,KAEE,KAAKrR,CAAC,GAAG,CAAJ,EAAOT,CAAC,GAAGJ,CAAX,EAAcA,CAAC,GAAGA,CAAC,CAACkS,IAAzB,EAA+B,QAAQlS,CAAvC,GAA4C;AAC1C,UAAIA,CAAC,CAACiS,EAAF,IAAQjU,CAAZ,EAAe;AACboC,QAAAA,CAAC,CAAC8R,IAAF,GAASlS,CAAC,CAACkS,IAAX;AACA;AACD;;AACDrR,MAAAA,CAAC,IAAKT,CAAC,GAAGJ,CAAT,EAAcA,CAAC,GAAGA,CAAC,CAACkS,IAArB;AACD;AACH,WAAOrR,CAAP;AACD;;AACDmX,EAAAA,QAAQ,CAACha,CAAD,EAAI;AACV,QAAIgC,CAAC,GAAG,KAAK2X,IAAb;;AACA,WAAO3X,CAAC,IAAIA,CAAC,CAACiS,EAAF,IAAQjU,CAApB,GAAyBgC,CAAC,GAAGA,CAAC,CAACkS,IAAN;;AACzB,WAAOlS,CAAP;AACD;;AACDiY,EAAAA,kBAAkB,CAACja,CAAD,EAAIgC,CAAJ,EAAO;AACvB,UAAMI,CAAC,GAAG,KAAK4X,QAAL,CAAcha,CAAd,CAAV;AACAoC,IAAAA,CAAC,KACE,KAAK,CAAL,KAAWA,CAAC,CAACgS,QAAF,CAAWpS,CAAX,CAAX,GACI,KAAKyX,OAAL,CAAarF,QAAb,CAAsBpS,CAAtB,IAA2B;AAAEwS,MAAAA,KAAK,EAAEpS,CAAC,CAACgS,QAAF,CAAWpS,CAAX,EAAcwS;AAAvB,KAD/B,GAEGvN,OAAO,CAACgC,KAAR,CACG,iDAAgDjH,CAAE,qBADrD,CAHL,CAAD;AAMD;;AACDkY,EAAAA,yBAAyB,CAACla,CAAD,EAAIgC,CAAJ,EAAO;AAC9B,SAAK,CAAL,KAAWhC,CAAC,CAACoU,QAAF,CAAWpS,CAAX,CAAX,GACK,KAAKyX,OAAL,CAAarF,QAAb,CAAsBpS,CAAtB,IAA2B;AAAEwS,MAAAA,KAAK,EAAExU,CAAC,CAACoU,QAAF,CAAWpS,CAAX,EAAcwS;AAAvB,KADhC,GAEIvN,OAAO,CAACgC,KAAR,CACG,wDAAuDjH,CAAE,qBAD5D,CAFJ;AAKD;;AACDmY,EAAAA,WAAW,GAAG;AACZ,UAAMna,CAAC,GAAG,EAAV;AACA,QAAIgC,CAAC,GAAG,KAAKwX,KAAb;;AACA,WAAOxX,CAAP,GAAY;AACV,WAAK,IAAI,CAACI,CAAD,EAAIS,CAAJ,CAAT,IAAmBR,MAAM,CAACC,OAAP,CAAeN,CAAC,CAACoS,QAAjB,CAAnB,EAA+CpU,CAAC,CAACoC,CAAD,CAAD,GAAOS,CAAP;;AAC/Cb,MAAAA,CAAC,GAAGA,CAAC,CAACkS,IAAN;AACD;;AACD,WAAOlU,CAAP;AACD;;AACDoa,EAAAA,cAAc,GAAG;AACf,QAAIpa,CAAC,GAAG,EAAR;AAAA,QACEgC,CAAC,GAAG,KAAKwX,KADX;;AAEA,WAAOxX,CAAP,GAAY;AACV,WAAK,IAAI,CAACI,CAAD,EAAIS,CAAJ,CAAT,IAAmBR,MAAM,CAACC,OAAP,CAAeN,CAAC,CAACmS,OAAjB,CAAnB,EAA8CnU,CAAC,IAAK,WAAUoC,CAAE,IAAGS,CAAE,IAAvB;;AAC9Cb,MAAAA,CAAC,GAAGA,CAAC,CAACkS,IAAN;AACD;;AACD,WAAOlU,CAAP;AACD;;AACDqa,EAAAA,mBAAmB,GAAG;AACpB,QAAIra,CAAC,GAAG,EAAR;AAAA,QACEgC,CAAC,GAAG,KAAKwX,KADX;;AAEA,WAAOxX,CAAP,GAAahC,CAAC,IAAIgC,CAAC,CAAC0S,wBAAF,EAAN,EAAsC1S,CAAC,GAAGA,CAAC,CAACkS,IAA5C;;AACZ,WAAOlU,CAAP;AACD;;AACDsa,EAAAA,mBAAmB,GAAG;AACpB,QAAIta,CAAC,GAAG,EAAR;AAAA,QACEgC,CAAC,GAAG,KAAKwX,KADX;;AAEA,WAAOxX,CAAP,GAAahC,CAAC,IAAIgC,CAAC,CAAC2S,wBAAF,EAAN,EAAsC3S,CAAC,GAAGA,CAAC,CAACkS,IAA5C;;AACZ,WAAOlU,CAAP;AACD;;AACDua,EAAAA,4BAA4B,GAAG;AAC7B,QAAIva,CAAC,GAAG,EAAR;AAAA,QACEgC,CAAC,GAAG,KAAKwX,KADX;;AAEA,WAAOxX,CAAC,CAACqB,IAAF,KAAWpH,uBAAlB,GACG+D,CAAC,IAAIgC,CAAC,CAAC6S,sBAAF,CAAyB,KAAzB,CAAN,EAAyC7S,CAAC,GAAGA,CAAC,CAACkS,IAA/C;;AACF,WAAOlU,CAAP;AACD;;AACDwa,EAAAA,yBAAyB,GAAG;AAC1B,QAAIxa,CAAC,GAAG,KAAKwZ,KAAb;;AACA,WAAOxZ,CAAC,CAACqD,IAAF,KAAWpH,uBAAlB,GAA6C+D,CAAC,GAAGA,CAAC,CAACkU,IAAN;;AAC7C,WAAOlU,CAAC,CAAC6U,sBAAF,EAAP;AACD;;AACD4F,EAAAA,6BAA6B,GAAG;AAC9B,QAAIza,CAAC,GAAG,EAAR;AAAA,QACEgC,CAAC,GAAG,KAAKwX,KADX;;AAEA,WAAOxX,CAAC,CAACqB,IAAF,KAAWpH,uBAAlB,GAA6C+F,CAAC,GAAGA,CAAC,CAACkS,IAAN;;AAC7C,SAAKlS,CAAC,GAAGA,CAAC,CAACkS,IAAX,EAAiBlS,CAAjB,GAAuBhC,CAAC,IAAIgC,CAAC,CAAC6S,sBAAF,CAAyB,KAAzB,CAAN,EAAyC7S,CAAC,GAAGA,CAAC,CAACkS,IAA/C;;AACtB,WAAOlU,CAAP;AACD;;AA7IiB;;AA+IpB,MAAMqM,gBAAN,SAA+B9Q,KAAK,CAACmf,iBAArC,CAAuD;AACrD3a,EAAAA,WAAW,CAACC,CAAC,GAAG,EAAL,EAASgC,CAAC,GAAG,EAAb,EAAiB;AAC1B,UAAMA,CAAN,GACG,KAAK2Y,WAAL,GAAmB,IADtB,EAEEtY,MAAM,CAACiS,IAAP,CAAYtU,CAAZ,EAAeiE,MAAf,GAAwB,CAAxB,KACI,KAAK0W,WAAL,GAAmB,IAAIpB,aAAJ,CAAkBvZ,CAAlB,CAApB,EACA,KAAK4a,eAAL,GAAuBC,YAAY,CAACC,gBAAb,CAA8B,IAA9B,CAF1B,CAFF;AAKD;;AACD,MAAIC,UAAJ,GAAiB;AACf,WAAO,KAAKJ,WAAZ;AACD;;AACD,MAAII,UAAJ,CAAe/a,CAAf,EAAkB;AAChB,AAAE,SAAK2a,WAAL,GAAmB3a,CAApB,EACE,KAAK4a,eAAL,GAAuBC,YAAY,CAACC,gBAAb,CAA8B,IAA9B,CADzB;AAEF;;AACD9L,EAAAA,IAAI,CAAChP,CAAD,EAAI;AACN,QAAI,KAAK2a,WAAT,EAAsB;AACpB,YAAM3Y,CAAC,GAAGhC,CAAC,CAAC+a,UAAZ;AACE/a,MAAAA,CAAC,CAAC+a,UAAF,GAAe,KAAK,CAArB,EAAyB,MAAM/L,IAAN,CAAWhP,CAAX,CAAzB,EAAyC,KAAKgb,SAAL,GAAiBhZ,CAAC,CAAC+S,KAAF,EAA1D;AACF,KAHD,MAGO,MAAM/F,IAAN,CAAWhP,CAAX;;AACP,WAAO,IAAP;AACD;;AArBoD;;AAuBvD,MAAMmM,kBAAN,SAAiC5Q,KAAK,CAAC0f,mBAAvC,CAA2D;AACzDlb,EAAAA,WAAW,CAACC,CAAC,GAAG,EAAL,EAASgC,CAAC,GAAG,EAAb,EAAiB;AAC1B,UAAMA,CAAN,GACG,KAAK2Y,WAAL,GAAmB,IADtB,EAEEtY,MAAM,CAACiS,IAAP,CAAYtU,CAAZ,EAAeiE,MAAf,GAAwB,CAAxB,KACI,KAAK0W,WAAL,GAAmB,IAAIpB,aAAJ,CAAkBvZ,CAAlB,CAApB,EACA,KAAK4a,eAAL,GAAuBC,YAAY,CAACC,gBAAb,CAA8B,IAA9B,CAF1B,CAFF;AAKD;;AACD,MAAIC,UAAJ,GAAiB;AACf,WAAO,KAAKJ,WAAZ;AACD;;AACD,MAAII,UAAJ,CAAe/a,CAAf,EAAkB;AAChB,AAAE,SAAK2a,WAAL,GAAmB3a,CAApB,EACE,KAAK4a,eAAL,GAAuBC,YAAY,CAACC,gBAAb,CAA8B,IAA9B,CADzB;AAEF;;AACD9L,EAAAA,IAAI,CAAChP,CAAD,EAAI;AACN,QAAI,KAAK2a,WAAT,EAAsB;AACpB,YAAM3Y,CAAC,GAAGhC,CAAC,CAAC+a,UAAZ;AACE/a,MAAAA,CAAC,CAAC+a,UAAF,GAAe,KAAK,CAArB,EAAyB,MAAM/L,IAAN,CAAWhP,CAAX,CAAzB,EAAyC,KAAKgb,SAAL,GAAiBhZ,CAAC,CAAC+S,KAAF,EAA1D;AACF,KAHD,MAGO,MAAM/F,IAAN,CAAWhP,CAAX;;AACP,WAAO,IAAP;AACD;;AArBwD;;AAuB3D,MAAMgM,gBAAN,SAA+BzQ,KAAK,CAACmf,iBAArC,CAAuD;AACrD3a,EAAAA,WAAW,CAACC,CAAC,GAAG,EAAL,EAASgC,CAAC,GAAG,EAAb,EAAiB;AAC1B,UAAMA,CAAN,GACG,KAAK2Y,WAAL,GAAmB,IADtB,EAEEtY,MAAM,CAACiS,IAAP,CAAYtU,CAAZ,EAAeiE,MAAf,GAAwB,CAAxB,KACI,KAAK0W,WAAL,GAAmB,IAAIpB,aAAJ,CAAkBvZ,CAAlB,CAApB,EACA,KAAK4a,eAAL,GAAuBC,YAAY,CAACC,gBAAb,CAA8B,IAA9B,CAF1B,CAFF;AAKD;;AACD,MAAIC,UAAJ,GAAiB;AACf,WAAO,KAAKJ,WAAZ;AACD;;AACD,MAAII,UAAJ,CAAe/a,CAAf,EAAkB;AAChB,AAAE,SAAK2a,WAAL,GAAmB3a,CAApB,EACE,KAAK4a,eAAL,GAAuBC,YAAY,CAACC,gBAAb,CAA8B,IAA9B,CADzB;AAEF;;AACD9L,EAAAA,IAAI,CAAChP,CAAD,EAAI;AACN,QAAI,KAAK2a,WAAT,EAAsB;AACpB,YAAM3Y,CAAC,GAAGhC,CAAC,CAAC+a,UAAZ;AACE/a,MAAAA,CAAC,CAAC+a,UAAF,GAAe,KAAK,CAArB,EAAyB,MAAM/L,IAAN,CAAWhP,CAAX,CAAzB,EAAyC,KAAKgb,SAAL,GAAiBhZ,CAAC,CAAC+S,KAAF,EAA1D;AACF,KAHD,MAGO,MAAM/F,IAAN,CAAWhP,CAAX;;AACP,WAAO,IAAP;AACD;;AArBoD;;AAuBvD,MAAM0M,mBAAN,SAAkCnR,KAAK,CAAC2f,oBAAxC,CAA6D;AAC3Dnb,EAAAA,WAAW,CAACC,CAAC,GAAG,EAAL,EAASgC,CAAC,GAAG,EAAb,EAAiB;AAC1B,SAAK,CAAL,KAAWA,CAAC,CAACuK,SAAb,KAA2BvK,CAAC,CAACuK,SAAF,GAAc,GAAzC,GACE,MAAMvK,CAAN,CADF,EAEG,KAAK2Y,WAAL,GAAmB,IAFtB,EAGEtY,MAAM,CAACiS,IAAP,CAAYtU,CAAZ,EAAeiE,MAAf,GAAwB,CAAxB,KACI,KAAK0W,WAAL,GAAmB,IAAIpB,aAAJ,CAAkBvZ,CAAlB,CAApB,EACA,KAAK4a,eAAL,GAAuBC,YAAY,CAACC,gBAAb,CAA8B,IAA9B,CAF1B,CAHF;AAMD;;AACD,MAAIC,UAAJ,GAAiB;AACf,WAAO,KAAKJ,WAAZ;AACD;;AACD,MAAII,UAAJ,CAAe/a,CAAf,EAAkB;AAChB,AAAE,SAAK2a,WAAL,GAAmB3a,CAApB,EACE,KAAK4a,eAAL,GAAuBC,YAAY,CAACC,gBAAb,CAA8B,IAA9B,CADzB;AAEF;;AACD9L,EAAAA,IAAI,CAAChP,CAAD,EAAI;AACN,QAAI,KAAK2a,WAAT,EAAsB;AACpB,YAAM3Y,CAAC,GAAGhC,CAAC,CAAC+a,UAAZ;AACE/a,MAAAA,CAAC,CAAC+a,UAAF,GAAe,KAAK,CAArB,EAAyB,MAAM/L,IAAN,CAAWhP,CAAX,CAAzB,EAAyC,KAAKgb,SAAL,GAAiBhZ,CAAC,CAAC+S,KAAF,EAA1D;AACF,KAHD,MAGO,MAAM/F,IAAN,CAAWhP,CAAX;;AACP,WAAO,IAAP;AACD;;AAtB0D;;AAwB7D,MAAMsM,eAAN,SAA8B/Q,KAAK,CAAC4f,gBAApC,CAAqD;AACnDpb,EAAAA,WAAW,CAACC,CAAC,GAAG,EAAL,EAASgC,CAAC,GAAG,EAAb,EAAiB;AAC1B,UAAMA,CAAN,GACG,KAAK2Y,WAAL,GAAmB,IADtB,EAEEtY,MAAM,CAACiS,IAAP,CAAYtU,CAAZ,EAAeiE,MAAf,GAAwB,CAAxB,KACI,KAAK0W,WAAL,GAAmB,IAAIpB,aAAJ,CAAkBvZ,CAAlB,CAApB,EACA,KAAK4a,eAAL,GAAuBC,YAAY,CAACC,gBAAb,CAA8B,IAA9B,CAF1B,CAFF;AAKD;;AACD,MAAIC,UAAJ,GAAiB;AACf,WAAO,KAAKJ,WAAZ;AACD;;AACD,MAAII,UAAJ,CAAe/a,CAAf,EAAkB;AAChB,AAAE,SAAK2a,WAAL,GAAmB3a,CAApB,EACE,KAAK4a,eAAL,GAAuBC,YAAY,CAACC,gBAAb,CAA8B,IAA9B,CADzB;AAEF;;AACD9L,EAAAA,IAAI,CAAChP,CAAD,EAAI;AACN,QAAI,KAAK2a,WAAT,EAAsB;AACpB,YAAM3Y,CAAC,GAAGhC,CAAC,CAAC+a,UAAZ;AACE/a,MAAAA,CAAC,CAAC+a,UAAF,GAAe,KAAK,CAArB,EAAyB,MAAM/L,IAAN,CAAWhP,CAAX,CAAzB,EAAyC,KAAKgb,SAAL,GAAiBhZ,CAAC,CAAC+S,KAAF,EAA1D;AACF,KAHD,MAGO,MAAM/F,IAAN,CAAWhP,CAAX;;AACP,WAAO,IAAP;AACD;;AArBkD;;AAuBrD,IAAIob,aAAa,GAAG,EAApB;AAAA,IACEC,aAAa,GAAG,EADlB;AAEA,MAAMC,cAAc,GAAG,eAAvB;AAAA,MACEC,qBAAqB,GAAG,gBAD1B;AAAA,MAEEC,0BAA0B,GAAG,GAF/B;AAAA,MAGEC,oBAAoB,GAAG,EAHzB;;AAgBA,SAAStO,eAAT,CAAyBnN,CAAzB,EAA4BgC,CAA5B,EAA+BI,CAA/B,EAAkC;AAChC,MAAIiZ,aAAa,CAACrb,CAAD,CAAjB,EAAsB;AACpB,QAAIqb,aAAa,CAACrb,CAAD,CAAb,CAAiBoC,CAAjB,KAAuBiZ,aAAa,CAACrb,CAAD,CAAb,CAAiBoC,CAAjB,EAAoBiL,UAApB,KAAmCrL,CAA9D,EACE,OAAOqZ,aAAa,CAACrb,CAAD,CAAb,CAAiBoC,CAAjB,CAAP;AACH,GAHD,MAGOiZ,aAAa,CAACrb,CAAD,CAAb,GAAmB,EAAnB;;AACP,QAAM6C,CAAC,GACH,KAAK,CAAL,KAAWuY,aAAa,CAACpZ,CAAD,CAAxB,GACIoZ,aAAa,CAACpZ,CAAD,CADjB,GAEIoZ,aAAa,CAACG,qBAAD,CAHrB;AAAA,QAIEzY,CAAC,GAAGD,CAAC,CAAC6Y,cAAF,CAAiB1b,CAAjB,EAAoB,CAApB,CAJN;AAKA,SACGqb,aAAa,CAACrb,CAAD,CAAb,CAAiBoC,CAAjB,IAAsB;AACrB4P,IAAAA,QAAQ,EAAE,IAAIzW,KAAK,CAACogB,mBAAV,CAA8B7Y,CAA9B,EAAiCV,CAAjC,CADW;AAErBiL,IAAAA,UAAU,EAAErL,CAFS;AAGrB4Z,IAAAA,UAAU,EAAE/Y,CAAC,CAACkH,IAAF,CAAO6R,UAHE;AAIrBC,IAAAA,QAAQ,EAAEhZ,CAAC,CAACkH,IAAF,CAAO+R,MAAP,CAAc9b,CAAd,EAAiB+b;AAJN,GAAvB,EAMAV,aAAa,CAACrb,CAAD,CAAb,CAAiBoC,CAAjB,CAPF;AASD;;AACD,MAAM2N,aAAN,SAA4ByB,QAA5B,CAAqC;AACnCzR,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMI,CAAC,GAAG,KAAK,CAAL,KAAWpC,CAAC,CAACoN,IAAb,GAAoBpN,CAAC,CAACoN,IAAtB,GAA6BoO,0BAAvC;AAAA,UACE3Y,CAAC,GAAG,KAAK,CAAL,KAAW7C,CAAC,CAACqN,UAAb,GAA0BrN,CAAC,CAACqN,UAA5B,GAAyCkO,qBAD/C;AAAA,UAEEzY,CAAC,GAAG,KAAK,CAAL,KAAW9C,CAAC,CAACsN,GAAb,GAAmBtN,CAAC,CAACsN,GAArB,GAA2BmO,oBAFjC;AAAA,UAGE7W,CAAC,GAAGuI,eAAe,CAAC/K,CAAD,EAAIS,CAAJ,EAAOC,CAAP,CAHrB;AAIA,UAAM8B,CAAC,CAACoN,QAAR,EAAkBhQ,CAAlB,GACG,KAAKga,KAAL,GAAa5Z,CADhB,EAEG,KAAK6Z,WAAL,GAAmBpZ,CAFtB,EAGG,KAAKqZ,IAAL,GAAYpZ,CAHf,EAIG,KAAKqZ,SAAL,GAAiB,KAAK,CAAL,KAAWnc,CAAC,CAACoc,QAAb,GAAwBpc,CAAC,CAACoc,QAA1B,GAAqC,EAJzD,EAKG,KAAKC,cAAL,GAAsB,KAAK,CAAL,KAAWrc,CAAC,CAACsc,aAAb,GAA6Btc,CAAC,CAACsc,aAA/B,GAA+C,CALxE,EAMG,KAAKC,WAAL,GAAmB3X,CAAC,CAACgX,UANxB,EAOG,KAAKY,SAAL,GAAiB5X,CAAC,CAACiX,QAPtB,EAQG,KAAKY,cAAL,GAAsB,IAAIlhB,KAAK,CAAC0b,OAAV,EARzB,EASG,KAAKyF,SAAL,GACC,KAAKF,SAAL,IACC,KAAKL,SAAL,GAAiB,KAAKI,WADvB,IAEA,KAAKF,cAZT,EAaE,KAAKM,cAAL,CAAoB,KAAKR,SAAzB,CAbF;AAcD;;AACDQ,EAAAA,cAAc,CAAC3c,CAAD,EAAI;AAChB,AAAE,SAAKmc,SAAL,GAAiBnc,CAAlB,EACE,KAAK0c,SAAL,GACC,KAAKF,SAAL,IACC,KAAKL,SAAL,GAAiB,KAAKI,WADvB,IAEA,KAAKF,cAJR,EAKC,KAAKzN,KAAL,CAAWgO,GAAX,CAAe,KAAKT,SAApB,EAA+B,KAAKA,SAApC,EAA+C,CAA/C,CALD;AAMF;;AA5BkC;;AA8BrC,MAAMrM,gBAAN,SAA+B0B,QAA/B,CAAwC;AACtCzR,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,AAAEA,IAAAA,CAAC,CAACwJ,OAAF,GAAY,CAAC,CAAd,EAAkB,MAAMxL,CAAN,EAASgC,CAAT,CAAlB;AACF;;AAHqC;;AAKxC,MAAM6a,gBAAN,CAAuB;AACrB9c,EAAAA,WAAW,CAACC,CAAD,EAAI;AACb,AAAE,SAAK8c,OAAL,GAAe9c,CAAC,IAAI,EAArB,EACE,KAAK+c,iBAAL,GAAyB,IAD3B,EAEE,KAAKC,gBAAL,GAAwB,CAF1B,EAGE,KAAKC,gBAAL,GAAwB,CAH1B;AAIF;;AACDC,EAAAA,GAAG,CAACld,CAAD,EAAI;AACL,SAAK+c,iBAAL,GAAyB/c,CAAzB;AACA,UAAMgC,CAAC,GAAG,KAAK,CAAL,KAAW,KAAK8a,OAAL,CAAaK,KAAxB,GAAgC,KAAKL,OAAL,CAAaK,KAA7C,GAAqD,EAA/D;AAAA,UACE/a,CAAC,GAAG,KAAK,CAAL,KAAW,KAAK0a,OAAL,CAAa3a,MAAxB,GAAiC,KAAK2a,OAAL,CAAa3a,MAA9C,GAAuD,EAD7D;AAAA,UAEEU,CAAC,GAAG,KAAK,CAAL,KAAW,KAAKia,OAAL,CAAaM,MAAxB,GAAiC,KAAKN,OAAL,CAAaM,MAA9C,GAAuD,EAF7D;AAAA,UAGEta,CAAC,GAAG,KAAK,CAAL,KAAW,KAAKga,OAAL,CAAaO,UAAxB,GAAqC,KAAKP,OAAL,CAAaO,UAAlD,GAA+D,EAHrE;AAIA,QACI,KAAKJ,gBAAL,GAAwB,CAAzB,EACA,KAAKD,gBAAL,GAAwBhb,CAAC,CAACiC,MAAF,GAAW7B,CAAC,CAAC6B,MAAb,GAAsBpB,CAAC,CAACoB,MAAxB,GAAiCnB,CAAC,CAACmB,MAD3D,EAED,KAAK+Y,gBAAL,GAAwB,CAH1B,EAKE,KAAKD,iBAAL,GALF,KAMK;AACH,YAAM/c,IAAC,GAAG,IAAV;;AACA,WAAK,IAAIoC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGJ,CAAC,CAACiC,MAAtB,EAA8B7B,IAAC,EAA/B,EAAmC;AACjC,cAAMS,IAAC,GAAG,IAAItH,KAAK,CAAC+hB,UAAV,EAAV;AAAA,cACExa,GAAC,GAAGd,CAAC,CAACI,IAAD,CADP;AAAA,cAEEwC,CAAC,GAAG0W,cAAc,GAAGxY,GAAjB,GAAqB,OAF3B;;AAGAD,QAAAA,IAAC,CAAC0a,IAAF,CAAO3Y,CAAP,EAAU,UAAU5C,CAAV,EAAa;AACrB,AAAEoZ,UAAAA,aAAa,CAACtY,GAAD,CAAb,GAAmBd,CAApB,EACChC,IAAC,CAACid,gBAAF,EADD,EAECjd,IAAC,CAACid,gBAAF,KAAuBjd,IAAC,CAACgd,gBAAzB,IAA6Chd,IAAC,CAAC+c,iBAAF,EAF9C;AAGF,SAJD;AAKD;AACF;AACF;;AAhCoB;;AAkCvB,AAAO,MAAMS,UAAN,CAAiB;AACtBzd,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAOI,CAAC,GAAG,EAAX,EAAcqb,QAAd,EAAwB;AACjC,AAAE,SAAKC,UAAL,GAAkB1d,CAAnB,EACE,KAAK2d,OAAL,GAAevb,CADjB,EAEE,KAAKwb,aAAL,GAAqB5f,+BAFvB,EAGE,KAAK6f,cAAL,GAAsBviB,MAAM,CAACwiB,UAH/B,EAIE,KAAKC,eAAL,GAAuBziB,MAAM,CAAC0iB,WAJhC;AAKD,UAAMnb,CAAC,GAAG4a,QAAV;AACE,SAAKQ,SAAL,GAAiB,IAAI1iB,KAAK,CAAC2iB,aAAV,CAAwB;AACzCC,MAAAA,SAAS,EAAE,CAAC,CAD6B;AAEzCtI,MAAAA,KAAK,EAAE,CAAC,CAFiC;AAGzCuI,MAAAA,MAAM,EAAEvb;AAHiC,KAAxB,CAAlB,EAKC,KAAKob,SAAL,CAAeI,aAAf,CAA6B/iB,MAAM,CAACgjB,gBAApC,CALD,EAMC,KAAKL,SAAL,CAAeM,OAAf,CAAuB,KAAKV,cAA5B,EAA4C,KAAKE,eAAjD,CAND,EAOE,KAAKE,SAAL,CAAeO,SAAf,CAAyBC,OAAzB,GAAmC,CAAC,CAPtC,EAQE,KAAKR,SAAL,CAAeO,SAAf,CAAyBnb,IAAzB,GAAgC9H,KAAK,CAACmjB,gBARxC,EASE,KAAKC,MAAL,GAAc,IAAI9d,QAAJ,EAThB,EAUE,KAAKT,aAAL,GAAqB,EAVvB,EAWE,KAAKwe,WAAL,GAAmB,IAXrB,EAYE,KAAKC,cAAL,GAAsB,IAZxB,EAaE,KAAKC,YAAL,GAAoB,IAbtB,EAcE,KAAKC,QAAL,GAAgB,CAAC,CAdnB,EAeE,KAAKC,cAAL,GAAsB,IAAInC,gBAAJ,CAAqB7a,CAArB,CAfxB,EAgBC,KAAKgd,cAAL,CAAoB9B,GAApB,CAAwB,KAAK+B,qBAAL,CAA2BC,IAA3B,CAAgC,IAAhC,CAAxB,CAhBD;AAiBF;;AACDhC,EAAAA,GAAG,GAAG;AACJiC,IAAAA,qBAAqB,CAAC,KAAKjC,GAAL,CAASgC,IAAT,CAAc,IAAd,CAAD,CAArB,EAA4C,KAAKE,QAAL,EAA5C;AACD;;AACDH,EAAAA,qBAAqB,GAAG;AACtBhY,IAAAA,OAAO,CAACoY,IAAR,CACE,+DADF,GAGE,KAAKC,YAAL,CAAkB,KAAK5B,UAAvB,CAHF,EAIEpiB,MAAM,CAACikB,gBAAP,CAAwB,QAAxB,EAAkC,KAAKC,QAAL,CAAcN,IAAd,CAAmB,IAAnB,CAAlC,CAJF,EAKG,KAAKH,QAAL,GAAgB,CAAC,CALpB,EAME,KAAKS,QAAL,EANF;AAOD;;AACDJ,EAAAA,QAAQ,GAAG;AACT,SAAKL,QAAL,KACGpjB,sBAAsB,KACnB8jB,QAAQ,CAACC,aAAT,CACA,iCADA,EAEAC,KAFA,CAEMC,OAFN,GAEgB,MAFjB,EAGAjkB,sBAAsB,GAAG,CAAC,CAJN,CAAtB,EAKD,KAAKmjB,YAAL,IACE,CAAC,KAAKA,YAAL,CAAkBe,QADrB,IAEE,KAAKf,YAAL,CAAkBgB,QAAlB,EAPD,EAQD,KAAKjB,cAAL,IAAuB,KAAKA,cAAL,CAAoBkB,MAApB,EARtB,EASD,KAAKpB,MAAL,IACE,KAAKC,WADP,KAEI,KAAKX,SAAL,CAAe+B,SAAf,GAA2B,CAAC,CAA7B,EACD,KAAK/B,SAAL,CAAegC,MAAf,CAAsB,KAAKtB,MAA3B,EAAmC,KAAKC,WAAxC,CAHF,CAVF;AAcD;;AACDY,EAAAA,QAAQ,GAAG;AACT,SAAKT,QAAL,KACI,KAAKnB,aAAL,KAAuB5f,+BAAvB,IACA,KAAK4f,aAAL,KAAuB1f,+BADxB,KAEE,KAAK2f,cAAL,GAAsBviB,MAAM,CAACwiB,UAF/B,GAGA,KAAKF,aAAL,KAAuB5f,+BAAvB,IACC,KAAK4f,aAAL,KAAuBzf,gCADzB,KAEG,KAAK4f,eAAL,GAAuBziB,MAAM,CAAC0iB,WAFjC,CAHC,EAMD,KAAKY,WAAL,KACG,wBAAwB,KAAKA,WAAL,CAAiBvb,IAAzC,GACI,KAAKub,WAAL,CAAiBsB,MAAjB,GACC,KAAKrC,cAAL,GAAsB,KAAKE,eAFhC,GAGG,yBAAyB,KAAKa,WAAL,CAAiBvb,IAA1C,KACE,KAAKub,WAAL,CAAiB/W,IAAjB,GAAwB,CAAC,KAAKgW,cAAN,GAAuB,CAAhD,EACA,KAAKe,WAAL,CAAiBjX,KAAjB,GAAyB,KAAKkW,cAAL,GAAsB,CAD/C,EAEA,KAAKe,WAAL,CAAiB7W,GAAjB,GAAuB,KAAKgW,eAAL,GAAuB,CAF9C,EAGA,KAAKa,WAAL,CAAiB3W,MAAjB,GAA0B,CAAC,KAAK8V,eAAN,GAAwB,CAJnD,CAHH,EAQD,KAAKa,WAAL,CAAiBuB,sBAAjB,EATF,CANC,EAgBD,KAAKlC,SAAL,IACE,KAAKA,SAAL,CAAeM,OAAf,CAAuB,KAAKV,cAA5B,EAA4C,KAAKE,eAAjD,CAlBJ;AAmBD;;AACDuB,EAAAA,YAAY,CAACtf,CAAD,EAAI;AACd,UAAMgC,CAAC,GAAG,IAAIlC,cAAJ,CAAmBE,CAAnB,CAAV;AAAA,UACE,CAACoC,CAAD,EAAIS,CAAJ,EAAOC,CAAP,IAAYd,CAAC,CAACpB,MAAF,EADd;AAEE,SAAK+d,MAAL,GAAcvc,CAAf,EAAoB,KAAKwc,WAAL,GAAmB/b,CAAvC,EAA4C,KAAKzC,aAAL,GAAqB0C,CAAjE;AACD,UAAM8B,CAAC,GACH,KAAK,CAAL,KAAW,KAAKxE,aAAL,CAAmBe,OAA9B,GACI,IAAI5F,KAAK,CAAC6F,KAAV,GAAkBqC,SAAlB,CAA4B,KAAKrD,aAAL,CAAmBe,OAA/C,CADJ,GAEI,IAAI5F,KAAK,CAAC6F,KAAV,CAAgB,OAAhB,CAHR;AAAA,UAIE2D,CAAC,GAAG,KAAK,CAAL,KAAW,KAAK3E,aAAL,CAAmBiB,OAA9B,GAAwC,KAAKjB,aAAL,CAAmBiB,OAA3D,GAAqE,CAJ3E;AAKA,SAAK4c,SAAL,CAAemC,aAAf,CAA6Bxb,CAA7B,EAAgCG,CAAhC,GACG,KAAK6Y,aAAL,GAAqB,KAAKxd,aAAL,CAAmBwB,QAD3C,EAEG,KAAKic,cAAL,GAAsB,KAAKzd,aAAL,CAAmByB,SAF5C,EAGG,KAAKkc,eAAL,GAAuB,KAAK3d,aAAL,CAAmB0B,UAH7C,EAIE,KAAK1B,aAAL,CAAmBc,gBAAnB,KACI,KAAK2d,cAAL,GAAsB,IAAItjB,KAAK,CAAC8kB,aAAV,CACtB,KAAKzB,WADiB,EAEtB,KAAKX,SAAL,CAAeqC,UAFO,CAAvB,EAID,KAAKzB,cAAL,CAAoB3U,MAApB,CAA2BzG,SAA3B,CAAqC,KAAKrD,aAAL,CAAmBmB,WAAxD,CAJC,EAKA,KAAKsd,cAAL,CAAoB0B,YAApB,GAAmC,KAAKngB,aAAL,CAAmBqB,YALtD,EAMA,KAAKod,cAAL,CAAoB2B,SAApB,GAAgC,KAAKpgB,aAAL,CAAmBsB,SANnD,EAOA,KAAKmd,cAAL,CAAoB4B,UAApB,GAAiC,KAAKrgB,aAAL,CAAmBuB,UAPpD,EAQA,KAAKkd,cAAL,CAAoB6B,aAApB,GAAoC,KAAKtgB,aAAL,CAAmBkB,WARvD,EASD,AACC,KAAKud,cAAL,CAAoB8B,WAApB,GAAkC,CAVlC,EAWA,KAAK9B,cAAL,CAAoB+B,QAApB,GAA+B,CAZlC,CAJF,EAiBE,cAAc,OAAO3e,WAArB,KACG,KAAK6c,YAAL,GAAoB,IAAI+B,QAAJ,CACnB,KAAK5C,SAAL,CAAeqC,UADI,EAEnB,KAAK3B,MAFc,EAGnB,KAAKC,WAHc,CADvB,CAjBF;AAuBD;;AA3GqB;;AA6GxB,MAAM/d,QAAN,SAAuBtF,KAAK,CAACulB,KAA7B,CAAmC;AACjC/gB,EAAAA,WAAW,GAAG;AACZ;AACD;;AACD8R,EAAAA,cAAc,CAAC7R,CAAD,EAAI;AAChB,aAASgC,CAAT,CAAWI,CAAX,EAAc;AACZ,UACEA,CAAC,YAAYwN,SAAb,IACAxN,CAAC,YAAYyN,SADb,IAEAzN,CAAC,YAAY0N,gBAFb,IAGA1N,CAAC,YAAY7G,KAAK,CAACgY,KAHnB,IAIAnR,CAAC,YAAYsO,cAJb,IAKAtO,CAAC,YAAY1G,GAAG,CAAC+K,cALjB,IAMArE,CAAC,YAAY1G,GAAG,CAACkN,SANjB,IAOAxG,CAAC,YAAY1G,GAAG,CAAC6M,UAPjB,IAQAnG,CAAC,YAAY1G,GAAG,CAAC4L,gBATnB,EAUE;AACAtH,QAAAA,CAAC,CAACoC,CAAD,CAAD;;AACA,aAAK,IAAIpC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,CAAC,CAACoD,QAAF,CAAWvB,MAA/B,EAAuCjE,CAAC,EAAxC,EAA4CgC,CAAC,CAACI,CAAC,CAACoD,QAAF,CAAWxF,CAAX,CAAD,CAAD;AAC7C;AACF;;AACD,SAAK,IAAIA,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG,KAAKwF,QAAL,CAAcvB,MAAlC,EAA0CjE,IAAC,EAA3C,EAA+CgC,CAAC,CAAC,KAAKwD,QAAL,CAAcxF,IAAd,CAAD,CAAD;AAChD;;AAtBgC;;AAwBnC,MAAM6a,YAAN,CAAmB;AACjB,SAAOkG,WAAP,CAAmB/gB,CAAnB,EAAsBgC,CAAtB,EAAyB;AACvB,AAAEhC,IAAAA,CAAC,CAACghB,cAAF,GACA,06CACAhhB,CAAC,CAACghB,cAFH,EAGEhhB,CAAC,CAACihB,YAAF,GACC,sMACAjhB,CAAC,CAACihB,YALL,EAMEjhB,CAAC,CAACghB,cAAF,GACC,sMACAhhB,CAAC,CAACghB,cARL,EASEhhB,CAAC,CAACihB,YAAF,GAAiBjhB,CAAC,CAACihB,YAAF,CAAeC,OAAf,CAChB,2BADgB,EAEhB,mjBAFgB,CATnB,EAaElhB,CAAC,CAACihB,YAAF,GACC,iQACAjhB,CAAC,CAACihB,YAfL,EAgBEjhB,CAAC,CAACihB,YAAF,GAAiBjhB,CAAC,CAACihB,YAAF,CAAeC,OAAf,CAChB,yBADgB,EAEhB,2PAFgB,CAhBnB,EAoBElhB,CAAC,CAACghB,cAAF,GACC,6eACAhhB,CAAC,CAACghB,cAtBL,EAuBEhhB,CAAC,CAACghB,cAAF,GACC,mkDACAhhB,CAAC,CAACghB,cAzBL,EA0BEhhB,CAAC,CAACghB,cAAF,GAAmBhhB,CAAC,CAACghB,cAAF,CAAiBE,OAAjB,CAClB,kCADkB,EAElB,EAFkB,CA1BrB,EA8BElhB,CAAC,CAACghB,cAAF,GAAmBhhB,CAAC,CAACghB,cAAF,CAAiBE,OAAjB,CAClB,iCADkB,EAElB,EAFkB,CA9BrB,EAkCClf,CAAC,YAAYqK,gBAAb,KACIrM,CAAC,CAACghB,cAAF,GAAmBhhB,CAAC,CAACghB,cAAF,CAAiBE,OAAjB,CACnB,qLADmB,EAEnB,EAFmB,CAApB,EAIAlhB,CAAC,CAACghB,cAAF,GAAmBhhB,CAAC,CAACghB,cAAF,CAAiBE,OAAjB,CAClB,+KADkB,EAElB,wCAFkB,CALtB,CAlCD,EA2CClf,CAAC,YAAYmK,kBAAb,KACInM,CAAC,CAACihB,YAAF,GACA,kKACAjhB,CAAC,CAACihB,YAFH,EAGAjhB,CAAC,CAACihB,YAAF,GAAiBjhB,CAAC,CAACihB,YAAF,CAAeC,OAAf,CAChB,iCADgB,EAEhB,oOAFgB,CAHjB,EAOAlhB,CAAC,CAACghB,cAAF,GACC,kKACAhhB,CAAC,CAACghB,cATH,EAUAhhB,CAAC,CAACghB,cAAF,GAAmBhhB,CAAC,CAACghB,cAAF,CAAiBE,OAAjB,CAClB,+CADkB,EAElB,iZAFkB,CAXtB,CA3CD,EA0DElhB,CAAC,CAACihB,YAAF,GAAiBjhB,CAAC,CAACihB,YAAF,CAAeC,OAAf,CAChB,mBADgB,EAEhB,mLAFgB,CA1DnB,EA8DElhB,CAAC,CAACihB,YAAF,GAAiBjhB,CAAC,CAACihB,YAAF,CAAeC,OAAf,CAChB,4BADgB,EAEhB,8LAFgB,CA9DnB,EAkEElhB,CAAC,CAACghB,cAAF,GACC,uJACAhhB,CAAC,CAACghB,cApEL,EAqEEhhB,CAAC,CAACghB,cAAF,GAAmBhhB,CAAC,CAACghB,cAAF,CAAiBE,OAAjB,CAClB,+CADkB,EAElB,qRAFkB,CArErB,EAyEElhB,CAAC,CAACghB,cAAF,GAAmBhhB,CAAC,CAACghB,cAAF,CAAiBE,OAAjB,CAClB,uDADkB,EAElB,iLAFkB,CAzErB;AA6EF;;AACD,SAAOpG,gBAAP,CAAwBnL,QAAxB,EAAkC;AAChC,QAAIwR,MAAM,GAAG,EAAb;;AACA,SAAK,IAAInhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2P,QAAQ,CAACJ,IAAT,CAActL,MAAlC,EAA0C,EAAEjE,CAA5C,EAA+C;AAC7C,YAAMgC,CAAC,GAAG2N,QAAQ,CAACJ,IAAT,CAAcvP,CAAd,CAAV;AACA,aAAOgC,CAAP,KAAamf,MAAM,IAAInf,CAAvB;AACD;;AACD,WAAOof,IAAI,CACR,wIAAuID,MAAO,2uDADtI,CAAX;AAGD;;AAzFgB;;AA2FnB,MAAM5b,QAAN,CAAe;AACbxF,EAAAA,WAAW,GAAG;AACZ,SAAKyQ,QAAL,GAAgB,EAAhB;AACD;;AACD/K,EAAAA,IAAI,CAACzF,CAAD,EAAI;AACN,SAAKwQ,QAAL,CAAc/K,IAAd,CAAmBzF,CAAnB;AACD;;AACD2F,EAAAA,GAAG,GAAG;AACJ,WAAO,MAAM,KAAK6K,QAAL,CAAcvM,MAApB,GAA6B,IAA7B,GAAoC,KAAKuM,QAAL,CAAc7K,GAAd,EAA3C;AACD;;AACDoC,EAAAA,GAAG,GAAG;AACJ,WAAO,KAAKyI,QAAL,CAAc,KAAKA,QAAL,CAAcvM,MAAd,GAAuB,CAArC,CAAP;AACD;;AACDyB,EAAAA,KAAK,GAAG;AACN,WAAO,MAAM,KAAK8K,QAAL,CAAcvM,MAA3B;AACD;;AAfY;;AAkCf,SAAShC,WAAT,CAAqBjC,CAArB,EAAwB;AACtB,AAAE,OAAKuP,IAAL,GAAYhU,KAAK,CAACwN,SAAN,CAAgByG,YAAhB,EAAb,EACE,KAAK6R,MAAL,GAAcrhB,CADhB,EAEE,KAAKshB,MAAL,GAAc,EAFhB,EAGE,KAAKC,MAAL,GAAc,EAHhB,EAIC,AAIC,KAAKC,aAAL,GAAqB,IAAIC,wBAAJ,CAA6B,IAA7B,CARvB;AASF;;AASD,SAASC,gBAAT,CAA0B1hB,CAA1B,EAA6BgC,CAA7B,EAAgC;AAC9B,AAAE,OAAK2f,OAAL,GAAe,EAAhB,EACE,KAAKC,KAAL,GAAa5hB,CADf,EAEE,KAAK6hB,GAAL,GAAW7f,CAFb,EAGE,KAAK8f,EAAL,GAAU;AAAEC,IAAAA,WAAW,EAAE,CAAC;AAAhB,GAHZ;AAIF;;AACD,SAASje,gBAAT,GAA4B;AAC1B,AAAE,OAAKyL,IAAL,GAAYhU,KAAK,CAACwN,SAAN,CAAgByG,YAAhB,EAAb,EACC,AACC,KAAKT,QAAL,GAAgB,IAAIxT,KAAK,CAAC8S,OAAV,EAFlB,EAGE,KAAKe,QAAL,GAAgB,IAAI7T,KAAK,CAACymB,KAAV,EAHlB,EAIE,KAAKpT,KAAL,GAAa,IAAIrT,KAAK,CAAC8S,OAAV,EAJf,EAKE,KAAKgB,YAAL,GAAoB,IAAI9T,KAAK,CAAC+T,OAAV,EALtB;AAMF;;AACD,SAAS2S,iBAAT,GAA6B;AAC3B,EAEG,KAAKC,MAAL,GAAcD,iBAAiB,CAACE,MAAlB,CAAyBC,WAF1C,EAGG,KAAKC,QAAL,GAAgB,GAHnB,EAIG,KAAKC,KAAL,GAAa,CAJhB,EAKG,KAAKC,aAAL,GAAqB,CAAC,GAAD,EAAM,IAAN,EAAY,GAAZ,EAAiB,GAAjB,CALxB,EAMG,KAAKC,gBAAL,GAAwB;AACvBC,IAAAA,IAAI,EAAE,CADiB;AAEvBC,IAAAA,SAAS,EAAE,EAFY;AAGvBC,IAAAA,OAAO,EAAE,EAHc;AAIvBC,IAAAA,QAAQ,EAAE;AAJa,GAN3B,EAYG,KAAKlf,MAAL,GAAc,CAAC,CAZlB,EAaG,KAAKmf,KAAL,GAAa,CAAC,CAbjB,EAcG,KAAKC,MAAL,GAAc,CAAC,CAdlB,EAeG,KAAKrgB,GAAL,GAAW,EAfd;AAgBD;;AACD,SAASgf,wBAAT,CAAkCzhB,CAAlC,EAAqC;AACnC,OAAKoC,CAAL,GAASpC,CAAT;AACD;;AACD,SAAS6gB,QAAT,CAAkB7gB,CAAlB,EAAqBgC,CAArB,EAAwBI,CAAxB,EAA2B;AACzB,QAAMS,CAAC,GAAG,IAAInH,GAAG,CAACqnB,SAAR,EAAV;AACA,AACA,MAAIjgB,CAAJ;AAAA,MACE8B,CAAC,GAAG,EADN;;AAEA,WAASG,CAAT,CAAW/E,CAAX,EAAc;AACZ6C,IAAAA,CAAC,CAACmgB,aAAF,CAAgBnX,CAAC,CAAC7L,CAAD,CAAjB,EAAsBoC,CAAtB;AACA,UAAMJ,CAAC,GAAG4C,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBC,UAAvB,CAAX;;AACA,SAAK,IAAIljB,IAAC,GAAG,CAAR,EAAWoC,CAAC,GAAGJ,CAAC,CAACiC,MAAtB,EAA8BjE,IAAC,GAAGoC,CAAlC,EAAqC,EAAEpC,IAAvC,EACE,IAAI6C,CAAC,CAACsgB,eAAF,CAAkBnhB,CAAC,CAAChC,IAAD,CAAD,CAAKqhB,MAAvB,EAA+B,CAAC,CAAhC,EAAmCpd,MAAnC,GAA4C,CAAhD,EAAmD;AACjDjC,MAAAA,CAAC,CAAChC,IAAD,CAAD,CAAKojB,gBAAL,CAAsBC,QAAtB;;AACA;AACD;AACJ;;AACD,WAAShe,CAAT,CAAWrF,CAAX,EAAc;AACZ6C,IAAAA,CAAC,CAACmgB,aAAF,CAAgBnX,CAAC,CAAC7L,CAAD,CAAjB,EAAsBoC,CAAtB;AACA,UAAMJ,CAAC,GAAG4C,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBK,QAAvB,CAAX;;AACA,SAAK,IAAItjB,IAAC,GAAG,CAAR,EAAWoC,CAAC,GAAGJ,CAAC,CAACiC,MAAtB,EAA8BjE,IAAC,GAAGoC,CAAlC,EAAqC,EAAEpC,IAAvC,EACE,IAAI6C,CAAC,CAACsgB,eAAF,CAAkBnhB,CAAC,CAAChC,IAAD,CAAD,CAAKqhB,MAAvB,EAA+B,CAAC,CAAhC,EAAmCpd,MAAnC,GAA4C,CAAhD,EAAmD;AACjDjC,MAAAA,CAAC,CAAChC,IAAD,CAAD,CAAKojB,gBAAL,CAAsBC,QAAtB;;AACA;AACD;AACJ;;AACD,WAAS/d,CAAT,CAAWtF,CAAX,EAAc;AACZ6C,IAAAA,CAAC,CAACmgB,aAAF,CAAgBnX,CAAC,CAAC7L,CAAD,CAAjB,EAAsBoC,CAAtB;AACA,UAAMJ,CAAC,GAAG4C,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBM,WAAvB,CAAD,CAAqCC,IAArC,CACLxjB,CAAD,IAAO6C,CAAC,CAACsgB,eAAF,CAAkBnjB,CAAC,CAACqhB,MAApB,EAA4B,CAAC,CAA7B,EAAgCpd,MAAhC,GAAyC,CAD1C,CAAV;AAAA,UAGEc,CAAC,GAAG,KAAK,CAAL,KAAW/C,CAAX,GAAeA,CAAC,CAACohB,gBAAjB,GAAoC,KAAK,CAH/C;AAIAtgB,IAAAA,CAAC,KAAKiC,CAAN,KACG,KAAK,CAAL,KAAWjC,CAAX,IAAgBA,CAAC,CAAC2gB,eAAF,EAAhB,EAAqC,KAAK,CAAL,KAAWzhB,CAAX,IAAgB+C,CAAC,CAACse,QAAF,EADxD,GAEGvgB,CAAC,GAAGiC,CAFP;AAGD;;AACD,WAASqB,CAAT,CAAWpG,CAAX,EAAc;AACZ,UAAMgC,CAAC,GAAG,CAAC,CAAD,IAAMhC,CAAC,CAAC0jB,KAAF,GAAUpoB,MAAM,CAACwiB,UAAP,GAAoB,CAApC,CAAV;AAAA,UACE1b,CAAC,GAAG,KAAKpC,CAAC,CAAC2jB,KAAF,GAAUroB,MAAM,CAAC0iB,WAAP,GAAqB,CAApC,CADN;AAEApZ,IAAAA,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBW,OAAvB,CAAD,CAAiCC,OAAjC,CAA0C7jB,CAAD,IAAO;AAC9CA,MAAAA,CAAC,CAACqhB,MAAF,CAASjc,WAAT,CAAqB0e,MAArB,CAA4B9hB,CAA5B,EAA+BI,CAA/B;AACD,KAFD;AAGD;;AACD,WAASuE,CAAT,CAAW3G,CAAX,EAAc;AACZ4E,IAAAA,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBc,QAAvB,CAAD,CAAkCF,OAAlC,CAA2C7hB,CAAD,IAAO;AAC/CA,MAAAA,CAAC,CAACohB,gBAAF,CAAmBvB,GAAnB,KAA2B7hB,CAAC,CAAC6hB,GAA7B,IAAoC7f,CAAC,CAACohB,gBAAF,CAAmBC,QAAnB,EAApC;AACD,KAFD;AAGD;;AACD,WAAS3X,CAAT,CAAW1L,CAAX,EAAc;AACZ4E,IAAAA,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBe,MAAvB,CAAD,CAAgCH,OAAhC,CAAyC7hB,CAAD,IAAO;AAC7CA,MAAAA,CAAC,CAACohB,gBAAF,CAAmBvB,GAAnB,KAA2B7hB,CAAC,CAAC6hB,GAA7B,IAAoC7f,CAAC,CAACohB,gBAAF,CAAmBC,QAAnB,EAApC;AACD,KAFD;AAGD;;AACD,WAASxX,CAAT,CAAW7J,CAAX,EAAc;AACZ,QAAII,CAAC,GAAGpC,CAAC,CAACikB,qBAAF,EAAR;AACA,WAAO;AACLxV,MAAAA,CAAC,EAAG,CAACzM,CAAC,CAACkiB,OAAF,GAAY9hB,CAAC,CAACyF,IAAf,IAAuBzF,CAAC,CAAC4K,KAA1B,GAAmC,CAAnC,GAAuC,CADrC;AAEL0B,MAAAA,CAAC,EAAG,EAAE1M,CAAC,CAACmiB,OAAF,GAAY/hB,CAAC,CAAC2F,GAAhB,IAAuB3F,CAAC,CAAC6K,MAA1B,GAAoC,CAApC,GAAwC;AAFtC,KAAP;AAID;AACC,OAAK6S,QAAL,GAAgB,YAAY;AAC5B,SAAKD,QAAL,GAAgB,CAAC,CAAjB;;AACA,SAAK,MAAM7f,CAAX,IAAgB0hB,gBAAgB,CAACuB,IAAjC,EAAuCre,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBjjB,CAAtB,CAAD,CAAD,GAA8B,EAA9B;;AACvCgC,IAAAA,CAAC,CAAC6P,cAAF,CAAiB,UAAU7R,CAAV,EAAa;AAC5B,UAAI,KAAK,CAAL,KAAWA,CAAC,CAACoF,WAAjB,EAA8B;AAC5BpF,QAAAA,CAAC,CAACoF,WAAF,CAAc+I,KAAd;AACA,cAAMnM,CAAC,GAAGhC,CAAC,CAACoF,WAAF,CAAcmc,MAAxB;;AACA,aAAK,IAAInf,CAAC,GAAG,CAAR,EAAWS,CAAC,GAAGb,CAAC,CAACiC,MAAtB,EAA8B7B,CAAC,GAAGS,CAAlC,EAAqC,EAAET,CAAvC,EACEwC,CAAC,CAAC5C,CAAC,CAACI,CAAD,CAAD,CAAKiB,IAAN,CAAD,CAAaoC,IAAb,CAAkB;AAAE2d,UAAAA,gBAAgB,EAAEphB,CAAC,CAACI,CAAD,CAArB;AAA0Bif,UAAAA,MAAM,EAAErhB;AAAlC,SAAlB;AACH;AACF,KAPD,GAQE4E,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBC,UAAvB,CAAD,CAAoCjf,MAApC,GAA6C,CAA7C,IACEjE,CAAC,CAACuf,gBAAF,CAAmB,aAAnB,EAAkCxa,CAAlC,EAAqC,CAAC,CAAtC,CATJ,EAUEH,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBK,QAAvB,CAAD,CAAkCrf,MAAlC,GAA2C,CAA3C,IACEjE,CAAC,CAACuf,gBAAF,CAAmB,WAAnB,EAAgCla,CAAhC,EAAmC,CAAC,CAApC,CAXJ,EAYET,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBM,WAAvB,CAAD,CAAqCtf,MAArC,GAA8C,CAA9C,IACEjE,CAAC,CAACuf,gBAAF,CAAmB,aAAnB,EAAkCja,CAAlC,EAAqC,CAAC,CAAtC,CAbJ,EAcEV,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBW,OAAvB,CAAD,CAAiC3f,MAAjC,GAA0C,CAA1C,IACEjE,CAAC,CAACuf,gBAAF,CAAmB,WAAnB,EAAgCnZ,CAAhC,EAAmC,CAAC,CAApC,CAfJ,EAgBExB,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBc,QAAvB,CAAD,CAAkC9f,MAAlC,GAA2C,CAA3C,IACEwb,QAAQ,CAACF,gBAAT,CAA0B,SAA1B,EAAqC5Y,CAArC,EAAwC,CAAC,CAAzC,CAjBJ,EAkBE/B,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBe,MAAvB,CAAD,CAAgC/f,MAAhC,GAAyC,CAAzC,IACEwb,QAAQ,CAACF,gBAAT,CAA0B,OAA1B,EAAmC7T,CAAnC,EAAsC,CAAC,CAAvC,CAnBJ;AAoBD,GAvBA,EAwBE,KAAK0Y,UAAL,GAAkB,YAAY;AAC7BpiB,IAAAA,CAAC,CAAC6P,cAAF,CAAiB,UAAU7R,CAAV,EAAa;AAC5B,WAAK,CAAL,KAAWA,CAAC,CAACoF,WAAb,IAA4BpF,CAAC,CAACoF,WAAF,CAAcif,GAAd,EAA5B;AACD,KAFD,GAGEzf,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBC,UAAvB,CAAD,CAAoCjf,MAApC,GAA6C,CAA7C,IACEjE,CAAC,CAACskB,mBAAF,CAAsB,aAAtB,EAAqCvf,CAArC,CAJJ,EAKEH,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBK,QAAvB,CAAD,CAAkCrf,MAAlC,GAA2C,CAA3C,IACEjE,CAAC,CAACskB,mBAAF,CAAsB,WAAtB,EAAmCjf,CAAnC,CANJ,EAOET,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBM,WAAvB,CAAD,CAAqCtf,MAArC,GAA8C,CAA9C,IACEjE,CAAC,CAACskB,mBAAF,CAAsB,aAAtB,EAAqChf,CAArC,CARJ,EASEV,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBW,OAAvB,CAAD,CAAiC3f,MAAjC,GAA0C,CAA1C,IACEjE,CAAC,CAACskB,mBAAF,CAAsB,aAAtB,EAAqCle,CAArC,EAAwC,CAAC,CAAzC,CAVJ,EAWExB,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBc,QAAvB,CAAD,CAAkC9f,MAAlC,GAA2C,CAA3C,IACEwb,QAAQ,CAAC6E,mBAAT,CAA6B,SAA7B,EAAwC3d,CAAxC,CAZJ,EAaE/B,CAAC,CAAC8c,gBAAgB,CAACuB,IAAjB,CAAsBe,MAAvB,CAAD,CAAgC/f,MAAhC,GAAyC,CAAzC,IACEwb,QAAQ,CAAC6E,mBAAT,CAA6B,OAA7B,EAAsC5Y,CAAtC,CAdJ,EAeG9G,CAAC,GAAG,EAfP,EAgBG,KAAKib,QAAL,GAAgB,CAAC,CAhBpB;AAiBD,GA1CF,EA2CE,KAAK0E,KAAL,GAAa,YAAY;AACxBviB,IAAAA,CAAC,CAAC6P,cAAF,CAAiB,UAAU7R,CAAV,EAAa;AAC5BA,MAAAA,CAAC,CAACoF,WAAF,CAAc+I,KAAd;AACD,KAFD;AAGD,GA/CF;AAgDF;AACC5S,KAAK,CAAC8kB,aAAN,GAAsB,UAAUrgB,CAAV,EAAagC,CAAb,EAAgB;AACtC,MAAII,CAAJ,EAAOS,CAAP,EAAUC,CAAV,EAAa8B,CAAb,EAAgBG,CAAhB,EAAmBM,CAAnB;AACA,OAAK,CAAL,KAAWrD,CAAX,IACEiF,OAAO,CAACC,IAAR,CACE,0EADF,CADF,EAIElF,CAAC,KAAKyd,QAAN,IACExY,OAAO,CAACgC,KAAR,CACE,0HADF,CALJ,EAQG,KAAKoY,MAAL,GAAcrhB,CARjB,EASG,KAAKsgB,UAAL,GAAkBte,CATrB,EAUG,KAAKyc,OAAL,GAAe,CAAC,CAVnB,EAWG,KAAKvU,MAAL,GAAc,IAAI3O,KAAK,CAAC8S,OAAV,EAXjB,EAYG,KAAKmW,WAAL,GAAmB,CAZtB,EAaG,KAAKC,WAAL,GAAmB,IAAI,CAb1B,EAcG,KAAKC,OAAL,GAAe,CAdlB,EAeG,KAAKC,OAAL,GAAe,IAAI,CAftB,EAgBG,KAAKC,aAAL,GAAqB,CAhBxB,EAiBG,KAAKC,aAAL,GAAqBpc,IAAI,CAACC,EAjB7B,EAkBG,KAAKoc,eAAL,GAAuB,CAAC,CAAD,GAAK,CAlB/B,EAmBG,KAAKC,eAAL,GAAuB,IAAI,CAnB9B,EAoBG,KAAKrE,aAAL,GAAqB,CAAC,CApBzB,EAqBG,KAAKsE,aAAL,GAAqB,IArBxB,EAsBG,KAAKvE,UAAL,GAAkB,CAAC,CAtBtB,EAuBG,KAAKwE,SAAL,GAAiB,CAvBpB,EAwBG,KAAK1E,YAAL,GAAoB,CAAC,CAxBxB,EAyBG,KAAKI,WAAL,GAAmB,CAzBtB,EA0BG,KAAKH,SAAL,GAAiB,CAAC,CA1BrB,EA2BG,KAAKI,QAAL,GAAgB,CA3BnB,EA4BG,KAAKsE,kBAAL,GAA0B,CAAC,CA5B9B,EA6BG,KAAKC,WAAL,GAAmB,CA7BtB,EA8BG,KAAKC,UAAL,GAAkB,CAAC,CA9BtB,EA+BG,KAAKC,eAAL,GAAuB,CA/B1B,EAgCG,KAAKC,UAAL,GAAkB,CAAC,CAhCtB,EAiCG,KAAKhR,IAAL,GAAY;AAAEiR,IAAAA,IAAI,EAAE,EAAR;AAAYC,IAAAA,EAAE,EAAE,EAAhB;AAAoBC,IAAAA,KAAK,EAAE,EAA3B;AAA+BC,IAAAA,MAAM,EAAE;AAAvC,GAjCf,EAkCG,KAAKC,YAAL,GAAoB;AACnBJ,IAAAA,IAAI,EAAEhqB,KAAK,CAACqqB,KAAN,CAAYC,MADC;AAEnBC,IAAAA,MAAM,EAAEvqB,KAAK,CAACqqB,KAAN,CAAYG,KAFD;AAGnBN,IAAAA,KAAK,EAAElqB,KAAK,CAACqqB,KAAN,CAAYI;AAHA,GAlCvB,EAuCG,KAAKC,OAAL,GAAe;AAAEC,IAAAA,GAAG,EAAE3qB,KAAK,CAAC4qB,KAAN,CAAYN,MAAnB;AAA2BO,IAAAA,GAAG,EAAE7qB,KAAK,CAAC4qB,KAAN,CAAYE;AAA5C,GAvClB,EAwCG,KAAKC,OAAL,GAAe,KAAKpc,MAAL,CAAY6K,KAAZ,EAxClB,EAyCG,KAAKwR,SAAL,GAAiB,KAAKlF,MAAL,CAAYtS,QAAZ,CAAqBgG,KAArB,EAzCpB,EA0CG,KAAKyR,KAAL,GAAa,KAAKnF,MAAL,CAAYza,IA1C5B,EA2CG,KAAK6f,aAAL,GAAqB,YAAY;AAChC,WAAOC,CAAC,CAACC,GAAT;AACD,GA7CH,EA8CG,KAAKC,iBAAL,GAAyB,YAAY;AACpC,WAAOF,CAAC,CAACG,KAAT;AACD,GAhDH,EAiDG,KAAKC,SAAL,GAAiB,YAAY;AAC5BxhB,IAAAA,CAAC,CAACghB,OAAF,CAAUtX,IAAV,CAAe1J,CAAC,CAAC4E,MAAjB,GACE5E,CAAC,CAACihB,SAAF,CAAYvX,IAAZ,CAAiB1J,CAAC,CAAC+b,MAAF,CAAStS,QAA1B,CADF,EAEGzJ,CAAC,CAACkhB,KAAF,GAAUlhB,CAAC,CAAC+b,MAAF,CAASza,IAFtB;AAGD,GArDH,EAsDG,KAAK2d,KAAL,GAAa,YAAY;AACxBjf,IAAAA,CAAC,CAAC4E,MAAF,CAAS8E,IAAT,CAAc1J,CAAC,CAACghB,OAAhB,GACEhhB,CAAC,CAAC+b,MAAF,CAAStS,QAAT,CAAkBC,IAAlB,CAAuB1J,CAAC,CAACihB,SAAzB,CADF,EAEGjhB,CAAC,CAAC+b,MAAF,CAASza,IAAT,GAAgBtB,CAAC,CAACkhB,KAFrB,EAGElhB,CAAC,CAAC+b,MAAF,CAASlB,sBAAT,EAHF,EAIE7a,CAAC,CAACyhB,aAAF,CAAgB3gB,CAAhB,CAJF,EAKEd,CAAC,CAACya,MAAF,EALF,EAMGhU,CAAC,GAAGF,CAAC,CAACmb,IANT;AAOD,GA9DH,EA+DG,KAAKjH,MAAL,IACG3d,CAAC,GAAG,IAAI7G,KAAK,CAAC8S,OAAV,EAAL,EACAxL,CAAC,GAAG,IAAItH,KAAK,CAAC4T,UAAV,GAAuB8X,kBAAvB,CACHjnB,CAAC,CAACknB,EADC,EAEH,IAAI3rB,KAAK,CAAC8S,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAFG,CADJ,EAKAvL,CAAC,GAAGD,CAAC,CAACkS,KAAF,GAAUoS,MAAV,EALJ,EAMAviB,CAAC,GAAG,IAAIrJ,KAAK,CAAC8S,OAAV,EANJ,EAOAtJ,CAAC,GAAG,IAAIxJ,KAAK,CAAC4T,UAAV,EAPJ,EAQA9J,CAAC,GAAG,IAAIoD,IAAI,CAACC,EARb,EASD,YAAY;AACV,QAAI1I,CAAC,GAAGsF,CAAC,CAAC+b,MAAF,CAAStS,QAAjB;AACA3M,IAAAA,CAAC,CAAC4M,IAAF,CAAOhP,CAAP,EAAUonB,GAAV,CAAc9hB,CAAC,CAAC4E,MAAhB,GACE9H,CAAC,CAACilB,eAAF,CAAkBxkB,CAAlB,CADF,EAEE6jB,CAAC,CAACY,cAAF,CAAiBllB,CAAjB,CAFF,EAGEkD,CAAC,CAAC8f,UAAF,IACErZ,CAAC,KAAKF,CAAC,CAACmb,IADV,IAEEO,CAAC,CAAG,IAAI9e,IAAI,CAACC,EAAV,GAAgB,EAAhB,GAAqB,EAAtB,GAA4BpD,CAAC,CAAC+f,eAA/B,CALL,EAME/f,CAAC,CAACob,aAAF,IACMgG,CAAC,CAACG,KAAF,IAAWW,CAAC,CAACX,KAAF,GAAUvhB,CAAC,CAAC0f,aAAxB,EACA0B,CAAC,CAACC,GAAF,IAASa,CAAC,CAACb,GAAF,GAAQrhB,CAAC,CAAC0f,aAFxB,KAGM0B,CAAC,CAACG,KAAF,IAAWW,CAAC,CAACX,KAAd,EAAuBH,CAAC,CAACC,GAAF,IAASa,CAAC,CAACb,GAHvC,CANF;AAUA,QAAI3kB,CAAC,GAAGsD,CAAC,CAACwf,eAAV;AAAA,QACEne,CAAC,GAAGrB,CAAC,CAACyf,eADR;AAEA,WACE0C,QAAQ,CAACzlB,CAAD,CAAR,IACEylB,QAAQ,CAAC9gB,CAAD,CADV,KAEG3E,CAAC,GAAG,CAACyG,IAAI,CAACC,EAAV,GAAgB1G,CAAC,IAAIqD,CAArB,GAA0BrD,CAAC,GAAGyG,IAAI,CAACC,EAAT,KAAgB1G,CAAC,IAAIqD,CAArB,CAA1B,EACDsB,CAAC,GAAG,CAAC8B,IAAI,CAACC,EAAV,GAAgB/B,CAAC,IAAItB,CAArB,GAA0BsB,CAAC,GAAG8B,IAAI,CAACC,EAAT,KAAgB/B,CAAC,IAAItB,CAArB,CADzB,EAEAqhB,CAAC,CAACG,KAAF,GACC7kB,CAAC,GAAG2E,CAAJ,GACI8B,IAAI,CAAC+E,GAAL,CAASxL,CAAT,EAAYyG,IAAI,CAACgF,GAAL,CAAS9G,CAAT,EAAY+f,CAAC,CAACG,KAAd,CAAZ,CADJ,GAEIH,CAAC,CAACG,KAAF,GAAU,CAAC7kB,CAAC,GAAG2E,CAAL,IAAU,CAApB,GACA8B,IAAI,CAAC+E,GAAL,CAASxL,CAAT,EAAY0kB,CAAC,CAACG,KAAd,CADA,GAEApe,IAAI,CAACgF,GAAL,CAAS9G,CAAT,EAAY+f,CAAC,CAACG,KAAd,CATR,GAUCH,CAAC,CAACC,GAAF,GAAQle,IAAI,CAAC+E,GAAL,CAASlI,CAAC,CAACsf,aAAX,EAA0Bnc,IAAI,CAACgF,GAAL,CAASnI,CAAC,CAACuf,aAAX,EAA0B6B,CAAC,CAACC,GAA5B,CAA1B,CAVT,EAWAD,CAAC,CAACgB,QAAF,EAXA,EAYChB,CAAC,CAACiB,MAAF,IAAYtO,CAZb,EAaCqN,CAAC,CAACiB,MAAF,GAAWlf,IAAI,CAAC+E,GAAL,CACVlI,CAAC,CAACkf,WADQ,EAEV/b,IAAI,CAACgF,GAAL,CAASnI,CAAC,CAACmf,WAAX,EAAwBiC,CAAC,CAACiB,MAA1B,CAFU,CAbZ,EAiBA,CAAC,CAAD,KAAOriB,CAAC,CAACob,aAAT,GACIpb,CAAC,CAAC4E,MAAF,CAAS0d,eAAT,CAAyBlZ,CAAzB,EAA4BpJ,CAAC,CAAC0f,aAA9B,CADJ,GAEI1f,CAAC,CAAC4E,MAAF,CAAStE,GAAT,CAAa8I,CAAb,CAnBJ,EAoBAtM,CAAC,CAACylB,gBAAF,CAAmBnB,CAAnB,CApBA,EAqBAtkB,CAAC,CAACilB,eAAF,CAAkBvkB,CAAlB,CArBA,EAsBA9C,CAAC,CAACgP,IAAF,CAAO1J,CAAC,CAAC4E,MAAT,EAAiBtE,GAAjB,CAAqBxD,CAArB,CAtBA,EAuBAkD,CAAC,CAAC+b,MAAF,CAASyC,MAAT,CAAgBxe,CAAC,CAAC4E,MAAlB,CAvBA,EAwBA,CAAC,CAAD,KAAO5E,CAAC,CAACob,aAAT,IACM8G,CAAC,CAACX,KAAF,IAAW,IAAIvhB,CAAC,CAAC0f,aAAlB,EACAwC,CAAC,CAACb,GAAF,IAAS,IAAIrhB,CAAC,CAAC0f,aADf,EAEDtW,CAAC,CAACoZ,cAAF,CAAiB,IAAIxiB,CAAC,CAAC0f,aAAvB,CAHJ,KAIKwC,CAAC,CAAC5K,GAAF,CAAM,CAAN,EAAS,CAAT,EAAY,CAAZ,GAAgBlO,CAAC,CAACkO,GAAF,CAAM,CAAN,EAAS,CAAT,EAAY,CAAZ,CAJrB,CAxBA,EA6BCvD,CAAC,GAAG,CA7BL,EA8BA,CAAC,EACC0O,CAAC,IACDnjB,CAAC,CAACojB,iBAAF,CAAoB1iB,CAAC,CAAC+b,MAAF,CAAStS,QAA7B,IAAyCkZ,CADzC,IAEA,KAAK,IAAIljB,CAAC,CAACmjB,GAAF,CAAM5iB,CAAC,CAAC+b,MAAF,CAASnS,UAAf,CAAT,IAAuC+Y,CAHxC,CAAD,KAKG3iB,CAAC,CAACyhB,aAAF,CAAgB3gB,CAAhB,GACDxB,CAAC,CAACoK,IAAF,CAAO1J,CAAC,CAAC+b,MAAF,CAAStS,QAAhB,CADC,EAEDhK,CAAC,CAACiK,IAAF,CAAO1J,CAAC,CAAC+b,MAAF,CAASnS,UAAhB,CAFC,EAGA6Y,CAAC,GAAG,CAAC,CAHL,EAID,CAAC,CATH,CA/BF;AA0CD,GAlEF,CA/DH,EAkIG,KAAKI,OAAL,GAAe,YAAY;AAC1B7iB,IAAAA,CAAC,CAACgb,UAAF,CAAagE,mBAAb,CAAiC,aAAjC,EAAgD8D,EAAhD,EAAoD,CAAC,CAArD,GACE9iB,CAAC,CAACgb,UAAF,CAAagE,mBAAb,CAAiC,aAAjC,EAAgD+D,CAAhD,EAAmD,CAAC,CAApD,CADF,EAEE/iB,CAAC,CAACgb,UAAF,CAAagE,mBAAb,CAAiC,OAAjC,EAA0CgE,CAA1C,EAA6C,CAAC,CAA9C,CAFF,EAGEhjB,CAAC,CAACgb,UAAF,CAAagE,mBAAb,CAAiC,YAAjC,EAA+CiE,CAA/C,EAAkD,CAAC,CAAnD,CAHF,EAIEjjB,CAAC,CAACgb,UAAF,CAAagE,mBAAb,CAAiC,UAAjC,EAA6CkE,CAA7C,EAAgD,CAAC,CAAjD,CAJF,EAKEljB,CAAC,CAACgb,UAAF,CAAagE,mBAAb,CAAiC,WAAjC,EAA8CmE,CAA9C,EAAiD,CAAC,CAAlD,CALF,EAMEnjB,CAAC,CAACgb,UAAF,CAAaoI,aAAb,CAA2BpE,mBAA3B,CAA+C,aAA/C,EAA8DqE,CAA9D,EAAiE,CAAC,CAAlE,CANF,EAOErjB,CAAC,CAACgb,UAAF,CAAaoI,aAAb,CAA2BpE,mBAA3B,CAA+C,WAA/C,EAA4DsE,CAA5D,EAA+D,CAAC,CAAhE,CAPF,EAQEtjB,CAAC,CAACgb,UAAF,CAAagE,mBAAb,CAAiC,SAAjC,EAA4CuE,CAA5C,EAA+C,CAAC,CAAhD,CARF;AASD,GA5IH;;AA6IA,MAAIvjB,CAAC,GAAG,IAAR;AAAA,MACEc,CAAC,GAAG;AAAE/C,IAAAA,IAAI,EAAE;AAAR,GADN;AAAA,MAEEsD,CAAC,GAAG;AAAEtD,IAAAA,IAAI,EAAE;AAAR,GAFN;AAAA,MAGEqI,CAAC,GAAG;AAAErI,IAAAA,IAAI,EAAE;AAAR,GAHN;AAAA,MAIEwI,CAAC,GAAG;AACFmb,IAAAA,IAAI,EAAE,CAAC,CADL;AAEFnB,IAAAA,MAAM,EAAE,CAFN;AAGFE,IAAAA,KAAK,EAAE,CAHL;AAIFC,IAAAA,GAAG,EAAE,CAJH;AAKF8C,IAAAA,YAAY,EAAE,CALZ;AAMFC,IAAAA,SAAS,EAAE,CANT;AAOFC,IAAAA,eAAe,EAAE,CAPf;AAQFC,IAAAA,kBAAkB,EAAE;AARlB,GAJN;AAAA,MAcEld,CAAC,GAAGF,CAAC,CAACmb,IAdR;AAAA,MAeEiB,CAAC,GAAG,IAfN;AAAA,MAgBEvB,CAAC,GAAG,IAAInrB,KAAK,CAAC2tB,SAAV,EAhBN;AAAA,MAiBE1B,CAAC,GAAG,IAAIjsB,KAAK,CAAC2tB,SAAV,EAjBN;AAAA,MAkBE7P,CAAC,GAAG,CAlBN;AAAA,MAmBE3K,CAAC,GAAG,IAAInT,KAAK,CAAC8S,OAAV,EAnBN;AAAA,MAoBE0Z,CAAC,GAAG,CAAC,CApBP;AAAA,MAqBEoB,CAAC,GAAG,IAAI5tB,KAAK,CAAC0b,OAAV,EArBN;AAAA,MAsBEmS,CAAC,GAAG,IAAI7tB,KAAK,CAAC0b,OAAV,EAtBN;AAAA,MAuBExI,CAAC,GAAG,IAAIlT,KAAK,CAAC0b,OAAV,EAvBN;AAAA,MAwBEqC,CAAC,GAAG,IAAI/d,KAAK,CAAC0b,OAAV,EAxBN;AAAA,MAyBEoS,CAAC,GAAG,IAAI9tB,KAAK,CAAC0b,OAAV,EAzBN;AAAA,MA0BEqS,CAAC,GAAG,IAAI/tB,KAAK,CAAC0b,OAAV,EA1BN;AAAA,MA2BEuB,CAAC,GAAG,IAAIjd,KAAK,CAAC0b,OAAV,EA3BN;AAAA,MA4BEsS,CAAC,GAAG,IAAIhuB,KAAK,CAAC0b,OAAV,EA5BN;AAAA,MA6BEuS,CAAC,GAAG,IAAIjuB,KAAK,CAAC0b,OAAV,EA7BN;;AA8BA,WAASwS,CAAT,GAAa;AACX,WAAOhhB,IAAI,CAACihB,GAAL,CAAS,IAAT,EAAepkB,CAAC,CAAC2f,SAAjB,CAAP;AACD;;AACD,WAASsC,CAAT,CAAWvnB,CAAX,EAAc;AACZwnB,IAAAA,CAAC,CAACX,KAAF,IAAW7mB,CAAX;AACD;;AACD,WAAS2pB,CAAT,CAAW3pB,CAAX,EAAc;AACZwnB,IAAAA,CAAC,CAACb,GAAF,IAAS3mB,CAAT;AACD;;AACD,MAAI4pB,CAAJ;AAAA,MACEC,CAAC,IACGD,CAAC,GAAG,IAAIruB,KAAK,CAAC8S,OAAV,EAAL,EACD,UAAUrO,CAAV,EAAagC,CAAb,EAAgB;AACd4nB,IAAAA,CAAC,CAACE,mBAAF,CAAsB9nB,CAAtB,EAAyB,CAAzB,GAA6B4nB,CAAC,CAAC9B,cAAF,CAAiB,CAAC9nB,CAAlB,CAA7B,EAAmD0O,CAAC,CAAC9I,GAAF,CAAMgkB,CAAN,CAAnD;AACD,GAJF,CADH;AAAA,MAMEG,CAAC,GAAI,YAAY;AACf,QAAI/pB,CAAC,GAAG,IAAIzE,KAAK,CAAC8S,OAAV,EAAR;AACA,WAAO,UAAUrM,CAAV,EAAaI,CAAb,EAAgB;AACrB,OAAC,CAAD,KAAOkD,CAAC,CAAC4f,kBAAT,GACIllB,CAAC,CAAC8pB,mBAAF,CAAsB1nB,CAAtB,EAAyB,CAAzB,CADJ,IAEKpC,CAAC,CAAC8pB,mBAAF,CAAsB1nB,CAAtB,EAAyB,CAAzB,GAA6BpC,CAAC,CAACgqB,YAAF,CAAe1kB,CAAC,CAAC+b,MAAF,CAAS6F,EAAxB,EAA4BlnB,CAA5B,CAFlC,GAGEA,CAAC,CAAC8nB,cAAF,CAAiB9lB,CAAjB,CAHF,EAIE0M,CAAC,CAAC9I,GAAF,CAAM5F,CAAN,CAJF;AAKD,KAND;AAOD,GATG,EANN;AAAA,MAgBEiqB,CAAC,GAAI,YAAY;AACf,QAAIjqB,CAAC,GAAG,IAAIzE,KAAK,CAAC8S,OAAV,EAAR;AACA,WAAO,UAAUrM,CAAV,EAAaI,CAAb,EAAgB;AACrB,UAAIS,CAAC,GAAGyC,CAAC,CAACgb,UAAV;;AACA,UAAIhb,CAAC,CAAC+b,MAAF,CAAS6I,mBAAb,EAAkC;AAChC,YAAIpnB,CAAC,GAAGwC,CAAC,CAAC+b,MAAF,CAAStS,QAAjB;AACA/O,QAAAA,CAAC,CAACgP,IAAF,CAAOlM,CAAP,EAAUskB,GAAV,CAAc9hB,CAAC,CAAC4E,MAAhB;AACA,YAAItF,CAAC,GAAG5E,CAAC,CAACiE,MAAF,EAAR;AACEW,QAAAA,CAAC,IAAI6D,IAAI,CAAC0hB,GAAL,CAAW7kB,CAAC,CAAC+b,MAAF,CAASxY,GAAT,GAAe,CAAhB,GAAqBJ,IAAI,CAACC,EAA3B,GAAiC,GAA1C,CAAN,EACCmhB,CAAC,CAAE,IAAI7nB,CAAJ,GAAQ4C,CAAT,GAAc/B,CAAC,CAACunB,YAAjB,EAA+B9kB,CAAC,CAAC+b,MAAF,CAAStO,MAAxC,CADF,EAECgX,CAAC,CAAE,IAAI3nB,CAAJ,GAAQwC,CAAT,GAAc/B,CAAC,CAACunB,YAAjB,EAA+B9kB,CAAC,CAAC+b,MAAF,CAAStO,MAAxC,CAFF;AAGF,OAPD,MAQEzN,CAAC,CAAC+b,MAAF,CAASgJ,oBAAT,IACKR,CAAC,CACC7nB,CAAC,IAAIsD,CAAC,CAAC+b,MAAF,CAAS1Z,KAAT,GAAiBrC,CAAC,CAAC+b,MAAF,CAASxZ,IAA9B,CAAF,GACEvC,CAAC,CAAC+b,MAAF,CAASza,IADX,GAEE/D,CAAC,CAACynB,WAHJ,EAIAhlB,CAAC,CAAC+b,MAAF,CAAStO,MAJT,CAAD,EAMDgX,CAAC,CACE3nB,CAAC,IAAIkD,CAAC,CAAC+b,MAAF,CAAStZ,GAAT,GAAezC,CAAC,CAAC+b,MAAF,CAASpZ,MAA5B,CAAF,GACE3C,CAAC,CAAC+b,MAAF,CAASza,IADX,GAEE/D,CAAC,CAACunB,YAHL,EAIC9kB,CAAC,CAAC+b,MAAF,CAAStO,MAJV,CAPL,KAaK9L,OAAO,CAACC,IAAR,CACC,8EADD,GAGA5B,CAAC,CAACkb,SAAF,GAAc,CAAC,CAhBpB;AAiBH,KA3BD;AA4BD,GA9BG,EAhBN;;AA+CA,WAAS+J,CAAT,CAAWvqB,CAAX,EAAc;AACZsF,IAAAA,CAAC,CAAC+b,MAAF,CAAS6I,mBAAT,GACK7Q,CAAC,IAAIrZ,CADV,GAEIsF,CAAC,CAAC+b,MAAF,CAASgJ,oBAAT,IACE/kB,CAAC,CAAC+b,MAAF,CAASza,IAAT,GAAgB6B,IAAI,CAAC+E,GAAL,CAChBlI,CAAC,CAACof,OADc,EAEhBjc,IAAI,CAACgF,GAAL,CAASnI,CAAC,CAACqf,OAAX,EAAoBrf,CAAC,CAAC+b,MAAF,CAASza,IAAT,GAAgB5G,CAApC,CAFgB,CAAjB,EAIDsF,CAAC,CAAC+b,MAAF,CAASlB,sBAAT,EAJC,EAKA4H,CAAC,GAAG,CAAC,CANN,KAOC9gB,OAAO,CAACC,IAAR,CACC,qFADD,GAGA5B,CAAC,CAACmb,UAAF,GAAe,CAAC,CAVjB,CAFJ;AAaD;;AACD,WAAS+J,CAAT,CAAWxqB,CAAX,EAAc;AACZsF,IAAAA,CAAC,CAAC+b,MAAF,CAAS6I,mBAAT,GACK7Q,CAAC,IAAIrZ,CADV,GAEIsF,CAAC,CAAC+b,MAAF,CAASgJ,oBAAT,IACE/kB,CAAC,CAAC+b,MAAF,CAASza,IAAT,GAAgB6B,IAAI,CAAC+E,GAAL,CAChBlI,CAAC,CAACof,OADc,EAEhBjc,IAAI,CAACgF,GAAL,CAASnI,CAAC,CAACqf,OAAX,EAAoBrf,CAAC,CAAC+b,MAAF,CAASza,IAAT,GAAgB5G,CAApC,CAFgB,CAAjB,EAIDsF,CAAC,CAAC+b,MAAF,CAASlB,sBAAT,EAJC,EAKA4H,CAAC,GAAG,CAAC,CANN,KAOC9gB,OAAO,CAACC,IAAR,CACC,qFADD,GAGA5B,CAAC,CAACmb,UAAF,GAAe,CAAC,CAVjB,CAFJ;AAaD;;AACD,WAASgK,CAAT,CAAWzqB,CAAX,EAAc;AACZmpB,IAAAA,CAAC,CAACvM,GAAF,CAAM5c,CAAC,CAACkkB,OAAR,EAAiBlkB,CAAC,CAACmkB,OAAnB;AACD;;AACD,WAASuG,CAAT,CAAW1qB,CAAX,EAAc;AACZsZ,IAAAA,CAAC,CAACsD,GAAF,CAAM5c,CAAC,CAACkkB,OAAR,EAAiBlkB,CAAC,CAACmkB,OAAnB;AACD;;AACD,WAASwG,CAAT,CAAW3qB,CAAX,EAAc;AACZ,QAAI,KAAKA,CAAC,CAACimB,OAAF,CAAUhiB,MAAnB,EAA2BklB,CAAC,CAACvM,GAAF,CAAM5c,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAnB,EAA0B1jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAvC,EAA3B,KACK;AACH,UAAI3hB,CAAC,GAAG,OAAOhC,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAb,GAAqB1jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAzC,CAAR;AAAA,UACEthB,CAAC,GAAG,OAAOpC,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAb,GAAqB3jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAzC,CADN;;AAEAwF,MAAAA,CAAC,CAACvM,GAAF,CAAM5a,CAAN,EAASI,CAAT;AACD;AACF;;AACD,WAASuM,CAAT,CAAW3O,CAAX,EAAc;AACZ,QAAI,KAAKA,CAAC,CAACimB,OAAF,CAAUhiB,MAAnB,EAA2BqV,CAAC,CAACsD,GAAF,CAAM5c,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAnB,EAA0B1jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAvC,EAA3B,KACK;AACH,UAAI3hB,CAAC,GAAG,OAAOhC,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAb,GAAqB1jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAzC,CAAR;AAAA,UACEthB,CAAC,GAAG,OAAOpC,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAb,GAAqB3jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAzC,CADN;AAEArK,MAAAA,CAAC,CAACsD,GAAF,CAAM5a,CAAN,EAASI,CAAT;AACD;AACF;;AACD,WAASwoB,CAAT,CAAW5qB,CAAX,EAAc;AACZ,QAAIgC,CAAC,GAAGhC,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAb,GAAqB1jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAA1C;AAAA,QACEthB,CAAC,GAAGpC,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAb,GAAqB3jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KADxC;AAAA,QAEE9gB,CAAC,GAAG4F,IAAI,CAACoiB,IAAL,CAAU7oB,CAAC,GAAGA,CAAJ,GAAQI,CAAC,GAAGA,CAAtB,CAFN;AAGAoW,IAAAA,CAAC,CAACoE,GAAF,CAAM,CAAN,EAAS/Z,CAAT;AACD;;AACD,WAASioB,CAAT,CAAW9qB,CAAX,EAAc;AACZ,QAAI,KAAKA,CAAC,CAACimB,OAAF,CAAUhiB,MAAnB,EAA2BmlB,CAAC,CAACxM,GAAF,CAAM5c,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAnB,EAA0B1jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAvC,EAA3B,KACK;AACH,UAAI3hB,CAAC,GAAG,OAAOhC,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAb,GAAqB1jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAzC,CAAR;AAAA,UACEthB,CAAC,GAAG,OAAOpC,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAb,GAAqB3jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAzC,CADN;AAEAyF,MAAAA,CAAC,CAACxM,GAAF,CAAM5a,CAAN,EAASI,CAAT;AACD;AACDqM,IAAAA,CAAC,CAACsc,UAAF,CAAa3B,CAAb,EAAgBD,CAAhB,EAAmBrB,cAAnB,CAAkCxiB,CAAC,CAACqb,WAApC;AACA,QAAI9d,CAAC,GAAGyC,CAAC,CAACgb,UAAV;AACAiH,IAAAA,CAAC,CAAE,IAAI9e,IAAI,CAACC,EAAT,GAAc+F,CAAC,CAACA,CAAjB,GAAsB5L,CAAC,CAACunB,YAAzB,CAAD,EACET,CAAC,CAAE,IAAIlhB,IAAI,CAACC,EAAT,GAAc+F,CAAC,CAACC,CAAjB,GAAsB7L,CAAC,CAACunB,YAAzB,CADH,EAEEjB,CAAC,CAACna,IAAF,CAAOoa,CAAP,CAFF;AAGD;;AACD,WAAS4B,CAAT,CAAWhrB,CAAX,EAAc;AACZ,QAAI,KAAKA,CAAC,CAACimB,OAAF,CAAUhiB,MAAnB,EAA2BolB,CAAC,CAACzM,GAAF,CAAM5c,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAnB,EAA0B1jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAvC,EAA3B,KACK;AACH,UAAI3hB,CAAC,GAAG,OAAOhC,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAb,GAAqB1jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAzC,CAAR;AAAA,UACEthB,CAAC,GAAG,OAAOpC,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAb,GAAqB3jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAzC,CADN;AAEA0F,MAAAA,CAAC,CAACzM,GAAF,CAAM5a,CAAN,EAASI,CAAT;AACD;AACDknB,IAAAA,CAAC,CAACyB,UAAF,CAAa1B,CAAb,EAAgB/P,CAAhB,EAAmBwO,cAAnB,CAAkCxiB,CAAC,CAACsb,QAApC,GAA+CqJ,CAAC,CAACX,CAAC,CAAC7a,CAAH,EAAM6a,CAAC,CAAC5a,CAAR,CAAhD,EAA4D4K,CAAC,CAACtK,IAAF,CAAOqa,CAAP,CAA5D;AACD;;AACD,WAAS4B,CAAT,CAAWjrB,CAAX,EAAc;AACZ,QAAIgC,CAAC,GAAGhC,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAAb,GAAqB1jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAavC,KAA1C;AAAA,QACEthB,CAAC,GAAGpC,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KAAb,GAAqB3jB,CAAC,CAACimB,OAAF,CAAU,CAAV,EAAatC,KADxC;AAAA,QAEE9gB,CAAC,GAAG4F,IAAI,CAACoiB,IAAL,CAAU7oB,CAAC,GAAGA,CAAJ,GAAQI,CAAC,GAAGA,CAAtB,CAFN;AAGAmnB,IAAAA,CAAC,CAAC3M,GAAF,CAAM,CAAN,EAAS/Z,CAAT,GAAa2mB,CAAC,CAAC5M,GAAF,CAAM,CAAN,EAASnU,IAAI,CAACihB,GAAL,CAASH,CAAC,CAAC7a,CAAF,GAAM8J,CAAC,CAAC9J,CAAjB,EAAoBpJ,CAAC,CAAC2f,SAAtB,CAAT,CAAb,EAAyDsF,CAAC,CAACf,CAAC,CAAC9a,CAAH,CAA1D,EAAiE8J,CAAC,CAACxJ,IAAF,CAAOua,CAAP,CAAjE;AACD;;AACD,WAASlB,CAAT,CAAWroB,CAAX,EAAc;AACZ,QAAI,CAAC,CAAD,KAAOsF,CAAC,CAACmZ,OAAb,EACE,QAAQze,CAAC,CAACkrB,WAAV;AACE,WAAK,OAAL;AACA,WAAK,KAAL;AACE,SAAE,UAAUlrB,CAAV,EAAa;AACb,cAAIgC,CAAJ;;AACA,kBACGhC,CAAC,CAACmrB,cAAF,IACD7lB,CAAC,CAACgb,UAAF,CAAa8K,KAAb,GAAqB9lB,CAAC,CAACgb,UAAF,CAAa8K,KAAb,EAArB,GAA4C9vB,MAAM,CAAC8vB,KAAP,EAD3C,EAEDprB,CAAC,CAACqrB,MAHJ;AAKE,iBAAK,CAAL;AACErpB,cAAAA,CAAC,GAAGsD,CAAC,CAACqgB,YAAF,CAAeJ,IAAnB;AACA;;AACF,iBAAK,CAAL;AACEvjB,cAAAA,CAAC,GAAGsD,CAAC,CAACqgB,YAAF,CAAeG,MAAnB;AACA;;AACF,iBAAK,CAAL;AACE9jB,cAAAA,CAAC,GAAGsD,CAAC,CAACqgB,YAAF,CAAeF,KAAnB;AACA;;AACF;AACEzjB,cAAAA,CAAC,GAAG,CAAC,CAAL;AAfJ;;AAiBA,kBAAQA,CAAR;AACE,iBAAKzG,KAAK,CAACqqB,KAAN,CAAYG,KAAjB;AACE,kBAAI,CAAC,CAAD,KAAOzgB,CAAC,CAACmb,UAAb,EAAyB;AACzB,eAAE,UAAUzgB,CAAV,EAAa;AACbwY,gBAAAA,CAAC,CAACoE,GAAF,CAAM5c,CAAC,CAACkkB,OAAR,EAAiBlkB,CAAC,CAACmkB,OAAnB;AACD,eAFA,CAEEnkB,CAFF,CAAD,EAGG+L,CAAC,GAAGF,CAAC,CAACka,KAHT;AAIA;;AACF,iBAAKxqB,KAAK,CAACqqB,KAAN,CAAYC,MAAjB;AACE,kBAAI7lB,CAAC,CAACsrB,OAAF,IAAatrB,CAAC,CAACurB,OAAf,IAA0BvrB,CAAC,CAACwrB,QAAhC,EAA0C;AACxC,oBAAI,CAAC,CAAD,KAAOlmB,CAAC,CAACkb,SAAb,EAAwB;AACxBkK,gBAAAA,CAAC,CAAC1qB,CAAD,CAAD,EAAO+L,CAAC,GAAGF,CAAC,CAACma,GAAb;AACD,eAHD,MAGO;AACL,oBAAI,CAAC,CAAD,KAAO1gB,CAAC,CAACib,YAAb,EAA2B;AAC3BkK,gBAAAA,CAAC,CAACzqB,CAAD,CAAD,EAAO+L,CAAC,GAAGF,CAAC,CAACga,MAAb;AACD;;AACD;;AACF,iBAAKtqB,KAAK,CAACqqB,KAAN,CAAYI,GAAjB;AACE,kBAAIhmB,CAAC,CAACsrB,OAAF,IAAatrB,CAAC,CAACurB,OAAf,IAA0BvrB,CAAC,CAACwrB,QAAhC,EAA0C;AACxC,oBAAI,CAAC,CAAD,KAAOlmB,CAAC,CAACib,YAAb,EAA2B;AAC3BkK,gBAAAA,CAAC,CAACzqB,CAAD,CAAD,EAAO+L,CAAC,GAAGF,CAAC,CAACga,MAAb;AACD,eAHD,MAGO;AACL,oBAAI,CAAC,CAAD,KAAOvgB,CAAC,CAACkb,SAAb,EAAwB;AACxBkK,gBAAAA,CAAC,CAAC1qB,CAAD,CAAD,EAAO+L,CAAC,GAAGF,CAAC,CAACma,GAAb;AACD;;AACD;;AACF;AACEja,cAAAA,CAAC,GAAGF,CAAC,CAACmb,IAAN;AA3BJ;;AA6BAjb,UAAAA,CAAC,KAAKF,CAAC,CAACmb,IAAR,KACG1hB,CAAC,CAACgb,UAAF,CAAaoI,aAAb,CAA2BnJ,gBAA3B,CACC,aADD,EAECoJ,CAFD,EAGC,CAAC,CAHF,GAKDrjB,CAAC,CAACgb,UAAF,CAAaoI,aAAb,CAA2BnJ,gBAA3B,CAA4C,WAA5C,EAAyDqJ,CAAzD,EAA4D,CAAC,CAA7D,CALC,EAMDtjB,CAAC,CAACyhB,aAAF,CAAgBpgB,CAAhB,CAPF;AAQD,SAxDA,CAwDE3G,CAxDF,CAAD;AAHJ;AA6DH;;AACD,WAAS2oB,CAAT,CAAW3oB,CAAX,EAAc;AACZ,QAAI,CAAC,CAAD,KAAOsF,CAAC,CAACmZ,OAAb,EACE,QAAQze,CAAC,CAACkrB,WAAV;AACE,WAAK,OAAL;AACA,WAAK,KAAL;AACE,SAAE,UAAUlrB,CAAV,EAAa;AACb,cAAI,CAAC,CAAD,KAAOsF,CAAC,CAACmZ,OAAb,EAAsB;;AACtB,kBAASze,CAAC,CAACmrB,cAAF,IAAoBpf,CAA7B;AACE,iBAAKF,CAAC,CAACga,MAAP;AACE,kBAAI,CAAC,CAAD,KAAOvgB,CAAC,CAACib,YAAb,EAA2B;AAC3B,eAAE,UAAUvgB,CAAV,EAAa;AACbopB,gBAAAA,CAAC,CAACxM,GAAF,CAAM5c,CAAC,CAACkkB,OAAR,EAAiBlkB,CAAC,CAACmkB,OAAnB,GACE1V,CAAC,CAACsc,UAAF,CAAa3B,CAAb,EAAgBD,CAAhB,EAAmBrB,cAAnB,CAAkCxiB,CAAC,CAACqb,WAApC,CADF;AAEA,oBAAI3e,CAAC,GAAGsD,CAAC,CAACgb,UAAV;AACAiH,gBAAAA,CAAC,CAAE,IAAI9e,IAAI,CAACC,EAAT,GAAc+F,CAAC,CAACA,CAAjB,GAAsBzM,CAAC,CAACooB,YAAzB,CAAD,EACET,CAAC,CAAE,IAAIlhB,IAAI,CAACC,EAAT,GAAc+F,CAAC,CAACC,CAAjB,GAAsB1M,CAAC,CAACooB,YAAzB,CADH,EAEEjB,CAAC,CAACna,IAAF,CAAOoa,CAAP,CAFF,EAGE9jB,CAAC,CAACya,MAAF,EAHF;AAID,eARA,CAQE/f,CARF,CAAD;AASA;;AACF,iBAAK6L,CAAC,CAACka,KAAP;AACE,kBAAI,CAAC,CAAD,KAAOzgB,CAAC,CAACmb,UAAb,EAAyB;AACzB,eAAE,UAAUzgB,CAAV,EAAa;AACbupB,gBAAAA,CAAC,CAAC3M,GAAF,CAAM5c,CAAC,CAACkkB,OAAR,EAAiBlkB,CAAC,CAACmkB,OAAnB,GACEqF,CAAC,CAACuB,UAAF,CAAaxB,CAAb,EAAgB/Q,CAAhB,CADF,EAEEgR,CAAC,CAAC9a,CAAF,GAAM,CAAN,GAAU6b,CAAC,CAACd,CAAC,EAAF,CAAX,GAAmBD,CAAC,CAAC9a,CAAF,GAAM,CAAN,IAAW8b,CAAC,CAACf,CAAC,EAAF,CAFjC,EAGEjR,CAAC,CAACxJ,IAAF,CAAOua,CAAP,CAHF,EAIEjkB,CAAC,CAACya,MAAF,EAJF;AAKD,eANA,CAME/f,CANF,CAAD;AAOA;;AACF,iBAAK6L,CAAC,CAACma,GAAP;AACE,kBAAI,CAAC,CAAD,KAAO1gB,CAAC,CAACkb,SAAb,EAAwB;AACxB,eAAE,UAAUxgB,CAAV,EAAa;AACbqpB,gBAAAA,CAAC,CAACzM,GAAF,CAAM5c,CAAC,CAACkkB,OAAR,EAAiBlkB,CAAC,CAACmkB,OAAnB,GACEmF,CAAC,CAACyB,UAAF,CAAa1B,CAAb,EAAgB/P,CAAhB,EAAmBwO,cAAnB,CAAkCxiB,CAAC,CAACsb,QAApC,CADF,EAEEqJ,CAAC,CAACX,CAAC,CAAC7a,CAAH,EAAM6a,CAAC,CAAC5a,CAAR,CAFH,EAGE4K,CAAC,CAACtK,IAAF,CAAOqa,CAAP,CAHF,EAIE/jB,CAAC,CAACya,MAAF,EAJF;AAKD,eANA,CAME/f,CANF,CAAD;AAzBJ;AAiCD,SAnCA,CAmCEA,CAnCF,CAAD;AAHJ;AAwCH;;AACD,WAAS4oB,CAAT,CAAW5oB,CAAX,EAAc;AACZ,QAAI,CAAC,CAAD,KAAOsF,CAAC,CAACmZ,OAAb,EACE,QAAQze,CAAC,CAACkrB,WAAV;AACE,WAAK,OAAL;AACA,WAAK,KAAL;AACE,SAAE,UAAUlrB,CAAV,EAAa;AACb,cAAI,CAAC,CAAD,KAAOsF,CAAC,CAACmZ,OAAb,EAAsB;AACtBnZ,UAAAA,CAAC,CAACgb,UAAF,CAAaoI,aAAb,CAA2BpE,mBAA3B,CACE,aADF,EAEEqE,CAFF,EAGE,CAAC,CAHH,GAKErjB,CAAC,CAACgb,UAAF,CAAaoI,aAAb,CAA2BpE,mBAA3B,CACE,WADF,EAEEsE,CAFF,EAGE,CAAC,CAHH,CALF,EAUEtjB,CAAC,CAACyhB,aAAF,CAAgBrb,CAAhB,CAVF,EAWGK,CAAC,GAAGF,CAAC,CAACmb,IAXT;AAYD,SAdA,EAAD;AAHJ;AAmBH;;AACD,WAASsB,CAAT,CAAWtoB,CAAX,EAAc;AACZ,KAAC,CAAD,KAAOsF,CAAC,CAACmZ,OAAT,IACE,CAAC,CAAD,KAAOnZ,CAAC,CAACmb,UADX,IAEG1U,CAAC,KAAKF,CAAC,CAACmb,IAAR,IAAgBjb,CAAC,KAAKF,CAAC,CAACga,MAF3B,KAGG7lB,CAAC,CAACmrB,cAAF,IACDnrB,CAAC,CAACyrB,eAAF,EADC,EAEDnmB,CAAC,CAACyhB,aAAF,CAAgBpgB,CAAhB,CAFC,EAGA,UAAU3G,CAAV,EAAa;AACZA,MAAAA,CAAC,CAAC0rB,MAAF,GAAW,CAAX,GAAelB,CAAC,CAACf,CAAC,EAAF,CAAhB,GAAwBzpB,CAAC,CAAC0rB,MAAF,GAAW,CAAX,IAAgBnB,CAAC,CAACd,CAAC,EAAF,CAAzC,EAAgDnkB,CAAC,CAACya,MAAF,EAAhD;AACD,KAFD,CAEG/f,CAFH,CAHC,EAMDsF,CAAC,CAACyhB,aAAF,CAAgBrb,CAAhB,CATF;AAUD;;AACD,WAASmd,CAAT,CAAW7oB,CAAX,EAAc;AACZ,KAAC,CAAD,KAAOsF,CAAC,CAACmZ,OAAT,IACE,CAAC,CAAD,KAAOnZ,CAAC,CAACggB,UADX,IAEE,CAAC,CAAD,KAAOhgB,CAAC,CAACkb,SAFX,IAGG,UAAUxgB,CAAV,EAAa;AACZ,UAAIgC,CAAC,GAAG,CAAC,CAAT;;AACA,cAAQhC,CAAC,CAAC2rB,OAAV;AACE,aAAKrmB,CAAC,CAACgP,IAAF,CAAOkR,EAAZ;AACEyE,UAAAA,CAAC,CAAC,CAAD,EAAI3kB,CAAC,CAAC6f,WAAN,CAAD,EAAsBnjB,CAAC,GAAG,CAAC,CAA3B;AACA;;AACF,aAAKsD,CAAC,CAACgP,IAAF,CAAOoR,MAAZ;AACEuE,UAAAA,CAAC,CAAC,CAAD,EAAI,CAAC3kB,CAAC,CAAC6f,WAAP,CAAD,EAAuBnjB,CAAC,GAAG,CAAC,CAA5B;AACA;;AACF,aAAKsD,CAAC,CAACgP,IAAF,CAAOiR,IAAZ;AACE0E,UAAAA,CAAC,CAAC3kB,CAAC,CAAC6f,WAAH,EAAgB,CAAhB,CAAD,EAAsBnjB,CAAC,GAAG,CAAC,CAA3B;AACA;;AACF,aAAKsD,CAAC,CAACgP,IAAF,CAAOmR,KAAZ;AACEwE,UAAAA,CAAC,CAAC,CAAC3kB,CAAC,CAAC6f,WAAJ,EAAiB,CAAjB,CAAD,EAAuBnjB,CAAC,GAAG,CAAC,CAA5B;AAXJ;;AAaAA,MAAAA,CAAC,KAAKhC,CAAC,CAACmrB,cAAF,IAAoB7lB,CAAC,CAACya,MAAF,EAAzB,CAAD;AACD,KAhBD,CAgBG/f,CAhBH,CAHF;AAoBD;;AACD,WAASuoB,CAAT,CAAWvoB,CAAX,EAAc;AACZ,QAAI,CAAC,CAAD,KAAOsF,CAAC,CAACmZ,OAAb,EAAsB;AACpB,cAASze,CAAC,CAACmrB,cAAF,IAAoBnrB,CAAC,CAACimB,OAAF,CAAUhiB,MAAvC;AACE,aAAK,CAAL;AACE,kBAAQqB,CAAC,CAAC2gB,OAAF,CAAUC,GAAlB;AACE,iBAAK3qB,KAAK,CAAC4qB,KAAN,CAAYN,MAAjB;AACE,kBAAI,CAAC,CAAD,KAAOvgB,CAAC,CAACib,YAAb,EAA2B;AAC3BoK,cAAAA,CAAC,CAAC3qB,CAAD,CAAD,EAAO+L,CAAC,GAAGF,CAAC,CAACid,YAAb;AACA;;AACF,iBAAKvtB,KAAK,CAAC4qB,KAAN,CAAYH,GAAjB;AACE,kBAAI,CAAC,CAAD,KAAO1gB,CAAC,CAACkb,SAAb,EAAwB;AACxB7R,cAAAA,CAAC,CAAC3O,CAAD,CAAD,EAAO+L,CAAC,GAAGF,CAAC,CAACkd,SAAb;AACA;;AACF;AACEhd,cAAAA,CAAC,GAAGF,CAAC,CAACmb,IAAN;AAVJ;;AAYA;;AACF,aAAK,CAAL;AACE,kBAAQ1hB,CAAC,CAAC2gB,OAAF,CAAUG,GAAlB;AACE,iBAAK7qB,KAAK,CAAC4qB,KAAN,CAAYE,SAAjB;AACE,kBAAI,CAAC,CAAD,KAAO/gB,CAAC,CAACmb,UAAT,IAAuB,CAAC,CAAD,KAAOnb,CAAC,CAACkb,SAApC,EAA+C;AAC/C,eAAE,UAAUxgB,CAAV,EAAa;AACbsF,gBAAAA,CAAC,CAACmb,UAAF,IAAgBmK,CAAC,CAAC5qB,CAAD,CAAjB,EAAsBsF,CAAC,CAACkb,SAAF,IAAe7R,CAAC,CAAC3O,CAAD,CAAtC;AACD,eAFA,CAEEA,CAFF,CAAD,EAGG+L,CAAC,GAAGF,CAAC,CAACmd,eAHT;AAIA;;AACF,iBAAKztB,KAAK,CAAC4qB,KAAN,CAAYyF,YAAjB;AACE,kBAAI,CAAC,CAAD,KAAOtmB,CAAC,CAACmb,UAAT,IAAuB,CAAC,CAAD,KAAOnb,CAAC,CAACib,YAApC,EAAkD;AAClD,eAAE,UAAUvgB,CAAV,EAAa;AACbsF,gBAAAA,CAAC,CAACmb,UAAF,IAAgBmK,CAAC,CAAC5qB,CAAD,CAAjB,EAAsBsF,CAAC,CAACib,YAAF,IAAkBoK,CAAC,CAAC3qB,CAAD,CAAzC;AACD,eAFA,CAEEA,CAFF,CAAD,EAGG+L,CAAC,GAAGF,CAAC,CAACod,kBAHT;AAIA;;AACF;AACEld,cAAAA,CAAC,GAAGF,CAAC,CAACmb,IAAN;AAhBJ;;AAkBA;;AACF;AACEjb,UAAAA,CAAC,GAAGF,CAAC,CAACmb,IAAN;AApCJ;;AAsCAjb,MAAAA,CAAC,KAAKF,CAAC,CAACmb,IAAR,IAAgB1hB,CAAC,CAACyhB,aAAF,CAAgBpgB,CAAhB,CAAhB;AACD;AACF;;AACD,WAAS8hB,CAAT,CAAWzoB,CAAX,EAAc;AACZ,QAAI,CAAC,CAAD,KAAOsF,CAAC,CAACmZ,OAAb,EACE,QAASze,CAAC,CAACmrB,cAAF,IAAoBnrB,CAAC,CAACyrB,eAAF,EAApB,EAAyC1f,CAAlD;AACE,WAAKF,CAAC,CAACid,YAAP;AACE,YAAI,CAAC,CAAD,KAAOxjB,CAAC,CAACib,YAAb,EAA2B;AAC3BuK,QAAAA,CAAC,CAAC9qB,CAAD,CAAD,EAAMsF,CAAC,CAACya,MAAF,EAAN;AACA;;AACF,WAAKlU,CAAC,CAACkd,SAAP;AACE,YAAI,CAAC,CAAD,KAAOzjB,CAAC,CAACkb,SAAb,EAAwB;AACxBwK,QAAAA,CAAC,CAAChrB,CAAD,CAAD,EAAMsF,CAAC,CAACya,MAAF,EAAN;AACA;;AACF,WAAKlU,CAAC,CAACmd,eAAP;AACE,YAAI,CAAC,CAAD,KAAO1jB,CAAC,CAACmb,UAAT,IAAuB,CAAC,CAAD,KAAOnb,CAAC,CAACkb,SAApC,EAA+C;AAC/C,SAAE,UAAUxgB,CAAV,EAAa;AACbsF,UAAAA,CAAC,CAACmb,UAAF,IAAgBwK,CAAC,CAACjrB,CAAD,CAAjB,EAAsBsF,CAAC,CAACkb,SAAF,IAAewK,CAAC,CAAChrB,CAAD,CAAtC;AACD,SAFA,CAEEA,CAFF,CAAD,EAGEsF,CAAC,CAACya,MAAF,EAHF;AAIA;;AACF,WAAKlU,CAAC,CAACod,kBAAP;AACE,YAAI,CAAC,CAAD,KAAO3jB,CAAC,CAACmb,UAAT,IAAuB,CAAC,CAAD,KAAOnb,CAAC,CAACib,YAApC,EAAkD;AAClD,SAAE,UAAUvgB,CAAV,EAAa;AACbsF,UAAAA,CAAC,CAACmb,UAAF,IAAgBwK,CAAC,CAACjrB,CAAD,CAAjB,EAAsBsF,CAAC,CAACib,YAAF,IAAkBuK,CAAC,CAAC9qB,CAAD,CAAzC;AACD,SAFA,CAEEA,CAFF,CAAD,EAGEsF,CAAC,CAACya,MAAF,EAHF;AAIA;;AACF;AACEhU,QAAAA,CAAC,GAAGF,CAAC,CAACmb,IAAN;AAxBJ;AA0BH;;AACD,WAASwB,CAAT,CAAWxoB,CAAX,EAAc;AACZ,KAAC,CAAD,KAAOsF,CAAC,CAACmZ,OAAT,KAAqBnZ,CAAC,CAACyhB,aAAF,CAAgBrb,CAAhB,GAAqBK,CAAC,GAAGF,CAAC,CAACmb,IAAhD;AACD;;AACD,WAASoB,EAAT,CAAYpoB,CAAZ,EAAe;AACb,KAAC,CAAD,KAAOsF,CAAC,CAACmZ,OAAT,IAAoBze,CAAC,CAACmrB,cAAF,EAApB;AACD;;AACD7lB,EAAAA,CAAC,CAACgb,UAAF,CAAaf,gBAAb,CAA8B,aAA9B,EAA6C6I,EAA7C,EAAiD,CAAC,CAAlD,GACE9iB,CAAC,CAACgb,UAAF,CAAaf,gBAAb,CAA8B,aAA9B,EAA6C8I,CAA7C,EAAgD,CAAC,CAAjD,CADF,EAEE/iB,CAAC,CAACgb,UAAF,CAAaf,gBAAb,CAA8B,OAA9B,EAAuC+I,CAAvC,EAA0C,CAAC,CAA3C,CAFF,EAGEhjB,CAAC,CAACgb,UAAF,CAAaf,gBAAb,CAA8B,YAA9B,EAA4CgJ,CAA5C,EAA+C,CAAC,CAAhD,CAHF,EAIEjjB,CAAC,CAACgb,UAAF,CAAaf,gBAAb,CAA8B,UAA9B,EAA0CiJ,CAA1C,EAA6C,CAAC,CAA9C,CAJF,EAKEljB,CAAC,CAACgb,UAAF,CAAaf,gBAAb,CAA8B,WAA9B,EAA2CkJ,CAA3C,EAA8C,CAAC,CAA/C,CALF,EAMEnjB,CAAC,CAACgb,UAAF,CAAaf,gBAAb,CAA8B,SAA9B,EAAyCsJ,CAAzC,EAA4C,CAAC,CAA7C,CANF,EAOE,CAAC,CAAD,KAAOvjB,CAAC,CAACgb,UAAF,CAAauL,QAApB,KAAiCvmB,CAAC,CAACgb,UAAF,CAAauL,QAAb,GAAwB,CAAzD,CAPF,EAQE,KAAK9L,MAAL,EARF;AASD,CArjBA,EAsjBExkB,KAAK,CAAC8kB,aAAN,CAAoByL,SAApB,GAAgCzpB,MAAM,CAAC0pB,MAAP,CAC/BxwB,KAAK,CAACywB,eAAN,CAAsBF,SADS,CAtjBlC,EAyjBEvwB,KAAK,CAAC8kB,aAAN,CAAoByL,SAApB,CAA8B/rB,WAA9B,GAA4CxE,KAAK,CAAC8kB,aAzjBpD,EA0jBE9kB,KAAK,CAAC0wB,WAAN,GAAoB,UAAUjsB,CAAV,EAAagC,CAAb,EAAgB;AACnCzG,EAAAA,KAAK,CAAC8kB,aAAN,CAAoB6L,IAApB,CAAyB,IAAzB,EAA+BlsB,CAA/B,EAAkCgC,CAAlC,GACG,KAAKkjB,kBAAL,GAA0B,CAAC,CAD9B,EAEG,KAAKS,YAAL,CAAkBJ,IAAlB,GAAyBhqB,KAAK,CAACqqB,KAAN,CAAYI,GAFxC,EAGG,KAAKL,YAAL,CAAkBF,KAAlB,GAA0BlqB,KAAK,CAACqqB,KAAN,CAAYC,MAHzC,EAIG,KAAKI,OAAL,CAAaC,GAAb,GAAmB3qB,KAAK,CAAC4qB,KAAN,CAAYH,GAJlC,EAKG,KAAKC,OAAL,CAAaG,GAAb,GAAmB7qB,KAAK,CAAC4qB,KAAN,CAAYyF,YALlC;AAMD,CAjkBF,EAkkBErwB,KAAK,CAAC0wB,WAAN,CAAkBH,SAAlB,GAA8BzpB,MAAM,CAAC0pB,MAAP,CAC7BxwB,KAAK,CAACywB,eAAN,CAAsBF,SADO,CAlkBhC,EAqkBEvwB,KAAK,CAAC0wB,WAAN,CAAkBH,SAAlB,CAA4B/rB,WAA5B,GAA0CxE,KAAK,CAAC0wB,WArkBlD,EAskBEhqB,WAAW,CAAC0f,OAAZ,GAAsB,IAAIwK,GAAJ,EAtkBxB,EAukBElqB,WAAW,CAAC6pB,SAAZ,GAAwB;AACvB/rB,EAAAA,WAAW,EAAEkC,WADU;AAEvBmqB,EAAAA,QAAQ,EAAE,UAAUpsB,CAAV,EAAa;AACrB,UAAMgC,CAAC,GAAG,IAAI8B,gBAAJ,EAAV;AACA,WACG9B,CAAC,CAACoP,IAAF,GAASpR,CAAV,EACAgC,CAAC,CAAC+d,MAAF,CAAS,KAAKsB,MAAd,CADA,EAEC,KAAKgL,aAAL,GAAqB,KAAK/K,MAAL,CAAYrd,MAFlC,EAGA,KAAKqd,MAAL,CAAY7b,IAAZ,CAAiBzD,CAAjB,CAHA,EAIAA,CALF;AAOD,GAXsB;AAYvBsqB,EAAAA,QAAQ,EAAE,UAAUtsB,CAAV,EAAagC,CAAb,EAAgB;AACxB,SAAKsf,MAAL,CAAYiL,MAAZ,CAAmBvqB,CAAnB,EAAsB,CAAtB,EAAyBhC,CAAzB;AACD,GAdsB;AAevBwsB,EAAAA,WAAW,EAAE,UAAUxsB,CAAV,EAAa;AACxB,SAAKqsB,aAAL,KAAuBrsB,CAAvB,KAA6B,KAAKqsB,aAAL,GAAqB,KAAK,CAAvD,GACE,KAAK/K,MAAL,CAAYiL,MAAZ,CAAmBvsB,CAAnB,EAAsB,CAAtB,CADF;AAED,GAlBsB;AAmBvBysB,EAAAA,WAAW,EAAE,UAAUzsB,CAAV,EAAa;AACxB,SAAK,CAAL,KAAWA,CAAX,IAAgB,KAAKshB,MAAL,CAAYthB,CAAZ,EAAe0sB,OAAf,CAAuB,KAAKrL,MAA5B,CAAhB,EACG,KAAKgL,aAAL,GAAqBrsB,CADxB;AAED,GAtBsB;AAuBvB2sB,EAAAA,YAAY,EAAE,UAAU3sB,CAAV,EAAa;AACzB,WAAO,KAAKuhB,MAAL,CAAYiC,IAAZ,CAAkBxhB,CAAD,IAAOA,CAAC,CAACqB,IAAF,KAAWrD,CAAnC,CAAP;AACD,GAzBsB;AA0BvB4sB,EAAAA,YAAY,EAAE,UAAU5sB,CAAV,EAAagC,CAAb,EAAgB;AAC5B,WAAOhC,CAAC,KAAK0hB,gBAAgB,CAACuB,IAAjB,CAAsBc,QAA5B,IACL/jB,CAAC,KAAK0hB,gBAAgB,CAACuB,IAAjB,CAAsBe,MADvB,GAEH,KAAK,CAAL,KAAWhiB,CAAX,IAAgB,KAAKuf,MAAL,CAAYsL,IAAZ,CAAkBzqB,CAAD,IAAOA,CAAC,CAACiB,IAAF,KAAWrD,CAAX,IAAgBoC,CAAC,CAACyf,GAAF,KAAU7f,CAAlD,CAFb,GAGH,KAAKuf,MAAL,CAAYsL,IAAZ,CAAkB7qB,CAAD,IAAOA,CAAC,CAACqB,IAAF,KAAWrD,CAAnC,CAHJ;AAID,GA/BsB;AAgCvB8sB,EAAAA,QAAQ,EAAE,YAAY;AACpB,UAAM9sB,CAAC,GAAG0hB,gBAAgB,CAACqL,KAAjB,CAAuBvJ,IAAvB,CAA6BxjB,CAAD,IAAO,CAAC,CAAD,KAAO,KAAK4sB,YAAL,CAAkB5sB,CAAlB,CAA1C,CAAV;AAAA,UACEgC,CAAC,GAAG,IAAI0f,gBAAJ,CAAqB1hB,CAArB,CADN;AAEA,WAAO,KAAKuhB,MAAL,CAAY9b,IAAZ,CAAiBzD,CAAjB,GAAqBA,CAA5B;AACD,GApCsB;AAqCvBgrB,EAAAA,QAAQ,EAAE,UAAUhtB,CAAV,EAAagC,CAAb,EAAgB;AACxB,SAAKuf,MAAL,CAAYgL,MAAZ,CAAmBvqB,CAAnB,EAAsB,CAAtB,EAAyBhC,CAAzB;AACA,UAAMoC,CAAC,GAAG,KAAKmf,MAAL,CAAYvf,CAAZ,EAAe2f,OAAzB;;AACA,SAAK,IAAI3hB,IAAC,GAAG,CAAR,EAAWgC,IAAC,GAAGI,CAAC,CAAC6B,MAAtB,EAA8BjE,IAAC,GAAGgC,IAAlC,EAAqC,EAAEhC,IAAvC,EACE,KAAK,CAAL,KAAWoC,CAAC,CAACpC,IAAD,CAAD,CAAKqhB,MAAhB,IAA0Bpf,WAAW,CAAC0f,OAAZ,CAAoB/b,GAApB,CAAwBxD,CAAC,CAACpC,IAAD,CAAzB,CAA1B;AACH,GA1CsB;AA2CvBitB,EAAAA,WAAW,EAAE,UAAUjtB,CAAV,EAAa;AACxB,UAAMgC,CAAC,GAAG,KAAKuf,MAAL,CAAYvhB,CAAZ,EAAe2hB,OAAzB;;AACA,SAAK,IAAI3hB,IAAC,GAAG,CAAR,EAAWoC,CAAC,GAAGJ,CAAC,CAACiC,MAAtB,EAA8BjE,IAAC,GAAGoC,CAAlC,EAAqC,EAAEpC,IAAvC,EACE,KAAK,CAAL,KAAWgC,CAAC,CAAChC,IAAD,CAAD,CAAKqhB,MAAhB,IAA0Bpf,WAAW,CAAC0f,OAAZ,CAAoBuL,MAApB,CAA2BlrB,CAAC,CAAChC,IAAD,CAA5B,CAA1B;;AACF,SAAKuhB,MAAL,CAAYgL,MAAZ,CAAmBvsB,CAAnB,EAAsB,CAAtB;AACD,GAhDsB;AAiDvBgP,EAAAA,IAAI,EAAE,UAAUhP,CAAV,EAAa;AACjB,SAAKqsB,aAAL,GAAqBrsB,CAAC,CAACqsB,aAAvB;;AACA,SAAK,IAAIrqB,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAGpC,CAAC,CAACshB,MAAF,CAASrd,MAA7B,EAAqCjC,CAAC,GAAGI,CAAzC,EAA4C,EAAEJ,CAA9C,EACE,KAAKsqB,QAAL,CAActsB,CAAC,CAACshB,MAAF,CAAStf,CAAT,EAAY+S,KAAZ,EAAd,EAAmC/S,CAAnC;;AACF,SAAK,IAAIA,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAGpC,CAAC,CAACuhB,MAAF,CAAStd,MAA7B,EAAqCjC,CAAC,GAAGI,CAAzC,EAA4C,EAAEJ,CAA9C,EAAiD;AAC/C,WAAKgrB,QAAL,CAAchtB,CAAC,CAACuhB,MAAF,CAASvf,CAAT,EAAY+S,KAAZ,EAAd,EAAmC/S,CAAnC;AACA,YAAMI,IAAC,GAAGpC,CAAC,CAACuhB,MAAF,CAASvf,CAAT,EAAY2f,OAAtB;;AACA,WAAK,IAAI9e,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGV,IAAC,CAAC6B,MAAtB,EAA8BpB,CAAC,GAAGC,CAAlC,EAAqC,EAAED,CAAvC,EAA0C;AACxC,cAAMC,GAAC,GAAGV,IAAC,CAACS,CAAD,CAAD,CAAKkS,KAAL,EAAV;;AACA3S,QAAAA,IAAC,CAACS,CAAD,CAAD,CAAKwe,MAAL,KAAgBrhB,CAAC,CAACqhB,MAAlB,IACMve,GAAC,CAACue,MAAF,GAAW,KAAKA,MAAjB,EACAve,GAAC,CAACqqB,KAAF,GAAU,KAAK7L,MAAL,CAAYthB,CAAC,CAACshB,MAAF,CAAS5X,OAAT,CAAiBtH,IAAC,CAACS,CAAD,CAAD,CAAKsqB,KAAtB,CAAZ,CAFf,KAGMrqB,GAAC,CAACue,MAAF,GAAWjf,IAAC,CAACS,CAAD,CAAD,CAAKwe,MAAjB,EAA2Bve,GAAC,CAACqqB,KAAF,GAAU/qB,IAAC,CAACS,CAAD,CAAD,CAAKsqB,KAH/C,GAIE,KAAK5L,MAAL,CAAYvf,CAAZ,EAAeorB,SAAf,CAAyBtqB,GAAzB,EAA4BD,CAA5B,CAJF;AAKD;AACF;;AACD,WAAO,IAAP;AACD,GAlEsB;AAmEvBkS,EAAAA,KAAK,EAAE,UAAU/U,CAAV,EAAa;AAClB,WAAO,IAAIiC,WAAJ,CAAgBjC,CAAhB,EAAmBgP,IAAnB,CAAwB,IAAxB,CAAP;AACD,GArEsB;AAsEvBqe,EAAAA,MAAM,EAAE,UAAUrtB,CAAV,EAAa;AACnB,UAAMgC,CAAC,GAAG,EAAV;;AACA,QACIA,CAAC,CAACuN,IAAF,GAAS,KAAKA,IAAf,EACD,KAAK,CAAL,KAAW,KAAK8c,aAAhB,KAAkCrqB,CAAC,CAACqqB,aAAF,GAAkB,KAAKA,aAAzD,CADC,EAED,KAAK/K,MAAL,CAAYrd,MAAZ,GAAqB,CAHvB,EAIE;AACAjC,MAAAA,CAAC,CAACsf,MAAF,GAAW,EAAX;;AACA,WAAK,IAAIxe,CAAC,GAAG,CAAR,EAAW8B,CAAC,GAAG,KAAK0c,MAAL,CAAYrd,MAAhC,EAAwCnB,CAAC,GAAG8B,CAA5C,EAA+C,EAAE9B,CAAjD,EACEd,CAAC,CAACsf,MAAF,CAAS7b,IAAT,EACIrD,CAAC,GAAGpC,CAAC,CAAC6D,iBAAP,EACAhB,CAAC,GAAG,KAAKye,MAAL,CAAYxe,CAAZ,CADJ,EAED,KAAK,CAAL,KAAWV,CAAC,CAACS,CAAC,CAAC0M,IAAH,CAAZ,KAAyBnN,CAAC,CAACS,CAAC,CAAC0M,IAAH,CAAD,GAAY1M,CAAC,CAACwqB,MAAF,CAASrtB,CAAT,CAArC,CAFC,EAGD6C,CAAC,CAAC0M,IAJJ;AAMH;;AACD,QAAInN,CAAJ,EAAOS,CAAP;;AACA,QAAI,KAAK0e,MAAL,CAAYtd,MAAZ,GAAqB,CAAzB,EAA4B;AAC1BjC,MAAAA,CAAC,CAACuf,MAAF,GAAW,EAAX;;AACA,WAAK,IAAInf,IAAC,GAAG,CAAR,EAAWS,IAAC,GAAG,KAAK0e,MAAL,CAAYtd,MAAhC,EAAwC7B,IAAC,GAAGS,IAA5C,EAA+C,EAAET,IAAjD,EACEJ,CAAC,CAACuf,MAAF,CAAS9b,IAAT,CAAc,KAAK8b,MAAL,CAAYnf,IAAZ,EAAeirB,MAAf,CAAsBrtB,CAAtB,CAAd;AACH;;AACD,WAAOgC,CAAP;AACD,GA7FsB;AA8FvB+B,EAAAA,QAAQ,EAAE,UAAU/D,CAAV,EAAagC,CAAb,EAAgBI,CAAhB,EAAmB;AAC3B,QACI,KAAKmN,IAAL,GAAYvP,CAAC,CAACuP,IAAf,EACA,KAAK8c,aAAL,GAAqBrsB,CAAC,CAACqsB,aADvB,EAEA,KAAK/K,MAAL,GAAc,EAFd,EAGA,KAAKC,MAAL,GAAc,EAHd,EAID,KAAK,CAAL,KAAWvhB,CAAC,CAACshB,MALf,EAOE,KAAK,IAAItf,IAAC,GAAG,CAAR,EAAWa,CAAC,GAAG7C,CAAC,CAACshB,MAAF,CAASrd,MAA7B,EAAqCjC,IAAC,GAAGa,CAAzC,EAA4C,EAAEb,IAA9C,EACE,KAAKsf,MAAL,CAAY7b,IAAZ,CAAiBrD,CAAC,CAACpC,CAAC,CAACshB,MAAF,CAAStf,IAAT,CAAD,CAAlB;AACJ,QAAI,KAAK,CAAL,KAAWhC,CAAC,CAACuhB,MAAjB,EACE,KAAK,IAAI1e,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG9C,CAAC,CAACuhB,MAAF,CAAStd,MAA7B,EAAqCpB,CAAC,GAAGC,CAAzC,EAA4C,EAAED,CAA9C,EACE,KAAK0e,MAAL,CAAY9b,IAAZ,CAAiB,IAAIic,gBAAJ,GAAuB3d,QAAvB,CAAgC/D,CAAC,CAACuhB,MAAF,CAAS1e,CAAT,CAAhC,EAA6Cb,CAA7C,EAAgDI,CAAhD,CAAjB;AACJ,WAAO,IAAP;AACD,GA5GsB;AA6GvB+L,EAAAA,KAAK,EAAE,YAAY;AACjB,QACG,KAAK,CAAL,KAAW,KAAKmf,SAAhB,KACE,KAAKA,SAAL,CAAeC,KAAf,IACA,KAAKD,SAAL,GAAiB,KAAK,CADtB,EAED,KAAKE,gBAAL,EAHD,GAID,KAAKlM,MAAL,CAAYrd,MAAZ,GAAqB,CALvB,EAME;AACA,WAAKqd,MAAL,CAAY,CAAZ,EAAeoL,OAAf,CAAuB,KAAKrL,MAA5B,GACG,KAAKoM,YAAL,GAAoB,KAAKnM,MAAL,CAAY,CAAZ,CADvB,EAEG,KAAKoM,SAAL,GAAiB,KAAK,CAFzB;AAGA,YAAM1tB,CAAC,GAAG,KAAK2sB,YAAL,CAAkBjL,gBAAgB,CAACuB,IAAjB,CAAsB0K,KAAxC,CAAV;AACA,WAAK,CAAL,KAAW3tB,CAAX,IAAgBA,CAAC,CAAC2hB,OAAF,CAAU1d,MAAV,GAAmB,CAAnC,IAAwC,KAAK2pB,IAAL,CAAU5tB,CAAC,CAAC2hB,OAAF,CAAU,CAAV,CAAV,CAAxC;AACD;AACF,GA3HsB;AA4HvB0C,EAAAA,GAAG,EAAE,YAAY;AACf,SAAK,CAAL,KAAW,KAAKiJ,SAAhB,KACG,KAAKA,SAAL,CAAeC,KAAf,IACA,KAAKD,SAAL,GAAiB,KAAK,CADtB,EAED,KAAKE,gBAAL,EAHF,GAIE,KAAKlM,MAAL,CAAYrd,MAAZ,GAAqB,CAArB,IACE,KAAKqd,MAAL,CAAY,KAAK+K,aAAjB,EAAgCK,OAAhC,CAAwC,KAAKrL,MAA7C,CALJ,EAMG,KAAKoM,YAAL,GAAoB,KAAK,CAN5B,EAOG,KAAKC,SAAL,GAAiB,KAAK,CAPzB;AAQD,GArIsB;AAsIvB5J,EAAAA,MAAM,EAAE,UAAU9jB,CAAV,EAAagC,CAAb,EAAgB;AACtB,UAAMI,CAAC,GAAG,IAAI7G,KAAK,CAAC8S,OAAV,CAAkBrO,CAAlB,EAAqBgC,CAArB,EAAwB,CAAC,GAAzB,CAAV;AACA,SAAKqf,MAAL,CAAYyC,MAAZ,CAAmB1hB,CAAnB;AACD,GAzIsB;AA0IvBwrB,EAAAA,IAAI,EAAE,UAAU5tB,CAAV,EAAa;AACjB,SAAK,CAAL,KAAWA,CAAC,CAACmtB,KAAb,IAAsB,KAAKU,OAAL,CAAa7tB,CAAC,CAACmtB,KAAf,EAAsBntB,CAAtB,CAAtB;AACD,GA5IsB;AA6IvB8tB,EAAAA,OAAO,EAAE,UAAU9tB,CAAV,EAAa;AACpB,SAAK6tB,OAAL,CAAa,KAAKH,SAAlB,EAA6B1tB,CAA7B;AACD,GA/IsB;AAgJvBwtB,EAAAA,gBAAgB,EAAE,YAAY;AAC5B,QAAI,KAAK,CAAL,KAAW,KAAKnM,MAAL,CAAY1R,QAA3B,EAAqC;AACnC,YAAM3P,CAAC,GAAG,KAAKqhB,MAAL,CAAY1R,QAAtB;AACA,UAAI/C,KAAK,CAACmhB,OAAN,CAAc/tB,CAAd,CAAJ,EACE,KAAK,IAAIgC,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAGpC,CAAC,CAACiE,MAAtB,EAA8BjC,CAAC,GAAGI,CAAlC,EAAqC,EAAEJ,CAAvC,EAA0C;AACxC,cAAMI,IAAC,GAAGpC,CAAC,CAACgC,CAAD,CAAD,CAAK+Y,UAAf;AACA,YAAIlY,CAAC,GAAGT,IAAC,CAACuX,IAAV;;AACA,eAAO9W,CAAP,GACE,IAAIA,CAAC,CAACmrB,SAAN,EAAiB;AACf,iBAAOnrB,CAAC,CAACmrB,SAAT;AACA,gBAAMhuB,IAAC,GAAG6C,CAAC,CAACqR,IAAZ;AACA9R,UAAAA,IAAC,CAAC2X,WAAF,CAAclX,CAAC,CAACoR,EAAhB,GAAsBpR,CAAC,GAAG7C,IAA1B;AACD,SAJD,MAIO6C,CAAC,CAACorB,MAAF,IAAY,OAAOprB,CAAC,CAACorB,MAAT,EAAkBprB,CAAC,GAAGA,CAAC,CAACqR,IAApC,IAA8CrR,CAAC,GAAGA,CAAC,CAACqR,IAApD;AACV,OAVH,MAWK;AACH,cAAMlS,CAAC,GAAGhC,CAAC,CAAC+a,UAAZ;AACA,YAAI3Y,CAAC,GAAGJ,CAAC,CAAC2X,IAAV;;AACA,eAAOvX,CAAP,GACE,OAAOA,CAAP,GACE,IAAIA,CAAC,CAAC4rB,SAAN,EAAiB;AACf,iBAAO5rB,CAAC,CAAC4rB,SAAT;AACA,gBAAMhuB,IAAC,GAAGoC,CAAC,CAAC8R,IAAZ;AACAlS,UAAAA,CAAC,CAAC+X,WAAF,CAAc3X,CAAC,CAAC6R,EAAhB,GAAsB7R,CAAC,GAAGpC,IAA1B;AACD,SAJD,MAIOoC,CAAC,CAAC6rB,MAAF,IAAY,OAAO7rB,CAAC,CAAC6rB,MAAT,EAAkB7rB,CAAC,GAAGA,CAAC,CAAC8R,IAApC,IAA8C9R,CAAC,GAAGA,CAAC,CAAC8R,IAApD;AACZ;AACF;AACF,GA1KsB;AA2KvBga,EAAAA,iBAAiB,EAAE,UAAUluB,CAAV,EAAagC,CAAb,EAAgBI,CAAhB,EAAmB;AACpC,YAAQpC,CAAR;AACE,WAAKiiB,iBAAiB,CAACE,MAAlB,CAAyBgM,MAA9B;AACE,eAAO,2BAAP;;AACF,WAAKlM,iBAAiB,CAACE,MAAlB,CAAyBiM,IAA9B;AACE,eAAO,gCAAP;;AACF,WAAKnM,iBAAiB,CAACE,MAAlB,CAAyBkM,OAA9B;AACE,eAAO,6BAAP;;AACF,WAAKpM,iBAAiB,CAACE,MAAlB,CAAyBmM,QAA9B;AACE,eAAO,6BAAP;;AACF,WAAKrM,iBAAiB,CAACE,MAAlB,CAAyBC,WAA9B;AACE,eAAO,+BAAP;;AACF,WAAKH,iBAAiB,CAACE,MAAlB,CAAyBoM,KAA9B;AACE,eAAQ,gBAAevsB,CAAC,CAAC,CAAD,CAAI,KAAIA,CAAC,CAAC,CAAD,CAAI,KAAIA,CAAC,CAAC,CAAD,CAAI,KAAIA,CAAC,CAAC,CAAD,CAAI,IAAvD;;AACF,WAAKigB,iBAAiB,CAACE,MAAlB,CAAyBqM,MAA9B;AACE,eAAQ,WAAUpsB,CAAC,CAACqgB,IAAK,KAAIrgB,CAAC,CAACsgB,SAAU,KAAItgB,CAAC,CAACugB,OAAQ,KAAIvgB,CAAC,CAACwgB,QAAS,IAAtE;AAdJ;AAgBD,GA5LsB;AA6LvBiL,EAAAA,OAAO,EAAE,UAAU7tB,CAAV,EAAagC,CAAb,EAAgB;AACvB,SAAKyrB,YAAL,KAAsBztB,CAAtB,KACI,KAAK0tB,SAAL,GAAiB,KAAKD,YAAvB,EAAuC,KAAKA,YAAL,GAAoBztB,CAD9D,GAEE,KAAK,CAAL,KAAW,KAAKstB,SAAhB,IAA6B,KAAKA,SAAL,CAAeC,KAAf,EAF/B,EAGE,KAAKC,gBAAL,EAHF,EAIE,CAAC,CAAD,KAAOxrB,CAAC,CAAC6gB,KAAT,IAAkB,CAAC,CAAD,KAAO7gB,CAAC,CAAC0B,MAA3B,GACK,KAAK4pB,SAAL,GAAiB7xB,KAAK,CAACgzB,QAAN,CAAe;AAC/BpM,MAAAA,QAAQ,EAAErgB,CAAC,CAACqgB,QADmB;AAE/BC,MAAAA,KAAK,EAAEtgB,CAAC,CAACsgB,KAAF,GAAU,CAFc;AAG/BoM,MAAAA,QAAQ,EAAE1sB,CAAC,CAACsgB,KAAF,GAAU,CAHW;AAI/BqM,MAAAA,SAAS,EAAE,WAJoB;AAK/BC,MAAAA,IAAI,EAAE,CAAC,CALwB;AAM/B9L,MAAAA,MAAM,EAAE9gB,CAAC,CAAC8gB,MANqB;AAO/BZ,MAAAA,MAAM,EAAE,KAAKgM,iBAAL,CACNlsB,CAAC,CAACkgB,MADI,EAENlgB,CAAC,CAACugB,aAFI,EAGNvgB,CAAC,CAACwgB,gBAHI;AAPuB,KAAf,CADtB,GAcI,CAAC,CAAD,KAAOxgB,CAAC,CAAC6gB,KAAT,IAAkB,CAAC,CAAD,KAAO7gB,CAAC,CAAC0B,MAA3B,GACC,KAAK4pB,SAAL,GAAiB7xB,KAAK,CAACgzB,QAAN,CAAe;AAC/BpM,MAAAA,QAAQ,EAAErgB,CAAC,CAACqgB,QADmB;AAE/BC,MAAAA,KAAK,EAAEtgB,CAAC,CAACsgB,KAFsB;AAG/BoM,MAAAA,QAAQ,EAAE1sB,CAAC,CAACsgB,KAAF,GAAU,CAHW;AAI/BqM,MAAAA,SAAS,EAAE,WAJoB;AAK/B7L,MAAAA,MAAM,EAAE9gB,CAAC,CAAC8gB,MALqB;AAM/BZ,MAAAA,MAAM,EAAE,KAAKgM,iBAAL,CACNlsB,CAAC,CAACkgB,MADI,EAENlgB,CAAC,CAACugB,aAFI,EAGNvgB,CAAC,CAACwgB,gBAHI;AANuB,KAAf,CADlB,GAaA,CAAC,CAAD,KAAOxgB,CAAC,CAAC6gB,KAAT,IAAkB,CAAC,CAAD,KAAO7gB,CAAC,CAAC0B,MAA3B,GACC,KAAK4pB,SAAL,GAAiB7xB,KAAK,CAACgzB,QAAN,CAAe;AAC/BpM,MAAAA,QAAQ,EAAErgB,CAAC,CAACqgB,QADmB;AAE/BC,MAAAA,KAAK,EAAEtgB,CAAC,CAACsgB,KAFsB;AAG/BqM,MAAAA,SAAS,EAAE,QAHoB;AAI/BC,MAAAA,IAAI,EAAE,CAAC,CAJwB;AAK/B1M,MAAAA,MAAM,EAAE,KAAKgM,iBAAL,CACNlsB,CAAC,CAACkgB,MADI,EAENlgB,CAAC,CAACugB,aAFI,EAGNvgB,CAAC,CAACwgB,gBAHI;AALuB,KAAf,CADlB,GAYC,KAAK8K,SAAL,GAAiB7xB,KAAK,CAACgzB,QAAN,CAAe;AAC/BpM,MAAAA,QAAQ,EAAErgB,CAAC,CAACqgB,QADmB;AAE/BC,MAAAA,KAAK,EAAEtgB,CAAC,CAACsgB,KAFsB;AAG/BqM,MAAAA,SAAS,EAAE,QAHoB;AAI/BzM,MAAAA,MAAM,EAAE,KAAKgM,iBAAL,CACNlsB,CAAC,CAACkgB,MADI,EAENlgB,CAAC,CAACugB,aAFI,EAGNvgB,CAAC,CAACwgB,gBAHI;AAJuB,KAAf,CA3CxB,EAqDE,KAAK8K,SAAL,CAAeuB,QAAf,CAAwBC,IAAxB,CAA6B,MAAM;AACjC,WAAKtB,gBAAL;AACD,KAFD,CArDF,EAwDE,KAAKuB,aAAL,CAAmB/uB,CAAnB,CAxDF,EAyDE,KAAKgvB,eAAL,CAAqBhvB,CAArB,CAzDF,EA0DE,KAAKivB,eAAL,CAAqBjvB,CAArB,CA1DF,EA2DE,KAAKkvB,aAAL,CAAmBlvB,CAAnB,CA3DF;AA4DD,GA1PsB;AA2PvB+uB,EAAAA,aAAa,EAAE,UAAU/uB,CAAV,EAAa;AAC1B,QAAI,CAAC,CAAD,KAAO,KAAKqhB,MAAL,CAAYtS,QAAZ,CAAqBogB,MAArB,CAA4BnvB,CAAC,CAAC+O,QAA9B,CAAX,EAAoD;AAClD,YAAM/M,IAAC,GAAG,KAAKqf,MAAL,CAAYtS,QAAZ,CAAqBgG,KAArB,EAAV;AAAA,YACE3S,IAAC,GAAG;AAAEJ,QAAAA,CAAC,EAAE;AAAL,OADN;;AAEA,WAAKsrB,SAAL,CAAe1nB,GAAf,CACE;AACE+b,QAAAA,OAAO,EAAEvf,IADX;AAEEJ,QAAAA,CAAC,EAAE,CAFL;AAGE+d,QAAAA,MAAM,EAAE,MAAM;AACZ,eAAKsB,MAAL,CAAYtS,QAAZ,CAAqBqgB,WAArB,CAAiCptB,IAAjC,EAAoChC,CAAC,CAAC+O,QAAtC,EAAgD3M,IAAC,CAACJ,CAAlD;AACD;AALH,OADF,EAQE,CARF;AAUD;;AACD,QAAI,CAAC,CAAD,KAAO,KAAKqf,MAAL,CAAYzS,KAAZ,CAAkBugB,MAAlB,CAAyBnvB,CAAC,CAAC4O,KAA3B,CAAX,EAA8C;AAC5C,YAAM5M,IAAC,GAAG,KAAKqf,MAAL,CAAYzS,KAAZ,CAAkBmG,KAAlB,EAAV;AAAA,YACE3S,IAAC,GAAG;AAAEJ,QAAAA,CAAC,EAAE;AAAL,OADN;;AAEA,WAAKsrB,SAAL,CAAe1nB,GAAf,CACE;AACE+b,QAAAA,OAAO,EAAEvf,IADX;AAEEJ,QAAAA,CAAC,EAAE,CAFL;AAGE+d,QAAAA,MAAM,EAAE,MAAM;AACZ,eAAKsB,MAAL,CAAYzS,KAAZ,CAAkBwgB,WAAlB,CAA8BptB,IAA9B,EAAiChC,CAAC,CAAC4O,KAAnC,EAA0CxM,IAAC,CAACJ,CAA5C;AACD;AALH,OADF,EAQE,CARF;AAUD;;AACD,QAAI,CAAC,CAAD,KAAO,KAAKqf,MAAL,CAAYjS,QAAZ,CAAqB+f,MAArB,CAA4BnvB,CAAC,CAACoP,QAA9B,CAAX,EAAoD;AAClD,YAAMpN,IAAC,GAAG,KAAKqf,MAAL,CAAYnS,UAAZ,CAAuB6F,KAAvB,EAAV;AAAA,YACE3S,IAAC,GAAG;AAAEJ,QAAAA,CAAC,EAAE;AAAL,OADN;AAAA,YAEEa,IAAC,GAAG;AACF4L,QAAAA,CAAC,EAAE,KAAK4S,MAAL,CAAYjS,QAAZ,CAAqBX,CAArB,GAAyBzO,CAAC,CAACoP,QAAF,CAAWX,CADrC;AAEFC,QAAAA,CAAC,EAAE,KAAK2S,MAAL,CAAYjS,QAAZ,CAAqBV,CAArB,GAAyB1O,CAAC,CAACoP,QAAF,CAAWV,CAFrC;AAGFC,QAAAA,CAAC,EAAE,KAAK0S,MAAL,CAAYjS,QAAZ,CAAqBT,CAArB,GAAyB3O,CAAC,CAACoP,QAAF,CAAWT;AAHrC,OAFN;AAAA,YAOE7L,GAAC,GAAG9C,CAAC,CAACoP,QAAF,CAAW2F,KAAX,EAPN;AAAA,YAQEnQ,GAAC,GAAG,OAAOrJ,KAAK,CAACkN,IAAN,CAAW4mB,OARxB;AAAA,YASEtqB,EAAC,GAAG,SAASxJ,KAAK,CAACkN,IAAN,CAAW4mB,OAT1B;;AAUAxsB,MAAAA,IAAC,CAAC4L,CAAF,KAAQ,IAAIhG,IAAI,CAACC,EAAjB,GACI,MAAM5F,GAAC,CAAC2L,CAAR,GACG3L,GAAC,CAAC2L,CAAF,GAAM7J,GADT,GAEE9B,GAAC,CAAC2L,CAAF,KAAQ,IAAIhG,IAAI,CAACC,EAAjB,KAAwB5F,GAAC,CAAC2L,CAAF,GAAM1J,EAA9B,CAHN,GAIIlC,IAAC,CAAC4L,CAAF,KAAQ,IAAI,CAAChG,IAAI,CAACC,EAAlB,KACC,MAAM5F,GAAC,CAAC2L,CAAR,GAAa3L,GAAC,CAAC2L,CAAF,GAAM,CAAC7J,GAApB,GAAyB9B,GAAC,CAAC2L,CAAF,KAAQ,IAAIhG,IAAI,CAACC,EAAjB,KAAwB5F,GAAC,CAAC2L,CAAF,GAAM,CAAC1J,EAA/B,CAD1B,CAJJ,EAMElC,IAAC,CAAC6L,CAAF,KAAQ,IAAIjG,IAAI,CAACC,EAAjB,GACI,MAAM5F,GAAC,CAAC4L,CAAR,GACG5L,GAAC,CAAC4L,CAAF,GAAM9J,GADT,GAEE9B,GAAC,CAAC4L,CAAF,KAAQ,IAAIjG,IAAI,CAACC,EAAjB,KAAwB5F,GAAC,CAAC4L,CAAF,GAAM3J,EAA9B,CAHN,GAIIlC,IAAC,CAAC6L,CAAF,KAAQ,IAAI,CAACjG,IAAI,CAACC,EAAlB,KACC,MAAM5F,GAAC,CAAC4L,CAAR,GAAa5L,GAAC,CAAC4L,CAAF,GAAM,CAAC9J,GAApB,GAAyB9B,GAAC,CAAC4L,CAAF,KAAQ,IAAIjG,IAAI,CAACC,EAAjB,KAAwB5F,GAAC,CAAC4L,CAAF,GAAM,CAAC3J,EAA/B,CAD1B,CAVN,EAYElC,IAAC,CAAC8L,CAAF,KAAQ,IAAIlG,IAAI,CAACC,EAAjB,GACI,MAAM5F,GAAC,CAAC6L,CAAR,GACG7L,GAAC,CAAC6L,CAAF,GAAM/J,GADT,GAEE9B,GAAC,CAAC6L,CAAF,KAAQ,IAAIlG,IAAI,CAACC,EAAjB,KAAwB5F,GAAC,CAAC6L,CAAF,GAAM5J,EAA9B,CAHN,GAIIlC,IAAC,CAAC8L,CAAF,KAAQ,IAAI,CAAClG,IAAI,CAACC,EAAlB,KACC,MAAM5F,GAAC,CAAC6L,CAAR,GAAa7L,GAAC,CAAC6L,CAAF,GAAM,CAAC/J,GAApB,GAAyB9B,GAAC,CAAC6L,CAAF,KAAQ,IAAIlG,IAAI,CAACC,EAAjB,KAAwB5F,GAAC,CAAC6L,CAAF,GAAM,CAAC5J,EAA/B,CAD1B,CAhBN;;AAkBA,YAAMM,EAAC,GAAG,IAAI9J,KAAK,CAAC4T,UAAV,GAAuBmgB,YAAvB,CAAoCxsB,GAApC,CAAV;;AACA,WAAKwqB,SAAL,CAAe1nB,GAAf,CACE;AACE+b,QAAAA,OAAO,EAAEvf,IADX;AAEEJ,QAAAA,CAAC,EAAE,CAFL;AAGE+d,QAAAA,MAAM,EAAE,MAAM;AACZrkB,UAAAA,GAAG,CAAC+M,IAAJ,CAAS8mB,KAAT,CAAevtB,IAAf,EAAkBqD,EAAlB,EAAqB,KAAKgc,MAAL,CAAYnS,UAAjC,EAA6C9M,IAAC,CAACJ,CAA/C;AACD;AALH,OADF,EAQE,CARF;AAUD;;AACD,UAAMA,CAAC,GAAG,IAAIzG,KAAK,CAAC8S,OAAV,EAAV;AAAA,UACEjM,CAAC,GAAG,IAAI7G,KAAK,CAAC4T,UAAV,EADN;AAAA,UAEEtM,CAAC,GAAG,IAAItH,KAAK,CAAC8S,OAAV,EAFN;AAAA,UAGEvL,CAAC,GAAG,IAAIvH,KAAK,CAAC8S,OAAV,EAHN;AAAA,UAIEzJ,CAAC,GAAG,IAAIrJ,KAAK,CAAC4T,UAAV,EAJN;AAAA,UAKEpK,CAAC,GAAG,IAAIxJ,KAAK,CAAC8S,OAAV,EALN;AAAA,UAMEhJ,CAAC,GAAG,IAAI9J,KAAK,CAAC8S,OAAV,EANN;AAAA,UAOE/I,CAAC,GAAG,IAAI/J,KAAK,CAAC4T,UAAV,EAPN;AAAA,UAQE/I,CAAC,GAAG,IAAI7K,KAAK,CAAC8S,OAAV,EARN;;AASA,QACG,KAAKgT,MAAL,CAAYhS,YAAZ,CAAyBmgB,SAAzB,CAAmCxtB,CAAnC,EAAsCI,CAAtC,EAAyCS,CAAzC,GACD7C,CAAC,CAACqP,YAAF,CAAemgB,SAAf,CAAyB1sB,CAAzB,EAA4B8B,CAA5B,EAA+BG,CAA/B,CADC,EAED,CAAC,CAAD,KAAO,KAAKsc,MAAL,CAAYhS,YAAZ,CAAyB8f,MAAzB,CAAgCnvB,CAAC,CAACqP,YAAlC,CAHT,EAIE;AACA,YAAMrP,IAAC,GAAG;AAAEgC,QAAAA,CAAC,EAAE;AAAL,OAAV;AACA,WAAKsrB,SAAL,CAAe1nB,GAAf,CACE;AACE+b,QAAAA,OAAO,EAAE3hB,IADX;AAEEgC,QAAAA,CAAC,EAAE,CAFL;AAGE+d,QAAAA,MAAM,EAAE,MAAM;AACZxkB,UAAAA,KAAK,CAAC4T,UAAN,CAAiBogB,KAAjB,CAAuBntB,CAAvB,EAA0BwC,CAA1B,EAA6BU,CAA7B,EAAgCtF,IAAC,CAACgC,CAAlC,GACEqD,CAAC,CAAC+pB,WAAF,CAAcptB,CAAd,EAAiBc,CAAjB,EAAoB9C,IAAC,CAACgC,CAAtB,CADF,EAEEoE,CAAC,CAACgpB,WAAF,CAAcvsB,CAAd,EAAiBkC,CAAjB,EAAoB/E,IAAC,CAACgC,CAAtB,CAFF,EAGE,KAAKqf,MAAL,CAAYhS,YAAZ,CAAyBogB,OAAzB,CAAiCpqB,CAAjC,EAAoCC,CAApC,EAAuCc,CAAvC,CAHF;AAID;AARH,OADF,EAWE,CAXF;AAaD;AACF,GA9VsB;AA+VvB4oB,EAAAA,eAAe,EAAE,UAAUhvB,CAAV,EAAa;AAC5B,QAAI,KAAK,CAAL,KAAW,KAAKqhB,MAAL,CAAYrP,QAA3B,EAAqC;AACrC,UAAMhQ,CAAC,GAAG,KAAKqf,MAAL,CAAYrP,QAAZ,CAAqBlD,QAArB,CAA8B/B,UAAxC;AACE/M,IAAAA,CAAC,CAACgS,QAAF,CAAWhF,KAAX,KAAqBhL,CAAC,CAACgL,KAAvB,IACAhN,CAAC,CAACgS,QAAF,CAAW/E,MAAX,KAAsBjL,CAAC,CAACiL,MADxB,IAEAjN,CAAC,CAACgS,QAAF,CAAW9E,KAAX,KAAqBlL,CAAC,CAACkL,KAFxB,IAGC,KAAKogB,SAAL,CAAe1nB,GAAf,CACE;AACE+b,MAAAA,OAAO,EAAE,KAAKN,MAAL,CAAYrP,QAAZ,CAAqBlD,QAArB,CAA8B/B,UADzC;AAEEC,MAAAA,KAAK,EAAEhN,CAAC,CAACgS,QAAF,CAAWhF,KAFpB;AAGEC,MAAAA,MAAM,EAAEjN,CAAC,CAACgS,QAAF,CAAW/E,MAHrB;AAIEC,MAAAA,KAAK,EAAElN,CAAC,CAACgS,QAAF,CAAW9E,KAJpB;AAKE6S,MAAAA,MAAM,EAAE,MAAM;AACZ,cAAM/f,CAAC,GAAGtE,GAAG,CACX,KAAK2lB,MAAL,CAAYrP,QAAZ,CAAqBlD,QAArB,CAA8BzL,IADnB,CAAH,CAERqsB,iBAFQ,CAEU,KAAKrO,MAAL,CAAYrP,QAFtB,EAEgC;AACxChF,UAAAA,KAAK,EAAEhL,CAAC,CAACgL,KAD+B;AAExCC,UAAAA,MAAM,EAAEjL,CAAC,CAACiL,MAF8B;AAGxCC,UAAAA,KAAK,EAAElL,CAAC,CAACkL;AAH+B,SAFhC,CAAV;AAOA,aAAKmU,MAAL,CAAYtP,cAAZ,CAA2B/R,CAA3B;AACD;AAdH,KADF,EAiBE,CAjBF,CAHD;AAsBF,GAxXsB;AAyXvBivB,EAAAA,eAAe,EAAE,UAAUjvB,CAAV,EAAa;AAC5B,QAAI,KAAK,CAAL,KAAW,KAAKqhB,MAAL,CAAY1R,QAA3B,EAAqC;;AACrC,UAAM3N,CAAC,GAAG,CAAChC,CAAD,EAAIgC,CAAJ,EAAOI,CAAP,EAAUS,CAAV,KAAgB;AACtB,YAAMC,CAAC,GAAG9C,CAAC,CAAC+a,UAAZ;;AACA,WACE,IAAI/a,IAAC,GAAG,CAAR,EAAW4E,CAAC,GAAG,CAAC/B,CAAC,GAAG,KAAK,CAAL,KAAWA,CAAX,GAAeA,CAAf,GAAmBb,CAAC,CAACqS,UAA1B,EAAsCpQ,MADvD,EAEEjE,IAAC,GAAG4E,CAFN,EAGE,EAAE5E,IAHJ,EAIE;AACA,cAAM4E,GAAC,GAAG/B,CAAC,CAAC7C,IAAD,CAAX;AAAA,cACE+E,CAAC,GAAI,IAAG/C,CAAC,CAACiS,EAAG,IAAGrP,GAAE,EADpB;AAAA,cAEES,CAAC,GAAI,IAAGjD,CAAC,CAAC6R,EAAG,IAAGrP,GAAE,EAFpB;AAAA,cAGEU,CAAC,GAAGtD,CAAC,CAACoS,QAAF,CAAWrP,CAAX,CAHN;AAAA,cAIEqB,CAAC,GAAGhE,CAAC,CAACgS,QAAF,CAAW/O,CAAX,CAJN;AAKA,mBAAWT,GAAX,IAAgB,aAAa,OAAOU,CAAC,CAACkP,KAAtC,GACI,YAAY,OAAOlP,CAAC,CAACkP,KAArB,GACElP,CAAC,CAACkP,KAAF,YAAmBjZ,KAAK,CAAC0b,OAAzB,GACE,CAAC,CAAD,KAAO3R,CAAC,CAACkP,KAAF,CAAQ2a,MAAR,CAAe/oB,CAAC,CAACoO,KAAjB,CAAP,IACA,KAAK8Y,SAAL,CAAe1nB,GAAf,CACE;AACE+b,UAAAA,OAAO,EAAErc,CAAC,CAACkP,KADb;AAEE/F,UAAAA,CAAC,EAAErI,CAAC,CAACoO,KAAF,CAAQ/F,CAFb;AAGEC,UAAAA,CAAC,EAAEtI,CAAC,CAACoO,KAAF,CAAQ9F,CAHb;AAIEqR,UAAAA,MAAM,EAAE,YAAY;AAClBjd,YAAAA,CAAC,CAACoX,yBAAF,CAA4BlY,CAA5B,EAA+B+C,CAA/B;AACD;AANH,SADF,EASE,CATF,CAFF,GAaEO,CAAC,CAACkP,KAAF,YAAmBjZ,KAAK,CAAC8S,OAAzB,GACA,CAAC,CAAD,KAAO/I,CAAC,CAACkP,KAAF,CAAQ2a,MAAR,CAAe/oB,CAAC,CAACoO,KAAjB,CAAP,IACA,KAAK8Y,SAAL,CAAe1nB,GAAf,CACE;AACE+b,UAAAA,OAAO,EAAErc,CAAC,CAACkP,KADb;AAEE/F,UAAAA,CAAC,EAAErI,CAAC,CAACoO,KAAF,CAAQ/F,CAFb;AAGEC,UAAAA,CAAC,EAAEtI,CAAC,CAACoO,KAAF,CAAQ9F,CAHb;AAIEC,UAAAA,CAAC,EAAEvI,CAAC,CAACoO,KAAF,CAAQ7F,CAJb;AAKEoR,UAAAA,MAAM,EAAE,YAAY;AAClBjd,YAAAA,CAAC,CAACoX,yBAAF,CAA4BlY,CAA5B,EAA+B+C,CAA/B;AACD;AAPH,SADF,EAUE,CAVF,CAFA,GAcAO,CAAC,CAACkP,KAAF,YAAmBjZ,KAAK,CAAC6F,KAAzB,IACA,CAAC,CAAD,KAAOkE,CAAC,CAACkP,KAAF,CAAQ2a,MAAR,CAAe/oB,CAAC,CAACoO,KAAjB,CADP,IAEA,KAAK8Y,SAAL,CAAe1nB,GAAf,CACE;AACE+b,UAAAA,OAAO,EAAErc,CAAC,CAACkP,KADb;AAEE3R,UAAAA,CAAC,EAAEuD,CAAC,CAACoO,KAAF,CAAQ3R,CAFb;AAGEwW,UAAAA,CAAC,EAAEjT,CAAC,CAACoO,KAAF,CAAQ6E,CAHb;AAIEC,UAAAA,CAAC,EAAElT,CAAC,CAACoO,KAAF,CAAQ8E,CAJb;AAKEyG,UAAAA,MAAM,EAAE,YAAY;AAClBjd,YAAAA,CAAC,CAACoX,yBAAF,CAA4BlY,CAA5B,EAA+B+C,CAA/B;AACD;AAPH,SADF,EAUE,CAVF,CA9BJ,GA0CEO,CAAC,CAACkP,KAAF,KAAYpO,CAAC,CAACoO,KAAd,IACA,KAAK8Y,SAAL,CAAe1nB,GAAf,CACE;AACE+b,UAAAA,OAAO,EAAErc,CADX;AAEEkP,UAAAA,KAAK,EAAEpO,CAAC,CAACoO,KAFX;AAGEuL,UAAAA,MAAM,EAAE,YAAY;AAClBjd,YAAAA,CAAC,CAACoX,yBAAF,CAA4BlY,CAA5B,EAA+B+C,CAA/B;AACD;AALH,SADF,EAQE,CARF,CA5CN,GAsDIO,CAAC,CAACkP,KAAF,KAAYpO,CAAC,CAACoO,KAAd,KACElP,CAAC,CAACkP,KAAF,GAAUpO,CAAC,CAACoO,KAAb,EAAqB1R,CAAC,CAACoX,yBAAF,CAA4BlY,CAA5B,EAA+B+C,CAA/B,CADtB,CAtDJ;AAwDD;;AACD,UAAI/C,CAAC,CAACgsB,SAAN,EAAiB;AACf,cAAMhuB,IAAC,GAAGgC,CAAC,CAACgsB,SAAF,CAAY/Z,EAAtB;AAAA,cACE7R,IAAC,GAAI,IAAGpC,IAAE,QADZ;AAAA,cAEE6C,IAAC,GAAGb,CAAC,CAACgsB,SAAF,CAAY5Z,QAAZ,CAAqBhS,IAArB,CAFN;AAGA,aAAKkrB,SAAL,CAAe1nB,GAAf,CACE;AACE+b,UAAAA,OAAO,EAAE9e,IADX;AAEE2R,UAAAA,KAAK,EAAE,CAFT;AAGEuL,UAAAA,MAAM,EAAE,YAAY;AAClBjd,YAAAA,CAAC,CAACmX,kBAAF,CAAqBja,IAArB,EAAwBoC,IAAxB;AACD;AALH,SADF,EAQE,CARF;AAUD;AACF,KApFH;AAAA,UAqFEA,CAAC,GAAG,CAACpC,CAAD,EAAIgC,CAAJ,EAAOI,CAAP,KAAa;AACf,YAAMS,CAAC,GAAG7C,CAAC,CAAC+a,UAAZ;;AACA,UAAI,KAAK,CAAL,KAAW/Y,CAAC,CAACgsB,SAAjB,EAA4B;AAC1B,cAAMlrB,GAAC,GAAGV,CAAC,CAACmS,SAAF,EAAV;;AACEzR,QAAAA,GAAC,CAAC+S,KAAF,GAAU,CAAX,EACE7T,CAAC,CAACgsB,SAAF,GAAcnrB,CAAC,CAACgX,gBAAF,CAAmB/W,GAAnB,EAAsBd,CAAtB,CADhB,EAEEA,CAAC,CAACgsB,SAAF,CAAYC,MAAZ,GAAqB,CAAC,CAFxB,EAGCjuB,CAAC,CAACmoB,OAAF,EAHD;AAIF;;AACD,YAAMrlB,CAAC,GAAI,IAAGd,CAAC,CAACiS,EAAG,QAAnB;AAAA,YACErP,CAAC,GAAI,IAAG5C,CAAC,CAACgsB,SAAF,CAAY/Z,EAAG,QADzB;AAAA,YAEElP,CAAC,GAAG/C,CAAC,CAACoS,QAAF,CAAWtR,CAAX,CAFN;AAAA,YAGEuC,CAAC,GAAGrD,CAAC,CAACgsB,SAAF,CAAY5Z,QAAZ,CAAqBxP,CAArB,CAHN;AAIA,WAAK0oB,SAAL,CACG1nB,GADH,CAEI;AACE+b,QAAAA,OAAO,EAAE5c,CADX;AAEEyP,QAAAA,KAAK,EAAE,CAFT;AAGEuL,QAAAA,MAAM,EAAE,YAAY;AAClBld,UAAAA,CAAC,CAACqX,yBAAF,CAA4BlY,CAA5B,EAA+Bc,CAA/B;AACD;AALH,OAFJ,EASI,CATJ,EAWG8C,GAXH,CAYI;AACE+b,QAAAA,OAAO,EAAEtc,CADX;AAEEmP,QAAAA,KAAK,EAAEpS,CAAC,CAACgS,QAAF,CAAY,IAAGhS,CAAC,CAAC6R,EAAG,QAApB,EAA6BO,KAFtC;AAGEuL,QAAAA,MAAM,EAAE,YAAY;AAClBld,UAAAA,CAAC,CAACqX,yBAAF,CAA4BlY,CAAC,CAACgsB,SAA9B,EAAyCppB,CAAzC;AACD;AALH,OAZJ,EAmBI,CAnBJ;AAqBD,KAvHH;AAAA,UAwHE/B,CAAC,GAAG,CAAC7C,CAAD,EAAIoC,CAAJ,EAAOS,CAAP,KAAa;AACf,YAAMC,CAAC,GAAG9C,CAAC,CAAC+a,UAAZ;AAAA,YACEnW,CAAC,GAAI,IAAGxC,CAAC,CAAC6R,EAAG,MADf;AAAA,YAEElP,CAAC,GAAI,IAAG3C,CAAC,CAAC6R,EAAG,UAFf;AAAA,YAGE5O,CAAC,GAAGjD,CAAC,CAACgS,QAAF,CAAWrP,CAAX,EAAcyP,KAHpB;AAAA,YAIElP,CAAC,GAAGzC,CAAC,CAACuR,QAAF,CAAY,IAAGvR,CAAC,CAACoR,EAAG,UAApB,EAA+BO,KAJrC;AAAA,YAKEpO,CAAC,GAAGhE,CAAC,CAACgS,QAAF,CAAY,IAAGhS,CAAC,CAAC6R,EAAG,OAApB,CALN;AAAA,YAMEtN,CAAC,GAAG9D,CAAC,CAACuR,QAAF,CAAY,IAAGvR,CAAC,CAACoR,EAAG,OAApB,CANN;;AAOA,UACG7N,CAAC,CAACoO,KAAF,KAAY7N,CAAC,CAAC6N,KAAd,KACGpO,CAAC,CAACoO,KAAF,GAAU7N,CAAC,CAAC6N,KAAb,EACD1R,CAAC,CAACoX,yBAAF,CAA4B9X,CAA5B,EAAgC,IAAGA,CAAC,CAAC6R,EAAG,OAAxC,CAFD,GAGA5O,CAAC,CAACsqB,KAAF,KAAYrqB,CAAC,CAACqqB,KAAd,IAAuBtqB,CAAC,CAACuqB,KAAF,KAAYtqB,CAAC,CAACsqB,KAAtC,KACIvqB,CAAC,CAACsqB,KAAF,GAAUrqB,CAAC,CAACqqB,KAAb,EACAtqB,CAAC,CAACuqB,KAAF,GAAUtqB,CAAC,CAACsqB,KADZ,EAEAvqB,CAAC,CAAC8Q,WAAF,GAAgB,CAAC,CAFjB,EAGDrT,CAAC,CAACmX,kBAAF,CAAqB7X,CAArB,EAAwB2C,CAAxB,CAJF,CAHC,EAQD,CAAC,CAAD,KAAOM,CAAC,CAAC0N,MAAF,CAASoc,MAAT,CAAgB7pB,CAAC,CAACyN,MAAlB,CATT,EAUE;AACA,cAAM/S,IAAC,GAAG;AACR6vB,UAAAA,OAAO,EAAExqB,CAAC,CAAC3B,MAAF,CAAS+K,CADV;AAERqhB,UAAAA,OAAO,EAAEzqB,CAAC,CAAC3B,MAAF,CAASgL,CAFV;AAGRqhB,UAAAA,OAAO,EAAE1qB,CAAC,CAAC7B,MAAF,CAASiL,CAHV;AAIRuhB,UAAAA,OAAO,EAAE3qB,CAAC,CAAC7B,MAAF,CAASkL;AAJV,SAAV;AAMA,aAAK4e,SAAL,CAAe1nB,GAAf,CACE;AACE+b,UAAAA,OAAO,EAAE3hB,IADX;AAEE6vB,UAAAA,OAAO,EAAEvqB,CAAC,CAAC5B,MAAF,CAAS+K,CAFpB;AAGEqhB,UAAAA,OAAO,EAAExqB,CAAC,CAAC5B,MAAF,CAASgL,CAHpB;AAIEqhB,UAAAA,OAAO,EAAEzqB,CAAC,CAAC9B,MAAF,CAASiL,CAJpB;AAKEuhB,UAAAA,OAAO,EAAE1qB,CAAC,CAAC9B,MAAF,CAASkL,CALpB;AAMEqR,UAAAA,MAAM,EAAE,YAAY;AAClB1a,YAAAA,CAAC,CAAC3B,MAAF,CAASkZ,GAAT,CAAa5c,IAAC,CAAC6vB,OAAf,EAAwB7vB,IAAC,CAAC8vB,OAA1B,GACEzqB,CAAC,CAAC7B,MAAF,CAASoZ,GAAT,CAAa5c,IAAC,CAAC+vB,OAAf,EAAwB/vB,IAAC,CAACgwB,OAA1B,CADF,EAEE3qB,CAAC,CAACzB,YAAF,EAFF,EAGEd,CAAC,CAACoX,yBAAF,CAA4B9X,CAA5B,EAA+BwC,CAA/B,CAHF;AAID;AAXH,SADF,EAcE,CAdF;AAgBD;;AACD5C,MAAAA,CAAC,CAAChC,CAAD,EAAIoC,CAAJ,EAAOS,CAAP,EAAU,CAAC,OAAD,EAAU,MAAV,CAAV,CAAD;AACD,KAnKH;AAAA,UAoKEC,CAAC,GAAG,CAAC9C,CAAD,EAAIoC,CAAJ,EAAOS,CAAP,KAAa;AACf,YAAMC,CAAC,GAAG9C,CAAC,CAAC+a,UAAZ;AAAA,YACEnW,CAAC,GAAGxC,CAAC,CAACgS,QAAF,CAAY,IAAGhS,CAAC,CAAC6R,EAAG,MAApB,CADN;AAAA,YAEElP,CAAC,GAAGlC,CAAC,CAACuR,QAAF,CAAY,IAAGvR,CAAC,CAACoR,EAAG,MAApB,CAFN;AAAA,YAGE5O,CAAC,GAAI,IAAGjD,CAAC,CAAC6R,EAAG,QAHf;AAAA,YAIE3O,CAAC,GAAI,IAAGzC,CAAC,CAACoR,EAAG,QAJf;AAAA,YAKE7N,CAAC,GAAGhE,CAAC,CAACgS,QAAF,CAAW/O,CAAX,CALN;AAAA,YAMEsB,CAAC,GAAG9D,CAAC,CAACuR,QAAF,CAAW9O,CAAX,CANN;AAAA,YAOEoG,CAAC,GAAI,IAAGtJ,CAAC,CAAC6R,EAAG,SAPf;AAAA,YAQEpI,CAAC,GAAI,IAAGhJ,CAAC,CAACoR,EAAG,SARf;AAAA,YASElI,CAAC,GAAG3J,CAAC,CAACgS,QAAF,CAAW1I,CAAX,CATN;AAAA,YAUEuc,CAAC,GAAGplB,CAAC,CAACuR,QAAF,CAAWvI,CAAX,CAVN;;AAWA,UAAIjH,CAAC,CAAC4P,KAAF,IAAWzP,CAAC,CAACyP,KAAjB,EAAwB;AACtB,cAAMxU,IAAC,GAAG+L,CAAC,CAACyI,KAAF,CAAQ5P,CAAC,CAAC4P,KAAF,GAAU,CAAlB,CAAV;;AACA,aAAK,IAAIxS,CAAC,GAAG4C,CAAC,CAAC4P,KAAf,EAAsBxS,CAAC,GAAG+C,CAAC,CAACyP,KAA5B,EAAmC,EAAExS,CAArC,EACGoE,CAAC,CAACoO,KAAF,CAAQxS,CAAR,IAAa,CAAd,EACEc,CAAC,CAACoX,yBAAF,CAA4B9X,CAA5B,EAA+BsJ,CAA/B,CADF,EAEEK,CAAC,CAACyI,KAAF,CAAQxS,CAAR,EAAW4a,GAAX,CAAe5c,IAAC,CAACyO,CAAjB,EAAoBzO,IAAC,CAAC0O,CAAtB,EAAyB1O,IAAC,CAAC2O,CAA3B,EAA8B3O,IAAC,CAACwY,CAAhC,CAFF,EAGE1V,CAAC,CAACoX,yBAAF,CAA4B9X,CAA5B,EAA+BiD,CAA/B,CAHF;;AAIFT,QAAAA,CAAC,CAAC4P,KAAF,KAAYzP,CAAC,CAACyP,KAAd,KACI5P,CAAC,CAAC4P,KAAF,GAAUzP,CAAC,CAACyP,KAAb,EACD1R,CAAC,CAACoX,yBAAF,CAA4B9X,CAA5B,EAAgC,IAAGA,CAAC,CAAC6R,EAAG,MAAxC,CAFF;;AAGA,aAAK,IAAIjU,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG+E,CAAC,CAACyP,KAAtB,EAA6B,EAAExU,IAA/B,EAAkC;AAChC,gBAAMgC,CAAC,GAAG+J,CAAC,CAACyI,KAAF,CAAQxU,IAAR,CAAV;AAAA,gBACE6C,IAAC,GAAGolB,CAAC,CAACzT,KAAF,CAAQxU,IAAR,CADN;;AAEA,cAAIoG,CAAC,CAACoO,KAAF,CAAQxU,IAAR,MAAe2G,CAAC,CAAC6N,KAAF,CAAQxU,IAAR,CAAf,IAA6B,CAAC,CAAD,KAAOgC,CAAC,CAACmtB,MAAF,CAAStsB,IAAT,CAAxC,EAAqD;AACnD,kBAAM+B,GAAC,GAAG;AAAE4P,cAAAA,KAAK,EAAEpO,CAAC,CAACoO,KAAF,CAAQxU,IAAR;AAAT,aAAV;AACA,iBAAKstB,SAAL,CAAe1nB,GAAf,CACE;AACE+b,cAAAA,OAAO,EAAE,CAAC/c,GAAD,EAAI5C,CAAJ,CADX;AAEEwS,cAAAA,KAAK,EAAE7N,CAAC,CAAC6N,KAAF,CAAQxU,IAAR,CAFT;AAGEyO,cAAAA,CAAC,EAAE5L,IAAC,CAAC4L,CAHP;AAIEC,cAAAA,CAAC,EAAE7L,IAAC,CAAC6L,CAJP;AAKEC,cAAAA,CAAC,EAAE9L,IAAC,CAAC8L,CALP;AAME6J,cAAAA,CAAC,EAAE3V,IAAC,CAAC2V,CANP;AAOEuH,cAAAA,MAAM,EAAE,YAAY;AAClB,AAAE3Z,gBAAAA,CAAC,CAACoO,KAAF,CAAQxU,IAAR,IAAa4E,GAAC,CAAC4P,KAAhB,EACC1R,CAAC,CAACoX,yBAAF,CAA4B9X,CAA5B,EAA+BiD,CAA/B,CADD,EAECvC,CAAC,CAACoX,yBAAF,CAA4B9X,CAA5B,EAA+BsJ,CAA/B,CAFD;AAGF;AAXH,aADF,EAcE,CAdF;AAgBD;AACF;AACF,OAjCD,MAiCO;AACL,cAAM1L,IAAC,GAAG,EAAV;;AACA,aAAK,IAAIgC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG+C,CAAC,CAACyP,KAAtB,EAA6B,EAAExS,IAA/B,EAAkC;AAChC,gBAAMa,IAAC,GAAGkJ,CAAC,CAACyI,KAAF,CAAQxS,IAAR,CAAV;AAAA,gBACE4C,GAAC,GAAGqjB,CAAC,CAACzT,KAAF,CAAQxS,IAAR,CADN;AAEEoE,UAAAA,CAAC,CAACoO,KAAF,CAAQxS,IAAR,MAAe2E,CAAC,CAAC6N,KAAF,CAAQxS,IAAR,CAAf,IAA6B,CAAC,CAAD,KAAOa,IAAC,CAACssB,MAAF,CAASvqB,GAAT,CAArC,IACC5E,IAAC,CAACyF,IAAF,CACE,IAAIwqB,OAAJ,CAAajwB,CAAD,IAAO;AACjB,kBAAM+E,CAAC,GAAG;AAAEyP,cAAAA,KAAK,EAAEpO,CAAC,CAACoO,KAAF,CAAQxS,IAAR;AAAT,aAAV;AACA,iBAAKsrB,SAAL,CAAe1nB,GAAf,CACE;AACE+b,cAAAA,OAAO,EAAE,CAAC5c,CAAD,EAAIlC,IAAJ,CADX;AAEE2R,cAAAA,KAAK,EAAE7N,CAAC,CAAC6N,KAAF,CAAQxS,IAAR,CAFT;AAGEyM,cAAAA,CAAC,EAAE7J,GAAC,CAAC6J,CAHP;AAIEC,cAAAA,CAAC,EAAE9J,GAAC,CAAC8J,CAJP;AAKEC,cAAAA,CAAC,EAAE/J,GAAC,CAAC+J,CALP;AAME6J,cAAAA,CAAC,EAAE5T,GAAC,CAAC4T,CANP;AAOEuH,cAAAA,MAAM,EAAE,YAAY;AAClB,AAAE3Z,gBAAAA,CAAC,CAACoO,KAAF,CAAQxS,IAAR,IAAa+C,CAAC,CAACyP,KAAhB,EACC1R,CAAC,CAACoX,yBAAF,CAA4B9X,CAA5B,EAA+BiD,CAA/B,CADD,EAECvC,CAAC,CAACoX,yBAAF,CAA4B9X,CAA5B,EAA+BsJ,CAA/B,CAFD;AAGF,eAXH;AAYEwkB,cAAAA,QAAQ,EAAE,YAAY;AACpBlwB,gBAAAA,CAAC,CAACgC,IAAD,CAAD;AACD;AAdH,aADF,EAiBE,CAjBF;AAmBD,WArBD,CADF,CADD;AAyBF;;AACD,cAAMA,CAAC,GAAGimB,CAAC,CAACzT,KAAF,CAAQzP,CAAC,CAACyP,KAAF,GAAU,CAAlB,CAAV;;AACA,aAAK,IAAI3R,IAAC,GAAGkC,CAAC,CAACyP,KAAf,EAAsB3R,IAAC,GAAG+B,CAAC,CAAC4P,KAA5B,EAAmC,EAAE3R,IAArC,EAAwC;AACtC,gBAAM+B,GAAC,GAAGmH,CAAC,CAACyI,KAAF,CAAQ3R,IAAR,CAAV;AACEuD,UAAAA,CAAC,CAACoO,KAAF,CAAQ3R,IAAR,MAAe8D,CAAC,CAAC6N,KAAF,CAAQ3R,IAAR,CAAf,IAA6B,CAAC,CAAD,KAAO+B,GAAC,CAACuqB,MAAF,CAASntB,CAAT,CAArC,IACChC,IAAC,CAACyF,IAAF,CACE,IAAIwqB,OAAJ,CAAajwB,CAAD,IAAO;AACjB,kBAAM+E,CAAC,GAAG;AAAEyP,cAAAA,KAAK,EAAEpO,CAAC,CAACoO,KAAF,CAAQ3R,IAAR;AAAT,aAAV;AACA,iBAAKyqB,SAAL,CAAe1nB,GAAf,CACE;AACE+b,cAAAA,OAAO,EAAE,CAAC5c,CAAD,EAAIH,GAAJ,CADX;AAEE4P,cAAAA,KAAK,EAAE,CAFT;AAGE/F,cAAAA,CAAC,EAAEzM,CAAC,CAACyM,CAHP;AAIEC,cAAAA,CAAC,EAAE1M,CAAC,CAAC0M,CAJP;AAKEC,cAAAA,CAAC,EAAE3M,CAAC,CAAC2M,CALP;AAME6J,cAAAA,CAAC,EAAExW,CAAC,CAACwW,CANP;AAOEuH,cAAAA,MAAM,EAAE,YAAY;AAClB,AAAE3Z,gBAAAA,CAAC,CAACoO,KAAF,CAAQ3R,IAAR,IAAakC,CAAC,CAACyP,KAAhB,EACC1R,CAAC,CAACoX,yBAAF,CAA4B9X,CAA5B,EAA+BiD,CAA/B,CADD,EAECvC,CAAC,CAACoX,yBAAF,CAA4B9X,CAA5B,EAA+BsJ,CAA/B,CAFD;AAGF,eAXH;AAYEwkB,cAAAA,QAAQ,EAAE,YAAY;AACpBlwB,gBAAAA,CAAC,CAAC6C,IAAD,CAAD;AACD;AAdH,aADF,EAiBE,CAjBF;AAmBD,WArBD,CADF,CADD;AAyBF;;AACDotB,QAAAA,OAAO,CAACE,GAAR,CAAYnwB,IAAZ,EAAe8uB,IAAf,CAAoB,YAAY;AAC9B,AAAElqB,UAAAA,CAAC,CAAC4P,KAAF,GAAUzP,CAAC,CAACyP,KAAb,EACC1R,CAAC,CAACoX,yBAAF,CAA4B9X,CAA5B,EAAgC,IAAGA,CAAC,CAAC6R,EAAG,MAAxC,CADD;AAEF,SAHD;AAID;;AACDjS,MAAAA,CAAC,CAAChC,CAAD,EAAIoC,CAAJ,EAAOS,CAAP,EAAU,CACT,OADS,EAET,MAFS,EAGT,SAHS,EAIT,QAJS,EAKT,QALS,EAMT,OANS,EAOT,OAPS,CAAV,CAAD;AASD,KA3RH;;AA4RA,aAAS+B,CAAT,CAAW5E,CAAX,EAAc4E,CAAd,EAAiB;AACf,UAAIG,CAAC,GAAG/E,CAAC,CAAC+a,UAAF,CAAapB,IAArB;AAAA,UACEtU,CAAC,GAAG,CADN;;AAEA,aAAON,CAAP,GAAY;AACV,YAAI,CAAC,CAAD,KAAOA,CAAC,CAACkpB,MAAb,EAAqB;AACnBlpB,UAAAA,CAAC,GAAGA,CAAC,CAACmP,IAAN;AACA;AACD;;AACD,cAAM5O,CAAC,GAAGV,CAAC,CAACmW,UAAF,CAAa1V,CAAC,EAAd,CAAV;;AACA,YAAI,cAAcN,CAAC,CAAC1B,IAApB,EAA0B;AACxB,gBAAMrB,CAAC,GAAG+C,CAAC,CAACqP,QAAF,CAAY,IAAGrP,CAAC,CAACkP,EAAG,UAApB,EAA+BO,KAAzC;AAAA,gBACE1R,CAAC,GAAGwC,CAAC,CAAC8O,QAAF,CAAY,IAAG9O,CAAC,CAAC2O,EAAG,UAApB,EAA+BO,KADrC;AAEAxS,UAAAA,CAAC,CAACY,KAAF,KAAYE,CAAC,CAACF,KAAd,GAAsBC,CAAC,CAAC7C,CAAD,EAAI+E,CAAJ,EAAOO,CAAP,CAAvB,GAAmClD,CAAC,CAACpC,CAAD,EAAI+E,CAAJ,EAAOO,CAAP,CAApC;AACD,SAJD,MAKE,eAAeP,CAAC,CAAC1B,IAAjB,GACI0B,CAAC,CAACqP,QAAF,CAAY,IAAGrP,CAAC,CAACkP,EAAG,UAApB,EAA+BO,KAA/B,KACAlP,CAAC,CAAC8O,QAAF,CAAY,IAAG9O,CAAC,CAAC2O,EAAG,UAApB,EAA+BO,KAD/B,GAEE1R,CAAC,CAAC9C,CAAD,EAAI+E,CAAJ,EAAOO,CAAP,CAFH,GAGElD,CAAC,CAACpC,CAAD,EAAI+E,CAAJ,EAAOO,CAAP,CAJP,GAKItD,CAAC,CAAChC,CAAD,EAAI+E,CAAJ,EAAOO,CAAP,CALL;;AAMFP,QAAAA,CAAC,GAAGA,CAAC,CAACmP,IAAN;AACD;AACF;;AACD,QAAItH,KAAK,CAACmhB,OAAN,CAAc,KAAK1M,MAAL,CAAY1R,QAA1B,CAAJ,EACE,KAAK,IAAI3N,IAAC,GAAG,CAAR,EAAWI,IAAC,GAAG,KAAKif,MAAL,CAAY1R,QAAZ,CAAqB1L,MAAzC,EAAiDjC,IAAC,GAAGI,IAArD,EAAwD,EAAEJ,IAA1D,EACE4C,CAAC,CAAC,KAAKyc,MAAL,CAAY1R,QAAZ,CAAqB3N,IAArB,CAAD,EAA0BhC,CAAC,CAAC2P,QAAF,CAAW3N,IAAX,CAA1B,CAAD,CAFJ,KAGK4C,CAAC,CAAC,KAAKyc,MAAL,CAAY1R,QAAb,EAAuB3P,CAAC,CAAC2P,QAAzB,CAAD;AACN,GAlrBsB;AAmrBvBuf,EAAAA,aAAa,EAAE,UAAUlvB,CAAV,EAAa;AAC1B,QAAI,CAAC,KAAKqhB,MAAL,CAAY+O,QAAjB,EAA2B;AAC3B,UAAMpuB,CAAC,GAAG,KAAKqf,MAAL,CAAY6I,mBAAZ,GACNlqB,CAAC,CAAC0H,MAAF,CAAS2oB,SADH,GAENrwB,CAAC,CAAC0H,MAAF,CAAS4oB,SAFb;AAGA,SAAKjP,MAAL,CAAYza,IAAZ,KAAqB5E,CAArB,IACE,KAAKsrB,SAAL,CAAe1nB,GAAf,CACE;AACE+b,MAAAA,OAAO,EAAE,KAAKN,MADhB;AAEEza,MAAAA,IAAI,EAAE5E,CAFR;AAGE+d,MAAAA,MAAM,EAAE,MAAM;AACZ,aAAKsB,MAAL,CAAYlB,sBAAZ;AACD;AALH,KADF,EAQE,CARF,CADF;AAWD;AAnsBsB,CAvkB1B,EA4wCEuB,gBAAgB,CAACuB,IAAjB,GAAwB;AACvBC,EAAAA,UAAU,EAAE,CADW;AAEvBI,EAAAA,QAAQ,EAAE,CAFa;AAGvBC,EAAAA,WAAW,EAAE,CAHU;AAIvBgN,EAAAA,WAAW,EAAE,CAJU;AAKvBC,EAAAA,WAAW,EAAE,CALU;AAMvBzM,EAAAA,QAAQ,EAAE,CANa;AAOvBC,EAAAA,MAAM,EAAE,CAPe;AAQvB2J,EAAAA,KAAK,EAAE,CARgB;AASvB/J,EAAAA,OAAO,EAAE,CATc;AAUvB6M,EAAAA,MAAM,EAAE;AAVe,CA5wC1B,EAwxCE/O,gBAAgB,CAACqL,KAAjB,GAAyB,CACxBrL,gBAAgB,CAACuB,IAAjB,CAAsBC,UADE,EAExBxB,gBAAgB,CAACuB,IAAjB,CAAsBK,QAFE,EAGxB5B,gBAAgB,CAACuB,IAAjB,CAAsBM,WAHE,EAIxB7B,gBAAgB,CAACuB,IAAjB,CAAsBc,QAJE,CAxxC3B,EA8xCErC,gBAAgB,CAACoK,SAAjB,GAA6B;AAC5B/rB,EAAAA,WAAW,EAAE2hB,gBADe;;AAE5B,MAAIre,IAAJ,GAAW;AACT,WAAO,KAAKue,KAAZ;AACD,GAJ2B;;AAK5B,MAAIve,IAAJ,CAASrD,CAAT,EAAY;AACV,AAAE,SAAK4hB,KAAL,GAAa5hB,CAAd,EACCA,CAAC,KAAK0hB,gBAAgB,CAACuB,IAAjB,CAAsBc,QAA5B,IACE/jB,CAAC,KAAK0hB,gBAAgB,CAACuB,IAAjB,CAAsBe,MAD9B,KAEG,KAAKnC,GAAL,GAAW,KAAK,CAFnB,CADD;AAIF,GAV2B;;AAW5B6O,EAAAA,SAAS,EAAE,UAAU1wB,CAAV,EAAa;AACtB,UAAMgC,CAAC,GAAG,IAAIigB,iBAAJ,EAAV;AACA,WACGjgB,CAAC,CAACqf,MAAF,GAAWrhB,CAAZ,EACAA,CAAC,CAACoF,WAAF,CAAckc,MAAd,CAAqBrd,MAArB,GAA8B,CAA9B,KACGjC,CAAC,CAACmrB,KAAF,GAAUntB,CAAC,CAACoF,WAAF,CAAckc,MAAd,CAAqBthB,CAAC,CAACoF,WAAF,CAAckc,MAAd,CAAqBrd,MAArB,GAA8B,CAAnD,CADb,CADA,EAGA,KAAK0d,OAAL,CAAalc,IAAb,CAAkBzD,CAAlB,CAHA,EAIAC,WAAW,CAAC0f,OAAZ,CAAoB/b,GAApB,CAAwB5D,CAAxB,CAJA,EAKAA,CANF;AAQD,GArB2B;AAsB5BorB,EAAAA,SAAS,EAAE,UAAUptB,CAAV,EAAagC,CAAb,EAAgB;AACzB,SAAK2f,OAAL,CAAa4K,MAAb,CAAoBvqB,CAApB,EAAuB,CAAvB,EAA0BhC,CAA1B,GAA8BiC,WAAW,CAAC0f,OAAZ,CAAoB/b,GAApB,CAAwB5F,CAAxB,CAA9B;AACD,GAxB2B;AAyB5B2wB,EAAAA,YAAY,EAAE,UAAU3wB,CAAV,EAAa;AACzBiC,IAAAA,WAAW,CAAC0f,OAAZ,CAAoBuL,MAApB,CAA2B,KAAKvL,OAAL,CAAa3hB,CAAb,CAA3B,GAA6C,KAAK2hB,OAAL,CAAa4K,MAAb,CAAoBvsB,CAApB,EAAuB,CAAvB,CAA7C;AACD,GA3B2B;AA4B5ByjB,EAAAA,eAAe,EAAE,YAAY;AAC3B,SAAK,IAAIzjB,CAAC,GAAG,CAAR,EAAWgC,CAAC,GAAG,KAAK2f,OAAL,CAAa1d,MAAjC,EAAyCjE,CAAC,GAAGgC,CAA7C,EAAgD,EAAEhC,CAAlD,EAAqD;AACnD,YAAMgC,IAAC,GAAG,KAAK2f,OAAL,CAAa3hB,CAAb,CAAV;AACA,WAAK,CAAL,KAAWgC,IAAC,CAACmrB,KAAb,IAAsBnrB,IAAC,CAACqf,MAAF,CAASjc,WAAT,CAAqB0oB,OAArB,CAA6B9rB,IAA7B,CAAtB;AACD;AACF,GAjC2B;AAkC5BqhB,EAAAA,QAAQ,EAAE,YAAY;AACpB,SAAK,IAAIrjB,CAAC,GAAG,CAAR,EAAWgC,CAAC,GAAG,KAAK2f,OAAL,CAAa1d,MAAjC,EAAyCjE,CAAC,GAAGgC,CAA7C,EAAgD,EAAEhC,CAAlD,EAAqD;AACnD,YAAMgC,IAAC,GAAG,KAAK2f,OAAL,CAAa3hB,CAAb,CAAV;AACA,WAAK,CAAL,KAAWgC,IAAC,CAACmrB,KAAb,IAAsBnrB,IAAC,CAACqf,MAAF,CAASjc,WAAT,CAAqBwoB,IAArB,CAA0B5rB,IAA1B,CAAtB;AACD;AACF,GAvC2B;AAwC5BgN,EAAAA,IAAI,EAAE,UAAUhP,CAAV,EAAa;AACjB,WAAQ,KAAK8hB,EAAL,CAAQC,WAAR,GAAsB/hB,CAAC,CAAC8hB,EAAF,CAAKC,WAA5B,EAA0C,IAAjD;AACD,GA1C2B;AA2C5BhN,EAAAA,KAAK,EAAE,YAAY;AACjB,WAAO,IAAI2M,gBAAJ,CAAqB,KAAKre,IAA1B,EAAgC,KAAKwe,GAArC,EAA0C7S,IAA1C,CAA+C,IAA/C,CAAP;AACD,GA7C2B;AA8C5Bqe,EAAAA,MAAM,EAAE,UAAUrtB,CAAV,EAAa;AACnB,UAAMgC,CAAC,GAAG;AACRqB,MAAAA,IAAI,EAAE,KAAKue,KADH;AAERC,MAAAA,GAAG,EAAE,KAAKA,GAFF;AAGRC,MAAAA,EAAE,EAAE;AAAEC,QAAAA,WAAW,EAAE,KAAKD,EAAL,CAAQC;AAAvB;AAHI,KAAV;;AAKA,QAAI,KAAKJ,OAAL,CAAa1d,MAAb,GAAsB,CAA1B,EAA6B;AAC3BjC,MAAAA,CAAC,CAAC2f,OAAF,GAAY,EAAZ;;AACA,WAAK,IAAIvf,CAAC,GAAG,CAAR,EAAWS,CAAC,GAAG,KAAK8e,OAAL,CAAa1d,MAAjC,EAAyC7B,CAAC,GAAGS,CAA7C,EAAgD,EAAET,CAAlD,EACEJ,CAAC,CAAC2f,OAAF,CAAUlc,IAAV,CAAe,KAAKkc,OAAL,CAAavf,CAAb,EAAgBirB,MAAhB,CAAuBrtB,CAAvB,CAAf;AACH;;AACD,WAAOgC,CAAP;AACD,GA1D2B;AA2D5B+B,EAAAA,QAAQ,EAAE,UAAU/D,CAAV,EAAagC,CAAb,EAAgBI,CAAhB,EAAmB;AAC3B,QACI,KAAKwf,KAAL,GAAa5hB,CAAC,CAACqD,IAAhB,EACA,KAAKwe,GAAL,GAAW7hB,CAAC,CAAC6hB,GADb,EAEA,KAAKF,OAAL,GAAe,EAFf,EAGA,KAAKG,EAAL,GAAU;AAAEC,MAAAA,WAAW,EAAE/hB,CAAC,CAAC8hB,EAAF,CAAKC;AAApB,KAHV,EAID,KAAK,CAAL,KAAW/hB,CAAC,CAAC2hB,OALf,EAOE,KAAK,IAAI9e,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG9C,CAAC,CAAC2hB,OAAF,CAAU1d,MAA9B,EAAsCpB,CAAC,GAAGC,CAA1C,EAA6C,EAAED,CAA/C,EACE,KAAKuqB,SAAL,CAAe,IAAInL,iBAAJ,GAAwBle,QAAxB,CAAiC/D,CAAC,CAAC2hB,OAAF,CAAU9e,CAAV,CAAjC,EAA+Cb,CAA/C,EAAkDI,CAAlD,CAAf;AACJ,WAAO,IAAP;AACD;AAtE2B,CA9xC/B,EAs2CE0B,gBAAgB,CAACgoB,SAAjB,GAA6B;AAC5B/rB,EAAAA,WAAW,EAAE+D,gBADe;AAE5Bic,EAAAA,MAAM,EAAE,UAAU/f,CAAV,EAAa;AACnB,SAAK4D,YAAL,CAAkB5D,CAAlB,GACE,KAAK+R,cAAL,CAAoB/R,CAApB,CADF,EAEE,KAAK4wB,cAAL,CAAoB5wB,CAApB,CAFF,EAGE,KAAK6wB,YAAL,CAAkB7wB,CAAlB,CAHF;AAID,GAP2B;;AAQ5B6wB,EAAAA,YAAY,CAAC7wB,CAAD,EAAI;AACdA,IAAAA,CAAC,CAACowB,QAAF,KACG,KAAK1oB,MAAL,GAAc;AACb2oB,MAAAA,SAAS,EAAErwB,CAAC,CAAC8wB,WAAF,CAAclqB,IADZ;AAEb0pB,MAAAA,SAAS,EAAEtwB,CAAC,CAAC+wB,WAAF,CAAcnqB;AAFZ,KADjB;AAKD,GAd2B;;AAe5BhD,EAAAA,YAAY,EAAE,UAAU5D,CAAV,EAAa;AACzB,SAAK+O,QAAL,CAAcC,IAAd,CAAmBhP,CAAC,CAAC+O,QAArB,GACE,KAAKK,QAAL,CAAcJ,IAAd,CAAmBhP,CAAC,CAACoP,QAArB,CADF,EAEE,KAAKR,KAAL,CAAWI,IAAX,CAAgBhP,CAAC,CAAC4O,KAAlB,CAFF,EAGE,KAAKS,YAAL,CAAkBL,IAAlB,CAAuBhP,CAAC,CAACqP,YAAzB,CAHF;AAID,GApB2B;AAqB5B0C,EAAAA,cAAc,EAAE,UAAU/R,CAAV,EAAa;AAC3B,QAAI,KAAK,CAAL,KAAWA,CAAC,CAACgS,QAAjB,EAA2B;AACzB,YAAMhQ,CAAC,GAAGhC,CAAC,CAACgS,QAAF,CAAWlD,QAAX,CAAoB/B,UAA9B;AACA,WAAKiF,QAAL,GAAgB;AAAEhF,QAAAA,KAAK,EAAEhL,CAAC,CAACgL,KAAX;AAAkBC,QAAAA,MAAM,EAAEjL,CAAC,CAACiL,MAA5B;AAAoCC,QAAAA,KAAK,EAAElL,CAAC,CAACkL;AAA7C,OAAhB;AACD;AACF,GA1B2B;AA2B5B0jB,EAAAA,cAAc,EAAE,UAAU5wB,CAAV,EAAa;AAC3B,QAAI,KAAK,CAAL,KAAWA,CAAC,CAAC2P,QAAjB,EACE,IAAI,CAAC,CAAD,KAAO/C,KAAK,CAACmhB,OAAN,CAAc/tB,CAAC,CAAC2P,QAAhB,CAAX,EAAsC;AACpC,WAAKA,QAAL,GAAgB,EAAhB;;AACA,WAAK,IAAI3N,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAGpC,CAAC,CAAC2P,QAAF,CAAW1L,MAA/B,EAAuCjC,CAAC,GAAGI,CAA3C,EAA8C,EAAEJ,CAAhD,EAAmD;AACjD,cAAMI,IAAC,GAAG,EAAV;AACA,YAAIS,CAAC,GAAG7C,CAAC,CAAC2P,QAAF,CAAW3N,CAAX,EAAc+Y,UAAd,CAAyBpB,IAAjC;;AACA,eAAO9W,CAAP,GAAYT,IAAC,CAACqD,IAAF,CAAO5C,CAAC,CAACkS,KAAF,EAAP,GAAoBlS,CAAC,GAAGA,CAAC,CAACqR,IAA1B;;AACZ,aAAKvE,QAAL,CAAclK,IAAd,CAAmB;AAAEsV,UAAAA,UAAU,EAAE3Y;AAAd,SAAnB;AACD;AACF,KARD,MAQO;AACL,YAAMJ,CAAC,GAAG,EAAV;AACA,UAAII,CAAC,GAAGpC,CAAC,CAAC2P,QAAF,CAAWoL,UAAX,CAAsBpB,IAA9B;;AACA,aAAOvX,CAAP,GAAYJ,CAAC,CAACyD,IAAF,CAAOrD,CAAC,CAAC2S,KAAF,EAAP,GAAoB3S,CAAC,GAAGA,CAAC,CAAC8R,IAA1B;;AACZ,WAAKvE,QAAL,GAAgB;AAAEoL,QAAAA,UAAU,EAAE/Y;AAAd,OAAhB;AACD;AACJ,GA3C2B;AA4C5B0qB,EAAAA,OAAO,EAAE,UAAU1sB,CAAV,EAAa;AACpB,QACGA,CAAC,CAAC+O,QAAF,CAAWC,IAAX,CAAgB,KAAKD,QAArB,GACD/O,CAAC,CAACoP,QAAF,CAAWJ,IAAX,CAAgB,KAAKI,QAArB,CADC,EAEDpP,CAAC,CAAC4O,KAAF,CAAQI,IAAR,CAAa,KAAKJ,KAAlB,CAFC,EAGD5O,CAAC,CAACqP,YAAF,CAAeL,IAAf,CAAoB,KAAKK,YAAzB,CAHC,EAID,KAAK,CAAL,KAAWrP,CAAC,CAACgS,QALf,EAME;AACA,YAAMhQ,CAAC,GAAGhC,CAAC,CAACgS,QAAF,CAAWlD,QAAX,CAAoB/B,UAA9B;;AACA,UACE,KAAKiF,QAAL,CAAchF,KAAd,KAAwBhL,CAAC,CAACgL,KAA1B,IACA,KAAKgF,QAAL,CAAc/E,MAAd,KAAyBjL,CAAC,CAACiL,MAD3B,IAEA,KAAK+E,QAAL,CAAc9E,KAAd,KAAwBlL,CAAC,CAACkL,KAH5B,EAIE;AACA,cAAMlL,IAAC,GAAGtG,GAAG,CAACsE,CAAC,CAACgS,QAAF,CAAWlD,QAAX,CAAoBzL,IAArB,CAAH,CAA8BqsB,iBAA9B,CACR1vB,CAAC,CAACgS,QADM,EAER;AACEhF,UAAAA,KAAK,EAAE,KAAKgF,QAAL,CAAchF,KADvB;AAEEC,UAAAA,MAAM,EAAE,KAAK+E,QAAL,CAAc/E,MAFxB;AAGEC,UAAAA,KAAK,EAAE,KAAK8E,QAAL,CAAc9E;AAHvB,SAFQ,CAAV;;AAQAlN,QAAAA,CAAC,CAAC+R,cAAF,CAAiB/P,IAAjB;AACD;AACF;;AACD,QAAI,KAAK,CAAL,KAAWhC,CAAC,CAAC2P,QAAjB,EAA2B;AACzB,YAAM3N,CAAC,GAAGhC,CAAC,CAAC2P,QAAZ;AACA,UAAI,CAAC,CAAD,KAAO/C,KAAK,CAACmhB,OAAN,CAAc/rB,CAAd,CAAX,EACE,KAAK,IAAIhC,IAAC,GAAG,CAAR,EAAWoC,CAAC,GAAG,KAAKuN,QAAL,CAAc1L,MAAlC,EAA0CjE,IAAC,GAAGoC,CAA9C,EAAiD,EAAEpC,IAAnD,EAAsD;AACpD,YAAIoC,IAAC,GAAGJ,CAAC,CAAChC,IAAD,CAAD,CAAK+a,UAAL,CAAgBpB,IAAxB;AACA,cAAM9W,CAAC,GAAG,KAAK8M,QAAL,CAAc3P,IAAd,EAAiB+a,UAA3B;AACA,YAAIjY,CAAC,GAAG,CAAR;;AACA,eAAOV,IAAP,GAAYA,IAAC,CAAC4M,IAAF,CAAOnM,CAAC,CAACC,CAAC,EAAF,CAAR,GAAiBV,IAAC,GAAGA,IAAC,CAAC8R,IAAvB;;AACZlS,QAAAA,CAAC,CAAChC,IAAD,CAAD,CAAKmoB,OAAL;AACD,OAPH,MAQK;AACH,YAAInoB,IAAC,GAAGgC,CAAC,CAAC+Y,UAAF,CAAapB,IAArB;AACA,cAAMvX,CAAC,GAAG,KAAKuN,QAAL,CAAcoL,UAAxB;AACA,YAAIlY,CAAC,GAAG,CAAR;;AACA,eAAO7C,IAAP,GAAYA,IAAC,CAAC8U,YAAF,CAAe1S,CAAC,CAACS,CAAC,EAAF,CAAhB,GAAyB7C,IAAC,GAAGA,IAAC,CAACkU,IAA/B;;AACZlS,QAAAA,CAAC,CAACmmB,OAAF;AACD;AACF;;AACD,SAAKzgB,MAAL,KACI1H,CAAC,CAAC4G,IAAF,GAAS5G,CAAC,CAACkqB,mBAAF,GACP,KAAKxiB,MAAL,CAAY2oB,SADL,GAEP,KAAK3oB,MAAL,CAAY4oB,SAFf,EAGDtwB,CAAC,CAACmgB,sBAAF,EAJF;AAKD,GA5F2B;AA6F5BnR,EAAAA,IAAI,EAAE,UAAUhP,CAAV,EAAa;AACjB,QACI,KAAKoR,IAAL,GAAYpR,CAAC,CAACoR,IAAf,EACD,KAAKrC,QAAL,CAAcC,IAAd,CAAmBhP,CAAC,CAAC+O,QAArB,CADC,EAED,KAAKK,QAAL,CAAcJ,IAAd,CAAmBhP,CAAC,CAACoP,QAArB,CAFC,EAGD,KAAKR,KAAL,CAAWI,IAAX,CAAgBhP,CAAC,CAAC4O,KAAlB,CAHC,EAID,KAAKS,YAAL,CAAkBL,IAAlB,CAAuBhP,CAAC,CAACqP,YAAzB,CAJC,EAKD,KAAK,CAAL,KAAWrP,CAAC,CAACgS,QAAb,KACG,KAAKA,QAAL,GAAgB;AACfhF,MAAAA,KAAK,EAAEhN,CAAC,CAACgS,QAAF,CAAWhF,KADH;AAEfC,MAAAA,MAAM,EAAEjN,CAAC,CAACgS,QAAF,CAAW/E,MAFJ;AAGfC,MAAAA,KAAK,EAAElN,CAAC,CAACgS,QAAF,CAAW9E;AAHH,KADnB,CALC,EAWD,KAAK,CAAL,KAAWlN,CAAC,CAAC2P,QAZf,EAcE,IAAI,CAAC,CAAD,KAAO/C,KAAK,CAACmhB,OAAN,CAAc/tB,CAAC,CAAC2P,QAAhB,CAAX,EAAsC;AACpC,WAAKA,QAAL,GAAgB,EAAhB;;AACA,WAAK,IAAI3N,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAGpC,CAAC,CAAC2P,QAAF,CAAW1L,MAA/B,EAAuCjC,CAAC,GAAGI,CAA3C,EAA8C,EAAEJ,CAAhD,EACE,KAAK2N,QAAL,CAAclK,IAAd,CAAmB;AACjBsV,QAAAA,UAAU,EAAE/a,CAAC,CAAC2P,QAAF,CAAW3N,CAAX,EAAc+Y,UAAd,CAAyBiW,GAAzB,CAA8BhxB,CAAD,IAAOA,CAAC,CAAC+U,KAAF,EAApC;AADK,OAAnB;AAGH,KAND,MAOE,KAAKpF,QAAL,GAAgB;AACdoL,MAAAA,UAAU,EAAE/a,CAAC,CAAC2P,QAAF,CAAWoL,UAAX,CAAsBiW,GAAtB,CAA2BhxB,CAAD,IAAOA,CAAC,CAAC+U,KAAF,EAAjC;AADE,KAAhB;AAGJ,WACE,KAAK,CAAL,KAAW/U,CAAC,CAAC0H,MAAb,KACG,KAAKA,MAAL,GAAc;AACb2oB,MAAAA,SAAS,EAAErwB,CAAC,CAAC0H,MAAF,CAAS2oB,SADP;AAEbC,MAAAA,SAAS,EAAEtwB,CAAC,CAAC0H,MAAF,CAAS4oB;AAFP,KADjB,GAKA,IANF;AAQD,GA9H2B;AA+H5Bvb,EAAAA,KAAK,EAAE,YAAY;AACjB,WAAO,IAAIjR,gBAAJ,GAAuBkL,IAAvB,CAA4B,IAA5B,CAAP;AACD,GAjI2B;AAkI5Bqe,EAAAA,MAAM,EAAE,UAAUrtB,CAAV,EAAa;AACnB,UAAMgC,CAAC,GAAG;AACRuN,MAAAA,IAAI,EAAE,KAAKA,IADH;AAER6B,MAAAA,IAAI,EAAE,KAAKA,IAFH;AAGRrC,MAAAA,QAAQ,EAAE,KAAKA,QAAL,CAAc0F,OAAd,EAHF;AAIRrF,MAAAA,QAAQ,EAAE,KAAKA,QAAL,CAAcqF,OAAd,EAJF;AAKR7F,MAAAA,KAAK,EAAE,KAAKA,KAAL,CAAW6F,OAAX,EALC;AAMRpF,MAAAA,YAAY,EAAE,KAAKA,YAAL,CAAkBoF,OAAlB;AANN,KAAV;AAQA,QACG,KAAK,CAAL,KAAW,KAAKzC,QAAhB,KACEhQ,CAAC,CAACgQ,QAAF,GAAa;AACZhF,MAAAA,KAAK,EAAE,KAAKgF,QAAL,CAAchF,KADT;AAEZC,MAAAA,MAAM,EAAE,KAAK+E,QAAL,CAAc/E,MAFV;AAGZC,MAAAA,KAAK,EAAE,KAAK8E,QAAL,CAAc9E;AAHT,KADf,GAMD,KAAK,CAAL,KAAW,KAAKyC,QAPlB,EASE,IAAI,CAAC,CAAD,KAAO/C,KAAK,CAACmhB,OAAN,CAAc,KAAKpe,QAAnB,CAAX,EAAyC;AACvC3N,MAAAA,CAAC,CAAC2N,QAAF,GAAa,EAAb;;AACA,WAAK,IAAIvN,CAAC,GAAG,CAAR,EAAWS,CAAC,GAAG,KAAK8M,QAAL,CAAc1L,MAAlC,EAA0C7B,CAAC,GAAGS,CAA9C,EAAiD,EAAET,CAAnD,EACEJ,CAAC,CAAC2N,QAAF,CAAWlK,IAAX,CAAgB;AACdsV,QAAAA,UAAU,EAAE,KAAKpL,QAAL,CAAcvN,CAAd,EAAiB2Y,UAAjB,CAA4BiW,GAA5B,CAAiChvB,CAAD,IAAOA,CAAC,CAACqrB,MAAF,CAASrtB,CAAT,CAAvC;AADE,OAAhB;AAGH,KAND,MAOEgC,CAAC,CAAC2N,QAAF,GAAa;AACXoL,MAAAA,UAAU,EAAE,KAAKpL,QAAL,CAAcoL,UAAd,CAAyBiW,GAAzB,CAA8BhvB,CAAD,IAAOA,CAAC,CAACqrB,MAAF,CAASrtB,CAAT,CAApC;AADD,KAAb;AAGJ,WACE,KAAK,CAAL,KAAW,KAAK0H,MAAhB,KACG1F,CAAC,CAAC0F,MAAF,GAAW;AACV2oB,MAAAA,SAAS,EAAE,KAAK3oB,MAAL,CAAY2oB,SADb;AAEVC,MAAAA,SAAS,EAAE,KAAK5oB,MAAL,CAAY4oB;AAFb,KADd,GAKAtuB,CANF;AAQD,GAtK2B;AAuK5B+B,EAAAA,QAAQ,EAAE,UAAU/D,CAAV,EAAagC,CAAb,EAAgB;AACxB,QACI,KAAKuN,IAAL,GAAYvP,CAAC,CAACuP,IAAf,EACA,KAAK6B,IAAL,GAAYpR,CAAC,CAACoR,IADd,EAED,KAAKrC,QAAL,CAActL,SAAd,CAAwBzD,CAAC,CAAC+O,QAA1B,CAFC,EAGD,KAAK,CAAL,KAAW/O,CAAC,CAACoP,QAJf,EAME,KAAKA,QAAL,CAAc3L,SAAd,CAAwBzD,CAAC,CAACoP,QAA1B,EANF,KAOK;AACH,YAAMpN,IAAC,GAAG,IAAIzG,KAAK,CAAC4T,UAAV,GAAuB1L,SAAvB,CAAiCzD,CAAC,CAACkP,UAAnC,CAAV;;AACA,WAAKE,QAAL,CAAc6hB,iBAAd,CAAgCjvB,IAAhC;AACD;AACD,QACG,KAAK4M,KAAL,CAAWnL,SAAX,CAAqBzD,CAAC,CAAC4O,KAAvB,GACD,KAAKS,YAAL,CAAkB5L,SAAlB,CAA4BzD,CAAC,CAACqP,YAA9B,CADC,EAED,KAAK,CAAL,KAAWrP,CAAC,CAACgS,QAAb,KACG,KAAKA,QAAL,GAAgB;AACfhF,MAAAA,KAAK,EAAEhN,CAAC,CAACgS,QAAF,CAAWhF,KADH;AAEfC,MAAAA,MAAM,EAAEjN,CAAC,CAACgS,QAAF,CAAW/E,MAFJ;AAGfC,MAAAA,KAAK,EAAElN,CAAC,CAACgS,QAAF,CAAW9E;AAHH,KADnB,CAFC,EAQD,KAAK,CAAL,KAAWlN,CAAC,CAAC2P,QATf,EAWE,IAAI,CAAC,CAAD,KAAO/C,KAAK,CAACmhB,OAAN,CAAc/tB,CAAC,CAAC2P,QAAhB,CAAX,EAAsC;AACpC,WAAKA,QAAL,GAAgB,EAAhB;;AACA,WAAK,IAAIvN,CAAC,GAAG,CAAR,EAAWS,CAAC,GAAG7C,CAAC,CAAC2P,QAAF,CAAW1L,MAA/B,EAAuC7B,CAAC,GAAGS,CAA3C,EAA8C,EAAET,CAAhD,EACE,KAAKuN,QAAL,CAAclK,IAAd,CAAmB;AACjBsV,QAAAA,UAAU,EAAE/a,CAAC,CAAC2P,QAAF,CAAWvN,CAAX,EAAc2Y,UAAd,CAAyBiW,GAAzB,CAA8BhxB,CAAD,IACvCtE,GAAG,CAACsd,mBAAJ,CAAwBhZ,CAAxB,EAA2BgC,CAA3B,CADU;AADK,OAAnB;AAKH,KARD,MASE,KAAK2N,QAAL,GAAgB;AACdoL,MAAAA,UAAU,EAAE/a,CAAC,CAAC2P,QAAF,CAAWoL,UAAX,CAAsBiW,GAAtB,CAA2BhxB,CAAD,IACpCtE,GAAG,CAACsd,mBAAJ,CAAwBhZ,CAAxB,EAA2BgC,CAA3B,CADU;AADE,KAAhB;AAKJ,WACE,KAAK,CAAL,KAAWhC,CAAC,CAAC0H,MAAb,KACG,KAAKA,MAAL,GAAc;AACb2oB,MAAAA,SAAS,EAAErwB,CAAC,CAAC0H,MAAF,CAAS2oB,SADP;AAEbC,MAAAA,SAAS,EAAEtwB,CAAC,CAAC0H,MAAF,CAAS4oB;AAFP,KADjB,GAKA,IANF;AAQD;AApN2B,CAt2C/B,EA4jDErO,iBAAiB,CAACE,MAAlB,GAA2B;AAC1BgM,EAAAA,MAAM,EAAE,CADkB;AAE1BC,EAAAA,IAAI,EAAE,CAFoB;AAG1BC,EAAAA,OAAO,EAAE,CAHiB;AAI1BC,EAAAA,QAAQ,EAAE,CAJgB;AAK1BlM,EAAAA,WAAW,EAAE,CALa;AAM1BmM,EAAAA,KAAK,EAAE,CANmB;AAO1BC,EAAAA,MAAM,EAAE;AAPkB,CA5jD7B,EAqkDEvM,iBAAiB,CAAC6J,SAAlB,GAA8B;AAC7B/rB,EAAAA,WAAW,EAAEkiB,iBADgB;;AAE7B,MAAIiP,OAAJ,GAAc;AACZ,WAAO,KAAK1O,gBAAL,CAAsBC,IAA7B;AACD,GAJ4B;;AAK7B,MAAIyO,OAAJ,CAAYlxB,CAAZ,EAAe;AACb,SAAKwiB,gBAAL,CAAsBC,IAAtB,GAA6BziB,CAA7B;AACD,GAP4B;;AAQ7B,MAAImxB,YAAJ,GAAmB;AACjB,WAAO,KAAK3O,gBAAL,CAAsBE,SAA7B;AACD,GAV4B;;AAW7B,MAAIyO,YAAJ,CAAiBnxB,CAAjB,EAAoB;AAClB,SAAKwiB,gBAAL,CAAsBE,SAAtB,GAAkC1iB,CAAlC;AACD,GAb4B;;AAc7B,MAAIoxB,UAAJ,GAAiB;AACf,WAAO,KAAK5O,gBAAL,CAAsBG,OAA7B;AACD,GAhB4B;;AAiB7B,MAAIyO,UAAJ,CAAepxB,CAAf,EAAkB;AAChB,SAAKwiB,gBAAL,CAAsBG,OAAtB,GAAgC3iB,CAAhC;AACD,GAnB4B;;AAoB7B,MAAIqxB,WAAJ,GAAkB;AAChB,WAAO,KAAK7O,gBAAL,CAAsBI,QAA7B;AACD,GAtB4B;;AAuB7B,MAAIyO,WAAJ,CAAgBrxB,CAAhB,EAAmB;AACjB,SAAKwiB,gBAAL,CAAsBI,QAAtB,GAAiC5iB,CAAjC;AACD,GAzB4B;;AA0B7B,MAAIoF,WAAJ,GAAkB;AAChB,WAAO,KAAK,CAAL,KAAW,KAAKksB,OAAhB,GAA0B,KAAKA,OAAL,CAAalsB,WAAvC,GAAqD,KAAK,CAAjE;AACD,GA5B4B;;AA6B7B,MAAIic,MAAJ,GAAa;AACX,WAAO,KAAKiQ,OAAZ;AACD,GA/B4B;;AAgC7B,MAAIjQ,MAAJ,CAAWrhB,CAAX,EAAc;AACZ,QAAI,KAAK,CAAL,KAAWA,CAAf,EAAkB;AAChB,YAAMgC,CAAC,GAAGhC,CAAC,CAACoF,WAAF,CAAckc,MAAxB;AACA,WAAK6L,KAAL,GAAanrB,CAAC,CAACiC,MAAF,GAAW,CAAX,GAAejC,CAAC,CAACA,CAAC,CAACiC,MAAF,GAAW,CAAZ,CAAhB,GAAiC,KAAK,CAAnD;AACD,KAHD,MAGO,KAAKkpB,KAAL,GAAa,KAAK,CAAlB;;AACP,SAAKmE,OAAL,GAAetxB,CAAf;AACD,GAtC4B;;AAuC7BgP,EAAAA,IAAI,EAAE,UAAUhP,CAAV,EAAa;AACjB,WACG,KAAKkiB,MAAL,GAAcliB,CAAC,CAACkiB,MAAjB,EACC,KAAKG,QAAL,GAAgBriB,CAAC,CAACqiB,QADnB,EAEC,KAAKC,KAAL,GAAatiB,CAAC,CAACsiB,KAFhB,EAGC,KAAKC,aAAL,GAAqB,CAAC,GAAGviB,CAAC,CAACuiB,aAAN,CAHtB,EAIC,KAAKC,gBAAL,GAAwB;AACvBC,MAAAA,IAAI,EAAEziB,CAAC,CAACwiB,gBAAF,CAAmBC,IADF;AAEvBC,MAAAA,SAAS,EAAE1iB,CAAC,CAACwiB,gBAAF,CAAmBE,SAFP;AAGvBC,MAAAA,OAAO,EAAE3iB,CAAC,CAACwiB,gBAAF,CAAmBG,OAHL;AAIvBC,MAAAA,QAAQ,EAAE5iB,CAAC,CAACwiB,gBAAF,CAAmBI;AAJN,KAJzB,EAUC,KAAKlf,MAAL,GAAc1D,CAAC,CAAC0D,MAVjB,EAWC,KAAKmf,KAAL,GAAa7iB,CAAC,CAAC6iB,KAXhB,EAYC,KAAKC,MAAL,GAAc9iB,CAAC,CAAC8iB,MAZjB,EAaA,IAdF;AAgBD,GAxD4B;AAyD7B/N,EAAAA,KAAK,EAAE,YAAY;AACjB,WAAO,IAAIkN,iBAAJ,GAAwBjT,IAAxB,CAA6B,IAA7B,CAAP;AACD,GA3D4B;AA4D7Bqe,EAAAA,MAAM,EAAE,YAAY;AAClB,UAAMrtB,CAAC,GAAG;AACRkiB,MAAAA,MAAM,EAAE,KAAKA,MADL;AAERG,MAAAA,QAAQ,EAAE,KAAKA,QAFP;AAGRC,MAAAA,KAAK,EAAE,KAAKA,KAHJ;AAIRC,MAAAA,aAAa,EAAE,KAAKA,aAJZ;AAKRC,MAAAA,gBAAgB,EAAE;AAChBC,QAAAA,IAAI,EAAE,KAAKD,gBAAL,CAAsBC,IADZ;AAEhBC,QAAAA,SAAS,EAAE,KAAKF,gBAAL,CAAsBE,SAFjB;AAGhBC,QAAAA,OAAO,EAAE,KAAKH,gBAAL,CAAsBG,OAHf;AAIhBC,QAAAA,QAAQ,EAAE,KAAKJ,gBAAL,CAAsBI;AAJhB,OALV;AAWRlf,MAAAA,MAAM,EAAE,KAAKA,MAXL;AAYRmf,MAAAA,KAAK,EAAE,KAAKA,KAZJ;AAaRC,MAAAA,MAAM,EAAE,KAAKA;AAbL,KAAV;AAeA,WACE,KAAK,CAAL,KAAW,KAAKzB,MAAhB,KAA2BrhB,CAAC,CAACqhB,MAAF,GAAW,KAAKA,MAAL,CAAY9R,IAAlD,GACA,KAAK,CAAL,KAAW,KAAK4d,KAAhB,KAA0BntB,CAAC,CAACmtB,KAAF,GAAU,KAAKA,KAAL,CAAW5d,IAA/C,CADA,EAEAvP,CAHF;AAKD,GAjF4B;AAkF7B+D,EAAAA,QAAQ,EAAE,UAAU/D,CAAV,EAAagC,CAAb,EAAgBI,CAAhB,EAAmB;AAC3B,WACE,KAAK,CAAL,KAAWpC,CAAC,CAACqhB,MAAb,KAAwB,KAAKiQ,OAAL,GAAetvB,CAAC,CAAChC,CAAC,CAACqhB,MAAH,CAAxC,GACA,KAAK,CAAL,KAAWrhB,CAAC,CAACmtB,KAAb,KAAuB,KAAKA,KAAL,GAAa/qB,CAAC,CAACpC,CAAC,CAACmtB,KAAH,CAArC,CADA,EAEC,KAAKjL,MAAL,GAAcliB,CAAC,CAACkiB,MAFjB,EAGC,KAAKG,QAAL,GAAgBriB,CAAC,CAACqiB,QAHnB,EAIC,KAAKC,KAAL,GAAatiB,CAAC,CAACsiB,KAJhB,EAKC,KAAKC,aAAL,GAAqB,CAAC,GAAGviB,CAAC,CAACuiB,aAAN,CALtB,EAMC,KAAK7e,MAAL,GAAc1D,CAAC,CAAC0D,MANjB,EAOC,KAAKmf,KAAL,GAAa7iB,CAAC,CAAC6iB,KAPhB,EAQC,KAAKC,MAAL,GAAc,KAAK,CAAL,KAAW9iB,CAAC,CAAC8iB,MAAb,IAAuB9iB,CAAC,CAAC8iB,MARxC,EASA,KAAK,CAAL,KAAW9iB,CAAC,CAACuxB,cAAb,IACM,KAAK/O,gBAAL,CAAsBC,IAAtB,GAA6BziB,CAAC,CAACuxB,cAAF,CAAiB,CAAjB,CAA9B,EACA,KAAK/O,gBAAL,CAAsBE,SAAtB,GAAkC1iB,CAAC,CAACuxB,cAAF,CAAiB,CAAjB,CADlC,EAEA,KAAK/O,gBAAL,CAAsBG,OAAtB,GAAgC3iB,CAAC,CAACuxB,cAAF,CAAiB,CAAjB,CAFhC,EAGA,KAAK/O,gBAAL,CAAsBI,QAAtB,GAAiC5iB,CAAC,CAACuxB,cAAF,CAAiB,CAAjB,CAJtC,KAKM,KAAK/O,gBAAL,CAAsBC,IAAtB,GAA6BziB,CAAC,CAACwiB,gBAAF,CAAmBC,IAAjD,EACA,KAAKD,gBAAL,CAAsBE,SAAtB,GAAkC1iB,CAAC,CAACwiB,gBAAF,CAAmBE,SADrD,EAEA,KAAKF,gBAAL,CAAsBG,OAAtB,GAAgC3iB,CAAC,CAACwiB,gBAAF,CAAmBG,OAFnD,EAGA,KAAKH,gBAAL,CAAsBI,QAAtB,GAAiC5iB,CAAC,CAACwiB,gBAAF,CAAmBI,QARzD,CATA,EAkBA,IAnBF;AAqBD;AAxG4B,CArkDhC,EA+qDEnB,wBAAwB,CAACqK,SAAzB,GAAqC;AACpC0F,EAAAA,YAAY,GAAG;AACb,SAAK,CAAL,KAAW,KAAKpvB,CAAL,CAAOiqB,aAAlB,IACE,KAAKjqB,CAAL,CAAOkf,MAAP,CAAc,KAAKlf,CAAL,CAAOiqB,aAArB,EAAoCzoB,YAApC,CAAiD,KAAKxB,CAAL,CAAOif,MAAxD,CADF;AAED,GAJmC;;AAKpCwP,EAAAA,YAAY,GAAG;AACb,SAAK,CAAL,KAAW,KAAKzuB,CAAL,CAAOiqB,aAAlB,KACG,KAAKjqB,CAAL,CAAOkf,MAAP,CAAc,KAAKlf,CAAL,CAAOiqB,aAArB,EAAoCzoB,YAApC,CAAiD,KAAKxB,CAAL,CAAOif,MAAxD,GACD,KAAKjf,CAAL,CAAOkf,MAAP,CAAc,KAAKlf,CAAL,CAAOiqB,aAArB,EAAoCwE,YAApC,CAAiD,KAAKzuB,CAAL,CAAOif,MAAxD,CAFF;AAGD,GATmC;;AAUpCtP,EAAAA,cAAc,GAAG;AACf,SAAK,CAAL,KAAW,KAAK3P,CAAL,CAAOiqB,aAAlB,KACG,KAAKjqB,CAAL,CAAOkf,MAAP,CAAc,KAAKlf,CAAL,CAAOiqB,aAArB,EAAoCzoB,YAApC,CAAiD,KAAKxB,CAAL,CAAOif,MAAxD,GACD,KAAKjf,CAAL,CAAOkf,MAAP,CAAc,KAAKlf,CAAL,CAAOiqB,aAArB,EAAoCta,cAApC,CAAmD,KAAK3P,CAAL,CAAOif,MAA1D,CAFF;AAGD,GAdmC;;AAepCoQ,EAAAA,gBAAgB,CAACzxB,CAAD,EAAI;AAClB,UAAMgC,CAAC,GAAG,IAAIzG,KAAK,CAAC+T,OAAV,EAAV;AAAA,UACElN,CAAC,GAAG,IAAI7G,KAAK,CAAC+T,OAAV,EADN;AAEAtP,IAAAA,CAAC,CAACgT,iBAAF,CAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB;;AACA,SAAK,IAAInQ,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,KAAKV,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0CpB,CAAC,GAAGC,CAA9C,EAAiD,EAAED,CAAnD,EAAsD;AACpD,YAAMC,GAAC,GAAG,KAAKV,CAAL,CAAOkf,MAAP,CAAcze,CAAd,CAAV;AACAb,MAAAA,CAAC,CAACgN,IAAF,CAAOhP,CAAC,CAAC6S,WAAT,EAAsBsU,MAAtB,IACE,SAAS,KAAK/kB,CAAL,CAAOif,MAAP,CAAczO,MAAvB,KACG,KAAKxQ,CAAL,CAAOif,MAAP,CAAczO,MAAd,CAAqBI,iBAArB,CAAuC,CAAC,CAAxC,EAA2C,CAAC,CAA5C,GACDhR,CAAC,CAAC0vB,QAAF,CAAW,KAAKtvB,CAAL,CAAOif,MAAP,CAAczO,MAAd,CAAqBC,WAAhC,CAFF,CADF,EAIE,CAAC,CAAD,KAAO,KAAKzQ,CAAL,CAAOif,MAAP,CAAcsQ,OAArB,IACKvvB,CAAC,CAACqtB,OAAF,CAAU3sB,GAAC,CAACiM,QAAZ,EAAsBjM,GAAC,CAACoM,UAAxB,EAAoCpM,GAAC,CAAC8L,KAAtC,GACDxM,CAAC,CAACwvB,WAAF,CAAc5vB,CAAd,CADC,EAEDI,CAAC,CAACotB,SAAF,CAAY1sB,GAAC,CAACiM,QAAd,EAAwBjM,GAAC,CAACoM,UAA1B,EAAsCpM,GAAC,CAAC8L,KAAxC,CAHJ,IAII9L,GAAC,CAACuM,YAAF,CAAeuiB,WAAf,CAA2B5vB,CAA3B,CARN;AASD;AACF,GA/BmC;;AAgCpC6vB,EAAAA,mBAAmB,CAAC7xB,CAAD,EAAI;AACrB,QAAI,KAAK,CAAL,KAAW,KAAKoC,CAAL,CAAOiqB,aAAtB,EAAqC;AACrC,UAAMrqB,CAAC,GAAG,KAAKI,CAAL,CAAOif,MAAP,CAAcvS,QAAd,CAAuBgjB,gBAAjC;AACC,KAAC,KAAK,CAAL,KAAW9vB,CAAX,GACE,KAAKI,CAAL,CAAOkf,MAAP,CAAc,KAAKlf,CAAL,CAAOiqB,aAArB,EAAoC1c,QAApC,CAA6C3N,CAA7C,CADF,GAEE,KAAKI,CAAL,CAAOkf,MAAP,CAAc,KAAKlf,CAAL,CAAOiqB,aAArB,EAAoC1c,QAFvC,EAGCoL,UAHD,CAIEyI,IAJF,CAIQxhB,CAAD,IAAOA,CAAC,CAACiS,EAAF,KAASjU,CAAC,CAACiU,EAJzB,EAKEjF,IALF,CAKOhP,CALP;AAMF,GAzCmC;;AA0CpC+xB,EAAAA,iBAAiB,CAAC/xB,CAAD,EAAI;AACnB,QAAI,MAAM,KAAKoC,CAAL,CAAOkf,MAAP,CAAcrd,MAAxB,EACE,IAAI,CAAC,CAAD,KAAO2I,KAAK,CAACmhB,OAAN,CAAc,KAAK3rB,CAAL,CAAOif,MAAP,CAAc1R,QAA5B,CAAX,EAAkD;AAChD,YAAM3N,CAAC,GAAG,KAAKI,CAAL,CAAOif,MAAP,CAAcvS,QAAd,CAAuBgjB,gBAAjC;;AACA,WAAK,IAAI1vB,CAAC,GAAG,CAAR,EAAWS,CAAC,GAAG,KAAKT,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0C7B,CAAC,GAAGS,CAA9C,EAAiD,EAAET,CAAnD,EAAsD;AACpD,cAAMS,IAAC,GAAG7C,CAAC,CAAC+U,KAAF,EAAV;;AACA,aAAK3S,CAAL,CAAOiqB,aAAP,KAAyBjqB,CAAzB,KACGS,IAAC,CAACuR,QAAF,CAAY,IAAGvR,IAAC,CAACoR,EAAG,QAApB,EAA6BO,KAA7B,GAAqC,CADxC,GAEE,KAAKpS,CAAL,CAAOkf,MAAP,CAAclf,CAAd,EAAiBuN,QAAjB,CAA0B3N,CAA1B,EAA6B+Y,UAA7B,CAAwCtV,IAAxC,CAA6C5C,IAA7C,CAFF;AAGD;AACF,KARD,MASE,KAAK,IAAIb,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAG,KAAKA,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0CjC,CAAC,GAAGI,CAA9C,EAAiD,EAAEJ,CAAnD,EAAsD;AACpD,YAAMI,IAAC,GAAGpC,CAAC,CAAC+U,KAAF,EAAV;;AACA,WAAK3S,CAAL,CAAOiqB,aAAP,KAAyBrqB,CAAzB,KACGI,IAAC,CAACgS,QAAF,CAAY,IAAGhS,IAAC,CAAC6R,EAAG,QAApB,EAA6BO,KAA7B,GAAqC,CADxC,GAEE,KAAKpS,CAAL,CAAOkf,MAAP,CAActf,CAAd,EAAiB2N,QAAjB,CAA0BoL,UAA1B,CAAqCtV,IAArC,CAA0CrD,IAA1C,CAFF;AAGD;AACN,GA3DmC;;AA4DpC4vB,EAAAA,gBAAgB,GAAG;AACjB,QAAI,MAAM,KAAK5vB,CAAL,CAAOkf,MAAP,CAAcrd,MAAxB,EACE,IAAI,CAAC,CAAD,KAAO2I,KAAK,CAACmhB,OAAN,CAAc,KAAK3rB,CAAL,CAAOif,MAAP,CAAc1R,QAA5B,CAAX,EAAkD;AAChD,YAAM3P,CAAC,GAAG,KAAKoC,CAAL,CAAOif,MAAP,CAAcvS,QAAd,CAAuBgjB,gBAAjC;;AACA,WAAK,IAAI9vB,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAG,KAAKA,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0CjC,CAAC,GAAGI,CAA9C,EAAiD,EAAEJ,CAAnD,EACE,KAAKI,CAAL,CAAOkf,MAAP,CAActf,CAAd,EAAiB2N,QAAjB,CAA0B3P,CAA1B,EAA6B+a,UAA7B,CAAwCpV,GAAxC;AACH,KAJD,MAKE,KAAK,IAAI3F,CAAC,GAAG,CAAR,EAAWgC,CAAC,GAAG,KAAKI,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0CjE,CAAC,GAAGgC,CAA9C,EAAiD,EAAEhC,CAAnD,EACE,KAAKoC,CAAL,CAAOkf,MAAP,CAActhB,CAAd,EAAiB2P,QAAjB,CAA0BoL,UAA1B,CAAqCpV,GAArC;AACP,GArEmC;;AAsEpCssB,EAAAA,mBAAmB,CAACjyB,CAAD,EAAI;AACrB,QAAI,MAAM,KAAKoC,CAAL,CAAOkf,MAAP,CAAcrd,MAAxB,EAAgC;AAChC,QAAIjC,CAAC,GAAG,EAAR;AACA,QAAI,CAAC,CAAD,KAAO4K,KAAK,CAACmhB,OAAN,CAAc,KAAK3rB,CAAL,CAAOif,MAAP,CAAc1R,QAA5B,CAAX,EACE,KAAK,IAAIvN,CAAC,GAAG,CAAR,EAAWS,CAAC,GAAG,KAAKT,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0C7B,CAAC,GAAGS,CAA9C,EAAiD,EAAET,CAAnD,EAAsD;AACpD,YAAMS,IAAC,GAAG,KAAKT,CAAL,CAAOif,MAAP,CAAcvS,QAAd,CAAuBgjB,gBAAjC;AAAA,YACEhvB,CAAC,GAAG,KAAKV,CAAL,CAAOkf,MAAP,CAAclf,CAAd,EAAiBuN,QAAjB,CAA0B9M,IAA1B,CADN;AAEAb,MAAAA,CAAC,CAACyD,IAAF,CAAO;AAAEysB,QAAAA,KAAK,EAAEpvB,CAAC,CAACiY,UAAF,CAAa/a,CAAb;AAAT,OAAP,GAAoC8C,CAAC,CAACiY,UAAF,CAAawR,MAAb,CAAoBvsB,CAApB,EAAuB,CAAvB,CAApC;AACD,KALH,MAOE,KAAK,IAAIoC,CAAC,GAAG,CAAR,EAAWS,CAAC,GAAG,KAAKT,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0C7B,CAAC,GAAGS,CAA9C,EAAiD,EAAET,CAAnD,EAAsD;AACpD,YAAMS,IAAC,GAAG,KAAKT,CAAL,CAAOkf,MAAP,CAAclf,CAAd,EAAiBuN,QAA3B;AACA3N,MAAAA,CAAC,CAACyD,IAAF,CAAO;AAAEysB,QAAAA,KAAK,EAAErvB,IAAC,CAACkY,UAAF,CAAa/a,CAAb;AAAT,OAAP,GAAoC6C,IAAC,CAACkY,UAAF,CAAawR,MAAb,CAAoBvsB,CAApB,EAAuB,CAAvB,CAApC;AACD;AACH,WAAO;AAAEshB,MAAAA,MAAM,EAAEtf,CAAV;AAAamwB,MAAAA,GAAG,EAAEnyB;AAAlB,KAAP;AACD,GArFmC;;AAsFpCoyB,EAAAA,2BAA2B,CAACpyB,CAAD,EAAI;AAC7B,QAAI,MAAM,KAAKoC,CAAL,CAAOkf,MAAP,CAAcrd,MAAxB,EACE,IAAI,CAAC,CAAD,KAAO2I,KAAK,CAACmhB,OAAN,CAAc,KAAK3rB,CAAL,CAAOif,MAAP,CAAc1R,QAA5B,CAAX,EACE,KAAK,IAAI3N,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAG,KAAKA,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0CjC,CAAC,GAAGI,CAA9C,EAAiD,EAAEJ,CAAnD,EAAsD;AACpD,YAAMI,IAAC,GAAG,KAAKA,CAAL,CAAOif,MAAP,CAAcvS,QAAd,CAAuBgjB,gBAAjC;;AACA,WAAK1vB,CAAL,CAAOkf,MAAP,CAActf,CAAd,EAAiB2N,QAAjB,CAA0BvN,IAA1B,EAA6B2Y,UAA7B,CAAwCwR,MAAxC,CACEvsB,CAAC,CAACmyB,GADJ,EAEE,CAFF,EAGEnyB,CAAC,CAACshB,MAAF,CAAStf,CAAT,EAAYkwB,KAHd;AAKD,KARH,MAUE,KAAK,IAAIlwB,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAG,KAAKA,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0CjC,CAAC,GAAGI,CAA9C,EAAiD,EAAEJ,CAAnD,EAAsD;AACpD,WAAKI,CAAL,CAAOkf,MAAP,CAActf,CAAd,EAAiB2N,QAAjB,CAA0BoL,UAA1B,CAAqCwR,MAArC,CACEvsB,CAAC,CAACmyB,GADJ,EAEE,CAFF,EAGEnyB,CAAC,CAACshB,MAAF,CAAStf,CAAT,EAAYkwB,KAHd;AAKD;AACN,GAzGmC;;AA0GpCG,EAAAA,mBAAmB,CAACryB,CAAD,EAAI;AACrB,QAAI,MAAM,KAAKoC,CAAL,CAAOkf,MAAP,CAAcrd,MAAxB,EAAgC;AAChC,QAAIjC,CAAJ;AAAA,QACEI,CAAC,GAAG,EADN;;AAEA,QAAI,CAAC,CAAD,KAAOwK,KAAK,CAACmhB,OAAN,CAAc,KAAK3rB,CAAL,CAAOif,MAAP,CAAc1R,QAA5B,CAAX,EAAkD;AAChD,YAAM9M,CAAC,GAAG,KAAKT,CAAL,CAAOif,MAAP,CAAcvS,QAAd,CAAuBgjB,gBAAjC;AAAA,YACEhvB,CAAC,GAAG,KAAKV,CAAL,CAAOkf,MAAP,CAAc,KAAKlf,CAAL,CAAOiqB,aAArB,EAAoC1c,QAApC,CAA6C9M,CAA7C,EAAgDkY,UADtD;;AAEA,WAAK,IAAI3Y,IAAC,GAAG,CAAR,EAAWS,IAAC,GAAGC,CAAC,CAACmB,MAAtB,EAA8B7B,IAAC,GAAGS,IAAlC,EAAqC,EAAET,IAAvC,EACE,IAAIU,CAAC,CAACV,IAAD,CAAD,CAAK6R,EAAL,KAAYjU,CAAC,CAACiU,EAAlB,EAAsB;AACpBjS,QAAAA,CAAC,GAAGI,IAAJ;AACA;AACD;;AACH,WAAK,IAAIU,GAAC,GAAG,CAAR,EAAW8B,CAAC,GAAG,KAAKxC,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0CnB,GAAC,GAAG8B,CAA9C,EAAiD,EAAE9B,GAAnD,EAAsD;AACpD,cAAM8B,GAAC,GAAG,KAAKxC,CAAL,CAAOkf,MAAP,CAAcxe,GAAd,EAAiB6M,QAAjB,CAA0B9M,CAA1B,EAA6BkY,UAA7B,CAAwC/Y,CAAxC,CAAV;AAAA,cACE+C,CAAC,GAAG/E,CAAC,CAAC+U,KAAF,EADN;AAEA,aAAK3S,CAAL,CAAOiqB,aAAP,KAAyBvpB,GAAzB,KACGiC,CAAC,CAACqP,QAAF,CAAY,IAAGrP,CAAC,CAACkP,EAAG,QAApB,EAA6BO,KAA7B,GACC5P,GAAC,CAACwP,QAAF,CAAY,IAAGxP,GAAC,CAACqP,EAAG,QAApB,EAA6BO,KAFjC,GAGG,KAAKpS,CAAL,CAAOkf,MAAP,CAAcxe,GAAd,EAAiB6M,QAAjB,CAA0B9M,CAA1B,EAA6BkY,UAA7B,CAAwC/Y,CAAxC,IAA6C+C,CAHhD,EAIE3C,CAAC,CAACqD,IAAF,CAAO;AAAEysB,UAAAA,KAAK,EAAEttB;AAAT,SAAP,CAJF;AAKD;AACF,KAjBD,MAiBO;AACL,YAAM/B,CAAC,GAAG,KAAKT,CAAL,CAAOkf,MAAP,CAAc,KAAKlf,CAAL,CAAOiqB,aAArB,EAAoC1c,QAApC,CAA6CoL,UAAvD;;AACA,WAAK,IAAI3Y,IAAC,GAAG,CAAR,EAAWU,CAAC,GAAGD,CAAC,CAACoB,MAAtB,EAA8B7B,IAAC,GAAGU,CAAlC,EAAqC,EAAEV,IAAvC,EACE,IAAIS,CAAC,CAACT,IAAD,CAAD,CAAK6R,EAAL,KAAYjU,CAAC,CAACiU,EAAlB,EAAsB;AACpBjS,QAAAA,CAAC,GAAGI,IAAJ;AACA;AACD;;AACH,WAAK,IAAIS,IAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,KAAKV,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0CpB,IAAC,GAAGC,CAA9C,EAAiD,EAAED,IAAnD,EAAsD;AACpD,cAAMC,IAAC,GAAG,KAAKV,CAAL,CAAOkf,MAAP,CAAcze,IAAd,EAAiB8M,QAAjB,CAA0BoL,UAA1B,CAAqC/Y,CAArC,CAAV;AAAA,cACE4C,CAAC,GAAG5E,CAAC,CAAC+U,KAAF,EADN;AAEA,aAAK3S,CAAL,CAAOiqB,aAAP,KAAyBxpB,IAAzB,KACG+B,CAAC,CAACwP,QAAF,CAAY,IAAGxP,CAAC,CAACqP,EAAG,QAApB,EAA6BO,KAA7B,GACC1R,IAAC,CAACsR,QAAF,CAAY,IAAGtR,IAAC,CAACmR,EAAG,QAApB,EAA6BO,KAFjC,GAGG,KAAKpS,CAAL,CAAOkf,MAAP,CAAcze,IAAd,EAAiB8M,QAAjB,CAA0BoL,UAA1B,CAAqC/Y,CAArC,IAA0C4C,CAH7C,EAIExC,CAAC,CAACqD,IAAF,CAAO;AAAEysB,UAAAA,KAAK,EAAEpvB;AAAT,SAAP,CAJF;AAKD;AACF;;AACD,WAAO;AAAEwe,MAAAA,MAAM,EAAElf,CAAV;AAAa+vB,MAAAA,GAAG,EAAEnwB;AAAlB,KAAP;AACD,GAjJmC;;AAkJpCswB,EAAAA,2BAA2B,CAACtyB,CAAD,EAAI;AAC7B,QAAI,MAAM,KAAKoC,CAAL,CAAOkf,MAAP,CAAcrd,MAAxB,EACE,IAAI,CAAC,CAAD,KAAO2I,KAAK,CAACmhB,OAAN,CAAc,KAAK3rB,CAAL,CAAOif,MAAP,CAAc1R,QAA5B,CAAX,EAAkD;AAChD,YAAM3N,CAAC,GAAG,KAAKI,CAAL,CAAOif,MAAP,CAAcvS,QAAd,CAAuBgjB,gBAAjC;;AACA,WAAK,IAAI1vB,CAAC,GAAG,CAAR,EAAWS,CAAC,GAAG,KAAKT,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0C7B,CAAC,GAAGS,CAA9C,EAAiD,EAAET,CAAnD,EACE,KAAKA,CAAL,CAAOkf,MAAP,CAAclf,CAAd,EAAiBuN,QAAjB,CAA0B3N,CAA1B,EAA6B+Y,UAA7B,CAAwC/a,CAAC,CAACmyB,GAA1C,IAAiDnyB,CAAC,CAACshB,MAAF,CAASlf,CAAT,EAAY8vB,KAA7D;AACH,KAJD,MAKE,KAAK,IAAIlwB,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAG,KAAKA,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0CjC,CAAC,GAAGI,CAA9C,EAAiD,EAAEJ,CAAnD,EACE,KAAKI,CAAL,CAAOkf,MAAP,CAActf,CAAd,EAAiB2N,QAAjB,CAA0BoL,UAA1B,CAAqC/a,CAAC,CAACmyB,GAAvC,IAA8CnyB,CAAC,CAACshB,MAAF,CAAStf,CAAT,EAAYkwB,KAA1D;AACP,GA3JmC;;AA4JpCK,EAAAA,iBAAiB,CAACvyB,CAAD,EAAIgC,CAAJ,EAAO;AACtB,QAAI,MAAM,KAAKI,CAAL,CAAOkf,MAAP,CAAcrd,MAAxB,EACE,IAAI,CAAC,CAAD,KAAO2I,KAAK,CAACmhB,OAAN,CAAc,KAAK3rB,CAAL,CAAOif,MAAP,CAAc1R,QAA5B,CAAX,EAAkD;AAChD,YAAMvN,CAAC,GAAG,KAAKA,CAAL,CAAOif,MAAP,CAAcvS,QAAd,CAAuBgjB,gBAAjC;;AACA,WAAK,IAAIjvB,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,KAAKV,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0CpB,CAAC,GAAGC,CAA9C,EAAiD,EAAED,CAAnD,EAAsD;AACpD,cAAMC,IAAC,GAAG,KAAKV,CAAL,CAAOkf,MAAP,CAAcze,CAAd,EAAiB8M,QAAjB,CAA0BvN,CAA1B,EAA6B2Y,UAAvC;AAAA,cACEnW,CAAC,GAAG9B,IAAC,CAAC9C,CAAD,CADP;AAEE8C,QAAAA,IAAC,CAAC9C,CAAD,CAAD,GAAO8C,IAAC,CAACd,CAAD,CAAT,EAAgBc,IAAC,CAACd,CAAD,CAAD,GAAO4C,CAAvB;AACF;AACF,KAPD,MAQE,KAAK,IAAIxC,CAAC,GAAG,CAAR,EAAWS,CAAC,GAAG,KAAKT,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0C7B,CAAC,GAAGS,CAA9C,EAAiD,EAAET,CAAnD,EAAsD;AACpD,YAAMS,IAAC,GAAG,KAAKT,CAAL,CAAOkf,MAAP,CAAclf,CAAd,EAAiBuN,QAAjB,CAA0BoL,UAApC;AAAA,YACEjY,CAAC,GAAGD,IAAC,CAAC7C,CAAD,CADP;AAEE6C,MAAAA,IAAC,CAAC7C,CAAD,CAAD,GAAO6C,IAAC,CAACb,CAAD,CAAT,EAAgBa,IAAC,CAACb,CAAD,CAAD,GAAOc,CAAvB;AACF;AACN,GA3KmC;;AA4KpC0vB,EAAAA,yBAAyB,CAACxyB,CAAD,EAAIgC,CAAJ,EAAO;AAC9B,SAAKuwB,iBAAL,CAAuBvyB,CAAvB,EAA0BgC,CAA1B;AACD,GA9KmC;;AA+KpCywB,EAAAA,iBAAiB,CAACzyB,CAAD,EAAI;AACnB,UAAMgC,CAAC,GAAG,EAAV;;AACA,QAAI4K,KAAK,CAACmhB,OAAN,CAAc,KAAK3rB,CAAL,CAAOif,MAAP,CAAc1R,QAA5B,CAAJ,EAA2C;AACzC,YAAMvN,CAAC,GAAG,KAAKA,CAAL,CAAOif,MAAP,CAAcvS,QAAd,CAAuBgjB,gBAAjC;;AACA,WAAK,IAAIjvB,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,KAAKV,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0CpB,CAAC,GAAGC,CAA9C,EAAiD,EAAED,CAAnD,EAAsD;AACpD,cAAMC,IAAC,GAAG,KAAKV,CAAL,CAAOkf,MAAP,CAAcze,CAAd,EAAiB8M,QAAjB,CAA0BvN,CAA1B,CAAV;AACAJ,QAAAA,CAAC,CAACyD,IAAF,CAAO;AAAEsV,UAAAA,UAAU,EAAEjY,IAAC,CAACiY;AAAhB,SAAP;AACA,YAAInW,CAAC,GAAG5E,CAAC,CAAC2Z,IAAV;;AACA,aAAK7W,IAAC,CAACiY,UAAF,GAAe,EAApB,EAAwB,KAAK,CAAL,KAAWnW,CAAnC,GACE9B,IAAC,CAACiY,UAAF,CAAatV,IAAb,CAAkBb,CAAC,CAACmQ,KAAF,EAAlB,GAA+BnQ,CAAC,GAAGA,CAAC,CAACsP,IAArC;AACH;AACF,KATD,MAUE,KAAK,IAAI9R,CAAC,GAAG,CAAR,EAAWS,CAAC,GAAG,KAAKT,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0C7B,CAAC,GAAGS,CAA9C,EAAiD,EAAET,CAAnD,EAAsD;AACpD,YAAMS,IAAC,GAAG,KAAKT,CAAL,CAAOkf,MAAP,CAAclf,CAAd,EAAiBuN,QAA3B;AACA3N,MAAAA,CAAC,CAACyD,IAAF,CAAO;AAAEsV,QAAAA,UAAU,EAAElY,IAAC,CAACkY;AAAhB,OAAP;AACA,UAAIjY,CAAC,GAAG9C,CAAC,CAAC2Z,IAAV;;AACA,WAAK9W,IAAC,CAACkY,UAAF,GAAe,EAApB,EAAwB,KAAK,CAAL,KAAWjY,CAAnC,GACED,IAAC,CAACkY,UAAF,CAAatV,IAAb,CAAkB3C,CAAC,CAACiS,KAAF,EAAlB,GAA+BjS,CAAC,GAAGA,CAAC,CAACoR,IAArC;AACH;;AACH,WAAO;AAAEoN,MAAAA,MAAM,EAAEtf;AAAV,KAAP;AACD,GAnMmC;;AAoMpC0wB,EAAAA,wBAAwB,CAAC1yB,CAAD,EAAI;AAC1B,QAAI4M,KAAK,CAACmhB,OAAN,CAAc,KAAK3rB,CAAL,CAAOif,MAAP,CAAc1R,QAA5B,CAAJ,EAA2C;AACzC,YAAM3N,CAAC,GAAGqf,MAAM,CAACvS,QAAP,CAAgBgjB,gBAA1B;;AACA,WAAK,IAAI1vB,CAAC,GAAG,CAAR,EAAWS,CAAC,GAAG,KAAKT,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0C7B,CAAC,GAAGS,CAA9C,EAAiD,EAAET,CAAnD,EACE,KAAKA,CAAL,CAAOkf,MAAP,CAAclf,CAAd,EAAiBuN,QAAjB,CAA0B3N,CAA1B,EAA6B+Y,UAA7B,GAA0C/a,CAAC,CAACshB,MAAF,CAASlf,CAAT,EAAY2Y,UAAtD;AACH,KAJD,MAKE,KAAK,IAAI/Y,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAG,KAAKA,CAAL,CAAOkf,MAAP,CAAcrd,MAAlC,EAA0CjC,CAAC,GAAGI,CAA9C,EAAiD,EAAEJ,CAAnD,EACE,KAAKI,CAAL,CAAOkf,MAAP,CAActf,CAAd,EAAiB2N,QAAjB,CAA0BoL,UAA1B,GAAuC/a,CAAC,CAACshB,MAAF,CAAStf,CAAT,EAAY+Y,UAAnD;AACL;;AA5MmC,CA/qDvC,EA63DErf,GAAG,CAACyD,YAAJ,GAAmB,IAAK,YAAY;AACnC,AAAE,OAAKoO,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBkN,IAAAA,KAAK,EAAE9K,CAAC,GAAGpC,CAHY;AAIvBZ,IAAAA,cAAc,EAAEyD,CAAC,GAAG,EAJG;AAKvB7D,IAAAA,cAAc,EAAE8D,CAAC,GAAG,EALG;AAMvB6vB,IAAAA,SAAS,EAAE/tB,CANY;AAOvBguB,IAAAA,UAAU,EAAE7tB,CAPW;AAQvB8tB,IAAAA,WAAW,EAAExtB,CAAC,GAAG,GARM;AASvBytB,IAAAA,eAAe,EAAExtB,CAAC,GAAG,CATE;AAUvBytB,IAAAA,kBAAkB,EAAE3sB,CAAC,GAAG,CAVD;AAWvBlH,IAAAA,cAAc,EAAEyH,CAAC,GAAG;AAXG,GAAV,EAYZ;AACD,QAAI+E,CAAJ;AACA,WACG1L,CAAC,GAAGyI,IAAI,CAACoG,GAAL,CAAS7O,CAAT,CAAL,EACCgC,CAAC,GAAGyG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CADL,EAECI,CAAC,GAAGqG,IAAI,CAACoG,GAAL,CAASzM,CAAT,CAFL,EAGA,CAACsJ,CAAC,GACApG,CAAC,GAAG,CAAJ,IAASc,CAAC,GAAG,CAAb,IAAkBf,CAAC,GAAG,GAAtB,GACI,IAAI3J,GAAG,CAAC2D,gBAAJ,CAAqB2zB,6BAAzB,CACE,CADF,EAEEhzB,CAAC,GAAG,CAFN,EAGEgC,CAHF,EAIEa,CAJF,EAKEC,CALF,EAME8B,CANF,EAOEG,CAPF,EAQGM,CAAC,GAAGoD,IAAI,CAACC,EAAV,GAAgB,GARlB,EASEpD,CATF,EAUEc,CAVF,EAWEO,CAXF,EAYE,CAZF,EAaE,CAAC,CAbH,CADJ,GAgBI,IAAIpL,KAAK,CAAC03B,kBAAV,CAA6BjzB,CAAC,GAAG,CAAjC,EAAoCgC,CAApC,EAAuCa,CAAvC,EAA0CC,CAA1C,EAA6C8B,CAA7C,CAjBN,EAiBuDgK,KAjBvD,CAkBE,CAlBF,EAmBE,CAnBF,EAoBExM,CAAC,GAAGpC,CApBN,CAHA,EAyBC0L,CAAC,CAACoD,QAAF,GAAa;AACZzL,MAAAA,IAAI,EAAE,cADM;AAEZ0J,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAEhN,CADG;AAEViN,QAAAA,MAAM,EAAEjL,CAFE;AAGVkL,QAAAA,KAAK,EAAE9K,CAHG;AAIVhD,QAAAA,cAAc,EAAEyD,CAJN;AAKV7D,QAAAA,cAAc,EAAE8D,CALN;AAMV6vB,QAAAA,SAAS,EAAE/tB,CAND;AAOVguB,QAAAA,UAAU,EAAE7tB,CAPF;AAQV8tB,QAAAA,WAAW,EAAExtB,CARH;AASVytB,QAAAA,eAAe,EAAExtB,CATP;AAUVytB,QAAAA,kBAAkB,EAAE3sB,CAVV;AAWVlH,QAAAA,cAAc,EAAEyH;AAXN;AAFA,KAzBd,EAyCA+E,CA1CF;AA4CD,GA1DA,EA2DE,KAAKgkB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEC,IAAAA,KAAK,EAAErK,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBG,KAHnC;AAIE9N,IAAAA,cAAc,EAAE0D,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB3N,cAJ5C;AAKEJ,IAAAA,cAAc,EAAE4F,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB/N,cAL5C;AAME2zB,IAAAA,SAAS,EAAE5tB,CAAC,GAAG/E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB4lB,SANvC;AAOEC,IAAAA,UAAU,EAAEvtB,CAAC,GAAGrF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB6lB,UAPxC;AAQEC,IAAAA,WAAW,EAAEvtB,CAAC,GAAGtF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB8lB,WARzC;AASEC,IAAAA,eAAe,EAAE1sB,CAAC,GAAGpG,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB+lB,eAT7C;AAUEC,IAAAA,kBAAkB,EAAEpsB,CAAC,GAAG3G,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBgmB,kBAVhD;AAWE7zB,IAAAA,cAAc,EAAEwM,CAAC,GAAG1L,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB7N;AAX5C,GAFwB,EAexB;AACA,WAAO,KAAKqO,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB8K,MAAAA,KAAK,EAAErK,CAHS;AAIhBzD,MAAAA,cAAc,EAAE0D,CAJA;AAKhB9D,MAAAA,cAAc,EAAE4F,CALA;AAMhB+tB,MAAAA,SAAS,EAAE5tB,CANK;AAOhB6tB,MAAAA,UAAU,EAAEvtB,CAPI;AAQhBwtB,MAAAA,WAAW,EAAEvtB,CARG;AAShBwtB,MAAAA,eAAe,EAAE1sB,CATD;AAUhB2sB,MAAAA,kBAAkB,EAAEpsB,CAVJ;AAWhBzH,MAAAA,cAAc,EAAEwM;AAXA,KAAX,CAAP;AAaD,GAxFF;AAyFF,CA1FmB,EA73DrB,EAw9DEhQ,GAAG,CAACuD,YAAJ,GAAmB,IAAK,YAAY;AACnC,AAAE,OAAKsO,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBkN,IAAAA,KAAK,EAAE9K,CAAC,GAAGpC,CAHY;AAIvBxB,IAAAA,aAAa,EAAEqE,CAAC,GAAG,CAJI;AAKvB7D,IAAAA,cAAc,EAAE8D,CAAC,GAAG,CALG;AAMvBowB,IAAAA,aAAa,EAAEtuB,CAAC,GAAG,CANI;AAOvBuuB,IAAAA,YAAY,EAAEpuB,CAAC,GAAG,CAPK;AAQvB7F,IAAAA,cAAc,EAAEmG,CAAC,GAAG;AARG,GAAV,EASZ;AACD,QAAIC,CAAJ;AACA,WACGtF,CAAC,GAAGyI,IAAI,CAACoG,GAAL,CAAS7O,CAAT,CAAL,EACCgC,CAAC,GAAGyG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CADL,EAECI,CAAC,GAAGqG,IAAI,CAACoG,GAAL,CAASzM,CAAT,CAFL,EAGC,CAACkD,CAAC,GACD,KAAKP,CAAL,GACI,IAAIxJ,KAAK,CAAC63B,iBAAV,CAA4BpzB,CAA5B,EAA+BgC,CAA/B,EAAkCI,CAAlC,EAAqCS,CAArC,EAAwCC,CAAxC,EAA2C8B,CAA3C,CADJ,GAEI,IAAIyuB,wBAAJ,CAA6BrzB,CAA7B,EAAgCgC,CAAhC,EAAmCI,CAAnC,EAAsCS,CAAtC,EAAyCC,CAAzC,EAA4C8B,CAA5C,EAA+CG,CAA/C,EAAkDM,CAAlD,CAHL,EAG2DyJ,QAH3D,GAGsE;AACrEzL,MAAAA,IAAI,EAAE,cAD+D;AAErE0J,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAEhN,CADG;AAEViN,QAAAA,MAAM,EAAEjL,CAFE;AAGVkL,QAAAA,KAAK,EAAE9K,CAHG;AAIV5D,QAAAA,aAAa,EAAEqE,CAJL;AAKV7D,QAAAA,cAAc,EAAE8D,CALN;AAMVowB,QAAAA,aAAa,EAAEtuB,CANL;AAOVuuB,QAAAA,YAAY,EAAEpuB,CAPJ;AAQV7F,QAAAA,cAAc,EAAEmG;AARN;AAFyD,KANvE,EAmBAC,CApBF;AAsBD,GAjCA,EAkCE,KAAKoqB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEC,IAAAA,KAAK,EAAErK,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBG,KAHnC;AAIE1O,IAAAA,aAAa,EAAEsE,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBvO,aAJ3C;AAKEQ,IAAAA,cAAc,EAAE4F,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB/N,cAL5C;AAMEk0B,IAAAA,aAAa,EAAEnuB,CAAC,GAAG/E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBmmB,aAN3C;AAOEC,IAAAA,YAAY,EAAE9tB,CAAC,GAAGrF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBomB,YAP1C;AAQEj0B,IAAAA,cAAc,EAAEoG,CAAC,GAAGtF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB7N;AAR5C,GAFwB,EAYxB;AACA,WAAO,KAAKqO,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB8K,MAAAA,KAAK,EAAErK,CAHS;AAIhBrE,MAAAA,aAAa,EAAEsE,CAJC;AAKhB9D,MAAAA,cAAc,EAAE4F,CALA;AAMhBsuB,MAAAA,aAAa,EAAEnuB,CANC;AAOhBouB,MAAAA,YAAY,EAAE9tB,CAPE;AAQhBnG,MAAAA,cAAc,EAAEoG;AARA,KAAX,CAAP;AAUD,GAzDF;AA0DF,CA3DmB,EAx9DrB;AAohED,MAAMguB,GAAG,GAAG7qB,IAAI,CAACC,EAAL,GAAU,CAAtB;;AACA,MAAM2qB,wBAAN,SAAuC93B,KAAK,CAACuS,cAA7C,CAA4D;AAC1D/N,EAAAA,WAAW,CAACC,CAAC,GAAG,CAAL,EAAQgC,CAAC,GAAG,CAAZ,EAAeI,CAAC,GAAG,CAAnB,EAAsBS,CAAC,GAAG,CAA1B,EAA6BC,CAAC,GAAG,CAAjC,EAAoC8B,CAAC,GAAG,CAAxC,EAA2CG,CAAC,GAAG,CAA/C,EAAkDM,CAAC,GAAG,CAAtD,EAAyD;AAClE,UAAMC,CAAC,GAAG/J,KAAK,CAAC8S,OAAhB;AACA,aACG,KAAKhL,IAAL,GAAY,mBADf,EAEG,KAAK0J,UAAL,GAAkB;AACjBC,MAAAA,KAAK,EAAEhN,CADU;AAEjBiN,MAAAA,MAAM,EAAEjL,CAFS;AAGjBkL,MAAAA,KAAK,EAAE9K,CAHU;AAIjB5D,MAAAA,aAAa,EAAEqE,CAJE;AAKjB7D,MAAAA,cAAc,EAAE8D,CALC;AAMjBowB,MAAAA,aAAa,EAAEtuB,CANE;AAOjBuuB,MAAAA,YAAY,EAAEpuB,CAPG;AAQjB7F,MAAAA,cAAc,EAAEmG;AARC,KAFrB;AAYA,UAAMe,CAAC,GAAG,IAAV;AACEvD,IAAAA,CAAC,GAAG4F,IAAI,CAACyP,KAAL,CAAWrV,CAAX,CAAL,EACEC,CAAC,GAAG2F,IAAI,CAACyP,KAAL,CAAWpV,CAAX,CADN,EAEE8B,CAAC,GAAG6D,IAAI,CAACyP,KAAL,CAAWtT,CAAX,CAFN,EAGES,CAAC,GAAGoD,IAAI,CAACyP,KAAL,CAAW7S,CAAX,CAHN,EAIEN,CAAC,GAAG0D,IAAI,CAACgF,GAAL,CAAS1I,CAAT,EAAY/E,CAAC,GAAG,CAAhB,EAAmBgC,CAAC,GAAG,CAAvB,EAA0BI,CAAC,GAAG,CAA9B,CAJN;AAKD,UAAMuE,CAAC,GAAG,EAAV;AAAA,UACE+E,CAAC,GAAG,EADN;AAAA,UAEEG,CAAC,GAAG,EAFN;AAAA,UAGEE,CAAC,GAAG,EAHN;AAIA,QAAIkc,CAAC,GAAG,CAAR;AAAA,QACEvB,CAAC,GAAG,CADN;;AAEA,aAASc,CAAT,CAAWxnB,CAAX,EAAcgC,CAAd,EAAiBI,CAAjB,EAAoBS,CAApB,EAAuBC,CAAvB,EAA0B8B,CAA1B,EAA6BS,CAA7B,EAAgCmiB,CAAhC,EAAmCnO,CAAnC,EAAsC3K,CAAtC,EAAyCqZ,CAAzC,EAA4C;AAC1C,YAAMoB,CAAC,GAAG,CAACvkB,CAAC,GAAG,IAAIG,CAAT,IAAcsU,CAAxB;AAAA,YACE+P,CAAC,GAAG,CAAC/jB,CAAC,GAAG,IAAIN,CAAT,IAAc2J,CADpB;AAAA,YAEED,CAAC,GAAG7J,CAAC,GAAG,CAAJ,GAAQG,CAFd;AAAA,YAGEuU,CAAC,GAAGjU,CAAC,GAAG,CAAJ,GAAQN,CAHd;AAAA,YAIEskB,CAAC,GAAG7B,CAAC,GAAG,CAJV;AAAA,YAKE8B,CAAC,GAAGjQ,CAAC,GAAG,CALV;AAAA,YAMEb,CAAC,GAAG9J,CAAC,GAAG,CANV;;AAOA,UAAI6a,CAAC,GAAG,CAAR;AAAA,UACEC,CAAC,GAAG,CADN;AAEA,YAAMC,CAAC,GAAG,IAAInkB,CAAJ,EAAV;;AACA,WAAK,IAAIV,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG4T,CAApB,EAAuB5T,GAAC,EAAxB,EAA4B;AAC1B,cAAMG,CAAC,GAAGH,GAAC,GAAGwkB,CAAJ,GAAQ9P,CAAlB;;AACA,aAAK,IAAIjU,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGikB,CAApB,EAAuBjkB,GAAC,EAAxB,EAA4B;AAC1B,gBAAMC,CAAC,GAAGD,GAAC,GAAG8jB,CAAJ,GAAQ1a,CAAlB;AACEgb,UAAAA,CAAC,CAACzpB,CAAD,CAAD,GAAOsF,CAAC,GAAGzC,CAAZ,EACE4mB,CAAC,CAACznB,CAAD,CAAD,GAAO+C,CAAC,GAAGjC,CADb,EAEE2mB,CAAC,CAACrnB,CAAD,CAAD,GAAOinB,CAFT,EAGC3d,CAAC,CAACjG,IAAF,CAAOgkB,CAAC,CAAChb,CAAT,EAAYgb,CAAC,CAAC/a,CAAd,EAAiB+a,CAAC,CAAC9a,CAAnB,CAHD,EAIE8a,CAAC,CAACzpB,CAAD,CAAD,GAAO,CAJT,EAKEypB,CAAC,CAACznB,CAAD,CAAD,GAAO,CALT,EAMEynB,CAAC,CAACrnB,CAAD,CAAD,GAAOolB,CAAC,GAAG,CAAJ,GAAQ,CAAR,GAAY,CAAC,CANtB,EAOC3b,CAAC,CAACpG,IAAF,CAAOgkB,CAAC,CAAChb,CAAT,EAAYgb,CAAC,CAAC/a,CAAd,EAAiB+a,CAAC,CAAC9a,CAAnB,CAPD,EAQC5C,CAAC,CAACtG,IAAF,CAAOJ,GAAC,GAAGgU,CAAX,CARD,EASCtN,CAAC,CAACtG,IAAF,CAAO,IAAIb,GAAC,GAAG8J,CAAf,CATD,EAUE6a,CAAC,IAAI,CAVP;AAWF;AACF;;AACD,WAAK,IAAIvpB,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG0O,CAApB,EAAuB1O,IAAC,EAAxB,EACE,KAAK,IAAIgC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGqX,CAApB,EAAuBrX,IAAC,EAAxB,EAA4B;AAC1B,cAAMI,IAAC,GAAG6lB,CAAC,GAAGjmB,IAAJ,GAAQsnB,CAAC,GAAGtpB,IAAtB;AAAA,cACE6C,IAAC,GAAGolB,CAAC,GAAGjmB,IAAJ,GAAQsnB,CAAC,IAAItpB,IAAC,GAAG,CAAR,CADf;AAAA,cAEE8C,IAAC,GAAGmlB,CAAC,IAAIjmB,IAAC,GAAG,CAAR,CAAD,GAAcsnB,CAAC,IAAItpB,IAAC,GAAG,CAAR,CAFrB;AAAA,cAGE4E,IAAC,GAAGqjB,CAAC,IAAIjmB,IAAC,GAAG,CAAR,CAAD,GAAcsnB,CAAC,GAAGtpB,IAHxB;;AAIA2G,QAAAA,CAAC,CAAClB,IAAF,CAAOrD,IAAP,EAAUS,IAAV,EAAa+B,IAAb,GAAiB+B,CAAC,CAAClB,IAAF,CAAO5C,IAAP,EAAUC,IAAV,EAAa8B,IAAb,CAAjB,EAAmC4kB,CAAC,IAAI,CAAxC;AACD;;AACHpjB,MAAAA,CAAC,CAAC8H,QAAF,CAAWwY,CAAX,EAAc8C,CAAd,EAAiBzB,CAAjB,GAAsBrB,CAAC,IAAI8C,CAA3B,EAAgCvB,CAAC,IAAIsB,CAArC;AACD;;AACD,aAASlQ,CAAT,CAAWrZ,CAAX,EAAcgC,CAAd,EAAiBI,CAAjB,EAAoBS,CAApB,EAAuBC,CAAvB,EAA0B8B,CAA1B,EAA6B4iB,CAA7B,EAAgCnO,CAAhC,EAAmC3K,CAAnC,EAAsCqZ,CAAtC,EAAyCoB,CAAzC,EAA4C;AAC1C,YAAMC,CAAC,GAAG,CAAC5B,CAAC,GAAG,IAAIziB,CAAT,IAAcgjB,CAAxB;AAAA,YACEtZ,CAAC,GAAG+Y,CAAC,GAAG,CAAJ,GAAQziB,CADd;AAAA,YAEEuU,CAAC,GAAGD,CAAC,GAAG,CAAJ,GAAQtU,CAFd;AAAA,YAGEskB,CAAC,GAAG3a,CAAC,GAAG,CAHV;AAAA,YAIE4a,CAAC,GAAGvB,CAAC,GAAG,CAJV;AAKA,UAAIvP,CAAC,GAAG,CAAR;AAAA,UACE+Q,CAAC,GAAG,CADN;AAEA,YAAMC,CAAC,GAAG,IAAIlkB,CAAJ,EAAV;AAAA,YACEmkB,CAAC,GAAG,IAAInkB,CAAJ,EADN;;AAEA,WAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,CAAC,GAAG,CAAxB,EAA2BC,CAAC,EAA5B,EAAgC;AAC9B,cAAMc,CAAC,GAAId,CAAC,GAAGD,CAAL,GAAUiuB,GAApB;AAAA,cACE3sB,CAAC,GAAG8B,IAAI,CAAC8qB,GAAL,CAASntB,CAAT,IAAcrB,CADpB;AAAA,cAEEkjB,CAAC,GAAG,CAAC,IAAIxf,IAAI,CAAC+qB,GAAL,CAASptB,CAAT,CAAL,IAAoBrB,CAF1B;AAAA,cAGE2hB,CAAC,GAAGje,IAAI,CAAC8qB,GAAL,CAASntB,CAAT,CAHN;AAAA,cAIEohB,EAAC,GAAG/e,IAAI,CAAC+qB,GAAL,CAASptB,CAAT,CAJN;;AAKEojB,QAAAA,CAAC,CAACxnB,CAAD,CAAD,GAAO,CAACsX,CAAC,GAAG3S,CAAL,IAAU7D,CAAlB,EACE0mB,CAAC,CAACpnB,CAAD,CAAD,GAAO,CAACinB,CAAC,GAAGpB,CAAL,IAAUrjB,CADnB,EAEE6kB,CAAC,CAACzpB,CAAD,CAAD,GAAO,CAFT,EAGEypB,CAAC,CAACznB,CAAD,CAAD,GAAO0kB,CAAC,GAAGje,IAAI,CAACgrB,IAAL,CAAUjK,CAAC,CAACxnB,CAAD,CAAX,CAHb,EAIEynB,CAAC,CAACrnB,CAAD,CAAD,GAAOolB,EAAC,GAAG/e,IAAI,CAACgrB,IAAL,CAAUjK,CAAC,CAACpnB,CAAD,CAAX,CAJb;;AAKD,aAAK,IAAIJ,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGsnB,CAApB,EAAuBtnB,IAAC,EAAxB,EAA4B;AAC1B,gBAAMI,IAAC,GAAGJ,IAAC,GAAGonB,CAAJ,GAAQ3a,CAAlB;;AACE+a,UAAAA,CAAC,CAACxpB,CAAD,CAAD,GAAOoC,IAAC,GAAGS,CAAZ,EACC6I,CAAC,CAACjG,IAAF,CAAO+jB,CAAC,CAAC/a,CAAT,EAAY+a,CAAC,CAAC9a,CAAd,EAAiB8a,CAAC,CAAC7a,CAAnB,CADD,EAEC9C,CAAC,CAACpG,IAAF,CAAOgkB,CAAC,CAAChb,CAAT,EAAYgb,CAAC,CAAC/a,CAAd,EAAiB+a,CAAC,CAAC9a,CAAnB,CAFD,EAGC5C,CAAC,CAACtG,IAAF,CAAOzD,IAAC,GAAG+lB,CAAX,CAHD,EAIChc,CAAC,CAACtG,IAAF,CAAO,CAAP,CAJD,EAKE+S,CAAC,IAAI,CALP;AAMF;AACF;;AACD,WAAK,IAAIxY,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGqF,CAApB,EAAuBrF,IAAC,EAAxB,EACE,KAAK,IAAIgC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG+lB,CAApB,EAAuB/lB,IAAC,EAAxB,EAA4B;AAC1B,cAAMI,IAAC,GAAG6lB,CAAC,GAAGjmB,IAAJ,GAAQsnB,CAAC,GAAGtpB,IAAtB;AAAA,cACE6C,IAAC,GAAGolB,CAAC,GAAGjmB,IAAJ,GAAQsnB,CAAC,IAAItpB,IAAC,GAAG,CAAR,CADf;AAAA,cAEE8C,IAAC,GAAGmlB,CAAC,IAAIjmB,IAAC,GAAG,CAAR,CAAD,GAAcsnB,CAAC,IAAItpB,IAAC,GAAG,CAAR,CAFrB;AAAA,cAGE4E,IAAC,GAAGqjB,CAAC,IAAIjmB,IAAC,GAAG,CAAR,CAAD,GAAcsnB,CAAC,GAAGtpB,IAHxB;;AAIA2G,QAAAA,CAAC,CAAClB,IAAF,CAAOrD,IAAP,EAAUS,IAAV,EAAa+B,IAAb,GAAiB+B,CAAC,CAAClB,IAAF,CAAO5C,IAAP,EAAUC,IAAV,EAAa8B,IAAb,CAAjB,EAAmC2kB,CAAC,IAAI,CAAxC;AACD;;AACHnjB,MAAAA,CAAC,CAAC8H,QAAF,CAAWwY,CAAX,EAAc6C,CAAd,EAAiBJ,CAAjB,GAAsBzC,CAAC,IAAI6C,CAA3B,EAAgCtB,CAAC,IAAIzP,CAArC;AACD;;AACD,aAAS9J,CAAT,CAAW7L,CAAX,EAAcC,CAAd,EAAiB8B,CAAjB,EAAoB;AAClB,YAAMwB,CAAC,GAAG,IAAId,CAAJ,EAAV;AAAA,YACEohB,CAAC,GAAG,IAAIphB,CAAJ,CAAMtF,CAAC,GAAG,CAAV,EAAagC,CAAC,GAAG,CAAjB,EAAoBI,CAAC,GAAG,CAAxB,CADN;AAEAskB,MAAAA,CAAC,CAACgN,SAAF,CAAY3uB,CAAZ;AACA,YAAMyiB,CAAC,GAAG,EAAV;AAAA,YACEnO,CAAC,GACCxW,CAAC,GAAGC,CAAJ,GAAQ8B,CAAR,GAAY,CAAZ,GACI,UAAU5E,CAAV,EAAagC,CAAb,EAAgBI,CAAhB,EAAmB;AACjBuE,QAAAA,CAAC,CAAClB,IAAF,CAAOzF,CAAP,EAAUgC,CAAV,EAAaI,CAAb;AACD,OAHL,GAII,UAAUpC,CAAV,EAAagC,CAAb,EAAgBI,CAAhB,EAAmB;AACjBuE,QAAAA,CAAC,CAAClB,IAAF,CAAOzF,CAAP,EAAUoC,CAAV,EAAaJ,CAAb;AACD,OART;;AASA,WAAK,IAAIhC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIqF,CAArB,EAAwBrF,CAAC,EAAzB,EAA6B;AAC3B,cAAMgC,CAAC,GAAG,EAAV;AAAA,cACEI,CAAC,GAAGkxB,GAAG,IAAI,IAAItzB,CAAC,GAAGqF,CAAZ,CADT;AAAA,cAEEC,CAAC,GAAGmD,IAAI,CAAC+qB,GAAL,CAASpxB,CAAT,CAFN;AAAA,cAGEuE,CAAC,GAAG8B,IAAI,CAAC8qB,GAAL,CAASnxB,CAAT,CAHN;AAIA,YAAIiX,EAAC,GAAG,CAAR;;AACA,aAAK,IAAI3K,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI1O,CAArB,EAAwB0O,CAAC,EAAzB,EAA6B;AAC3B,gBAAMtM,IAAC,GAAGqG,IAAI,CAAC+qB,GAAL,CAASna,EAAT,CAAV;AAAA,gBACEhU,CAAC,GAAGoD,IAAI,CAAC8qB,GAAL,CAASla,EAAT,CADN;;AAEEjT,UAAAA,CAAC,CAACqI,CAAF,GAAMnJ,CAAC,GAAGlD,IAAX,EAAgBgE,CAAC,CAACsI,CAAF,GAAM/H,CAAtB,EAA2BP,CAAC,CAACuI,CAAF,GAAMrJ,CAAC,GAAGD,CAArC;;AACD,gBAAMmiB,GAAC,GAAGd,CAAC,CAAC3R,KAAF,GAAU6S,eAAV,CAA0BxhB,CAA1B,EAA6BrB,CAA7B,CAAV;;AACA2G,UAAAA,CAAC,CAACjG,IAAF,CAAO5C,CAAC,GAAG2kB,GAAC,CAAC/Y,CAAb,EAAgB3L,CAAC,GAAG0kB,GAAC,CAAC9Y,CAAtB,EAAyB9J,CAAC,GAAG4iB,GAAC,CAAC7Y,CAA/B,GACE9C,CAAC,CAACpG,IAAF,CAAO5C,CAAC,GAAGuD,CAAC,CAACqI,CAAb,EAAgB3L,CAAC,GAAGsD,CAAC,CAACsI,CAAtB,EAAyB9J,CAAC,GAAGwB,CAAC,CAACuI,CAA/B,CADF,EAEE5C,CAAC,CAACtG,IAAF,CAAO,CAAP,EAAU,CAAV,CAFF,EAGEzD,CAAC,CAACyD,IAAF,CAAOwiB,CAAC,EAAR,CAHF,EAIG5O,EAAC,IAAIia,GAAG,GAAGtzB,CAJd;AAKD;;AACDwnB,QAAAA,CAAC,CAAC/hB,IAAF,CAAOzD,CAAP;AACD;;AACD,YAAM+lB,CAAC,GAAGP,CAAC,CAACvjB,MAAF,GAAW,CAArB;;AACA,WAAK,IAAIjE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+nB,CAApB,EAAuB/nB,CAAC,EAAxB,EAA4B;AAC1B,cAAMgC,CAAC,GAAGwlB,CAAC,CAACxnB,CAAD,CAAX;AAAA,cACEoC,CAAC,GAAGolB,CAAC,CAACxnB,CAAC,GAAG,CAAL,CADP;AAAA,cAEE6C,IAAC,GAAGb,CAAC,CAACiC,MAAF,GAAW,CAFjB;;AAGAoV,QAAAA,CAAC,CAACrX,CAAC,CAAC,CAAD,CAAF,EAAOI,CAAC,CAAC,CAAD,CAAR,EAAaA,CAAC,CAAC,CAAD,CAAd,CAAD;;AACA,aAAK,IAAIpC,IAAC,GAAG,CAAb,EAAgBA,IAAC,IAAI6C,IAArB,EAAwB7C,IAAC,EAAzB,EACEqZ,CAAC,CAACrX,CAAC,CAAChC,IAAC,GAAG,CAAL,CAAF,EAAWgC,CAAC,CAAChC,IAAD,CAAZ,EAAiBoC,CAAC,CAACpC,IAAD,CAAlB,CAAD,EAAyBqZ,CAAC,CAACrX,CAAC,CAAChC,IAAD,CAAF,EAAOoC,CAAC,CAACpC,IAAC,GAAG,CAAL,CAAR,EAAiBoC,CAAC,CAACpC,IAAD,CAAlB,CAA1B;AACH;AACF;;AACDwnB,IAAAA,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAC,CAAjB,EAAoB,CAAC,CAArB,EAAwBplB,CAAxB,EAA2BJ,CAA3B,EAA8BhC,CAA9B,EAAiC4E,CAAjC,EAAoC9B,CAApC,EAAuC,CAAvC,CAAD,EACE0kB,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAC,CAApB,EAAuBplB,CAAvB,EAA0BJ,CAA1B,EAA6B,CAAChC,CAA9B,EAAiC4E,CAAjC,EAAoC9B,CAApC,EAAuC,CAAvC,CADH,EAEE0kB,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,EAAsBxnB,CAAtB,EAAyBoC,CAAzB,EAA4BJ,CAA5B,EAA+Ba,CAA/B,EAAkC+B,CAAlC,EAAqC,CAArC,CAFH,EAGE4iB,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAC,CAApB,EAAuBxnB,CAAvB,EAA0BoC,CAA1B,EAA6B,CAACJ,CAA9B,EAAiCa,CAAjC,EAAoC+B,CAApC,EAAuC,CAAvC,CAHH,EAIE4iB,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAC,CAApB,EAAuBxnB,CAAvB,EAA0BgC,CAA1B,EAA6BI,CAA7B,EAAgCS,CAAhC,EAAmCC,CAAnC,EAAsC,CAAtC,CAJH,EAKE0kB,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAC,CAAjB,EAAoB,CAAC,CAArB,EAAwBxnB,CAAxB,EAA2BgC,CAA3B,EAA8B,CAACI,CAA/B,EAAkCS,CAAlC,EAAqCC,CAArC,EAAwC,CAAxC,CALH,EAMEiC,CAAC,GAAG,CAAJ,KACGsU,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAC,CAAjB,EAAoB,CAAC,CAArB,EAAwB,CAAxB,EAA2BjX,CAA3B,EAA8BJ,CAA9B,EAAiChC,CAAjC,EAAoC4E,CAApC,EAAuC,CAAvC,CAAD,EACDyU,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAC,CAApB,EAAuB,CAAC,CAAxB,EAA2BjX,CAA3B,EAA8BJ,CAA9B,EAAiChC,CAAjC,EAAoC4E,CAApC,EAAuC,CAAvC,CADA,EAEDyU,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAC,CAAjB,EAAoB,CAApB,EAAuB,CAAC,CAAxB,EAA2BjX,CAA3B,EAA8BJ,CAA9B,EAAiChC,CAAjC,EAAoC4E,CAApC,EAAuC,CAAvC,CAFA,EAGDyU,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyBjX,CAAzB,EAA4BJ,CAA5B,EAA+BhC,CAA/B,EAAkC4E,CAAlC,EAAqC,CAArC,CAHA,EAIDyU,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAC,CAAjB,EAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB,EAA4BrZ,CAA5B,EAA+BgC,CAA/B,EAAkCI,CAAlC,EAAqCS,CAArC,EAAwC,CAAxC,CAJA,EAKDwW,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAC,CAApB,EAAuB,CAAvB,EAA0BrZ,CAA1B,EAA6BgC,CAA7B,EAAgCI,CAAhC,EAAmCS,CAAnC,EAAsC,CAAtC,CALA,EAMDwW,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAC,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0BrZ,CAA1B,EAA6BgC,CAA7B,EAAgCI,CAAhC,EAAmCS,CAAnC,EAAsC,CAAtC,CANA,EAODwW,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAC,CAAvB,EAA0BrZ,CAA1B,EAA6BgC,CAA7B,EAAgCI,CAAhC,EAAmCS,CAAnC,EAAsC,CAAtC,CAPA,EAQDwW,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAC,CAAjB,EAAoB,CAAC,CAArB,EAAwB,CAAxB,EAA2BrX,CAA3B,EAA8BhC,CAA9B,EAAiCoC,CAAjC,EAAoCU,CAApC,EAAuC,CAAvC,CARA,EASDuW,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAC,CAApB,EAAuB,CAAC,CAAxB,EAA2BrX,CAA3B,EAA8BhC,CAA9B,EAAiCoC,CAAjC,EAAoCU,CAApC,EAAuC,CAAvC,CATA,EAUDuW,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyBrX,CAAzB,EAA4BhC,CAA5B,EAA+BoC,CAA/B,EAAkCU,CAAlC,EAAqC,CAArC,CAVA,EAWDuW,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAC,CAAjB,EAAoB,CAApB,EAAuB,CAAC,CAAxB,EAA2BrX,CAA3B,EAA8BhC,CAA9B,EAAiCoC,CAAjC,EAAoCU,CAApC,EAAuC,CAAvC,CAXA,EAYD4L,CAAC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAZA,EAaDA,CAAC,CAAC,CAAC,CAAF,EAAK,CAAL,EAAQ,CAAR,CAbA,EAcDA,CAAC,CAAC,CAAD,EAAI,CAAC,CAAL,EAAQ,CAAR,CAdA,EAeDA,CAAC,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,EAAS,CAAT,CAfA,EAgBDA,CAAC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,CAAR,CAhBA,EAiBDA,CAAC,CAAC,CAAC,CAAF,EAAK,CAAL,EAAQ,CAAC,CAAT,CAjBA,EAkBDA,CAAC,CAAC,CAAD,EAAI,CAAC,CAAL,EAAQ,CAAC,CAAT,CAlBA,EAmBDA,CAAC,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,EAAS,CAAC,CAAV,CApBH,CANF,EA2BE,KAAKX,QAAL,CAAcpH,CAAd,CA3BF,EA4BE,KAAKqH,YAAL,CAAkB,UAAlB,EAA8B,IAAIzS,KAAK,CAAC8V,sBAAV,CAAiC3F,CAAjC,EAAoC,CAApC,CAA9B,CA5BF,EA6BE,KAAKsC,YAAL,CAAkB,QAAlB,EAA4B,IAAIzS,KAAK,CAAC8V,sBAAV,CAAiCxF,CAAjC,EAAoC,CAApC,CAA5B,CA7BF,EA8BE,KAAKmC,YAAL,CAAkB,IAAlB,EAAwB,IAAIzS,KAAK,CAAC8V,sBAAV,CAAiCtF,CAAjC,EAAoC,CAApC,CAAxB,CA9BF;AA+BD;;AAnLyD;;AAsL5D,SAAS4nB,IAAT,CAAc3zB,CAAd,EAAiB;AACf,SAAO,IAAIzE,KAAK,CAAC0b,OAAV,CAAkBjX,CAAC,CAAC0O,CAApB,EAAuB,CAAC1O,CAAC,CAACyO,CAA1B,CAAP;AACD;;AACD/S,GAAG,CAAC2D,gBAAJ,GAAuB,IAAK,YAAY;AACtC,AAAE,OAAKkO,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBkN,IAAAA,KAAK,EAAE9K,CAAC,GAAGpC,CAHY;AAIvB4zB,IAAAA,SAAS,EAAE/wB,CAAC,GAAG7C,CAAC,GAAG,CAJI;AAKvB6zB,IAAAA,YAAY,EAAE/wB,CAAC,GAAG9C,CAAC,GAAG,CALC;AAMvBZ,IAAAA,cAAc,EAAEwF,CAAC,GAAG,EANG;AAOvB5F,IAAAA,cAAc,EAAE+F,CAAC,GAAG,CAPG;AAQvB4tB,IAAAA,SAAS,EAAEttB,CAAC,GAAG,CAAC,CARO;AASvButB,IAAAA,UAAU,EAAEttB,CATW;AAUvButB,IAAAA,WAAW,EAAEzsB,CAAC,GAAG,GAVM;AAWvB+sB,IAAAA,YAAY,EAAExsB,CAAC,GAAG,CAXK;AAYvBzH,IAAAA,cAAc,EAAEwM,CAAC,GAAG,CAZG;AAavBooB,IAAAA,MAAM,EAAEjoB,CAAC,GAAG;AAbW,GAAV,EAcZ;AACD,AAAE7L,IAAAA,CAAC,GAAGyI,IAAI,CAACoG,GAAL,CAAS7O,CAAT,CAAL,EAAoBgC,CAAC,GAAGyG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CAAxB,EAAuCI,CAAC,GAAGqG,IAAI,CAACoG,GAAL,CAASzM,CAAT,CAA3C;AACD,QAAI2J,CAAC,GAAG/L,CAAC,GAAG,CAAZ;AACA,QAAI6C,CAAC,KAAKC,CAAV,EAAcD,CAAC,GAAGkJ,CAAL,EAAUjJ,CAAC,GAAGiJ,CAAd,CAAb,KACK,IAAIlJ,CAAC,GAAGC,CAAR,EAAWA,CAAC,GAAIA,CAAC,GAAGiJ,CAAL,IAAWlJ,CAAC,GAAGkJ,CAAf,CAAJ,CAAX,KACClJ,CAAC,GAAIA,CAAC,GAAGkJ,CAAL,GAAUjJ,CAAf,EAAoBA,CAAC,GAAGiJ,CAAxB;AACL,QAAIkc,CAAC,GAAG,IAAI+K,6BAAJ,CACNnwB,CADM,EAENC,CAFM,EAGNd,CAHM,EAIN4C,CAJM,EAKNG,CALM,EAMNM,CANM,EAONC,CAPM,EAQLc,CAAC,GAAGqC,IAAI,CAACC,EAAV,GAAgB,GARV,EASN/B,CATM,EAUNA,CAVM,EAWN+E,CAXM,EAYNG,CAZM,CAAR;AAcA,WACEoc,CAAC,CAACrZ,KAAF,CAAQ,CAAR,EAAW,CAAX,EAAcxM,CAAC,GAAGpC,CAAlB,GACCioB,CAAC,CAACnZ,QAAF,GAAa;AACZzL,MAAAA,IAAI,EAAE,kBADM;AAEZ0J,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAEhN,CADG;AAEViN,QAAAA,MAAM,EAAEjL,CAFE;AAGVkL,QAAAA,KAAK,EAAE9K,CAHG;AAIVwxB,QAAAA,SAAS,EAAE/wB,CAJD;AAKVgxB,QAAAA,YAAY,EAAE/wB,CALJ;AAMV1D,QAAAA,cAAc,EAAEwF,CANN;AAOV5F,QAAAA,cAAc,EAAE+F,CAPN;AAQV4tB,QAAAA,SAAS,EAAEttB,CARD;AASVutB,QAAAA,UAAU,EAAEttB,CATF;AAUVutB,QAAAA,WAAW,EAAEzsB,CAVH;AAWV+sB,QAAAA,YAAY,EAAExsB,CAXJ;AAYVzH,QAAAA,cAAc,EAAEwM,CAZN;AAaVooB,QAAAA,MAAM,EAAEjoB;AAbE;AAFA,KADd,EAmBAoc,CApBF;AAsBD,GAxDA,EAyDE,KAAKyH,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEC,IAAAA,KAAK,EAAErK,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBG,KAHnC;AAIE0mB,IAAAA,SAAS,EAAE9wB,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB6mB,SAJvC;AAKEC,IAAAA,YAAY,EAAEjvB,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB8mB,YAL1C;AAMEz0B,IAAAA,cAAc,EAAE2F,CAAC,GAAG/E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB3N,cAN5C;AAOEJ,IAAAA,cAAc,EAAEqG,CAAC,GAAGrF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB/N,cAP5C;AAQE2zB,IAAAA,SAAS,EAAErtB,CAAC,GAAGtF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB4lB,SARvC;AASEC,IAAAA,UAAU,EAAExsB,CAAC,GAAGpG,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB6lB,UATxC;AAUEC,IAAAA,WAAW,EAAElsB,CAAC,GAAG3G,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB8lB,WAVzC;AAWEM,IAAAA,YAAY,EAAEznB,CAAC,GAAG1L,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBomB,YAX1C;AAYEj0B,IAAAA,cAAc,EAAE2M,CAAC,GAAG7L,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB7N,cAZ5C;AAaE40B,IAAAA,MAAM,EAAE/nB,CAAC,GAAG/L,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB+mB;AAbpC,GAFwB,EAiBxB;AACA,WAAO,KAAKvmB,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB8K,MAAAA,KAAK,EAAErK,CAHS;AAIhB+wB,MAAAA,SAAS,EAAE9wB,CAJK;AAKhB+wB,MAAAA,YAAY,EAAEjvB,CALE;AAMhBxF,MAAAA,cAAc,EAAE2F,CANA;AAOhB/F,MAAAA,cAAc,EAAEqG,CAPA;AAQhBstB,MAAAA,SAAS,EAAErtB,CARK;AAShBstB,MAAAA,UAAU,EAAExsB,CATI;AAUhBysB,MAAAA,WAAW,EAAElsB,CAVG;AAWhBwsB,MAAAA,YAAY,EAAEznB,CAXE;AAYhBxM,MAAAA,cAAc,EAAE2M,CAZA;AAahBioB,MAAAA,MAAM,EAAE/nB;AAbQ,KAAX,CAAP;AAeD,GA1FF;AA2FF,CA5FsB,EAAvB;;AA6FA,MAAMinB,6BAAN,SAA4Cz3B,KAAK,CAACuS,cAAlD,CAAiE;AAC/D/N,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAOI,CAAP,EAAUS,CAAV,EAAaC,CAAb,EAAgB8B,CAAhB,EAAmBG,CAAnB,EAAsBM,CAAtB,EAAyBC,CAAzB,EAA4Bc,CAA5B,EAA+BO,CAA/B,EAAkC+E,CAAlC,EAAqCG,CAAC,GAAG,CAAC,CAA1C,EAA6C;AACtD,aACG,KAAKxI,IAAL,GAAY,+BADf,EAEG,KAAK0J,UAAL,GAAkB;AACjB6mB,MAAAA,SAAS,EAAE5zB,CADM;AAEjB6zB,MAAAA,YAAY,EAAE7xB,CAFG;AAGjBiL,MAAAA,MAAM,EAAE7K,CAHS;AAIjBhD,MAAAA,cAAc,EAAEyD,CAJC;AAKjB7D,MAAAA,cAAc,EAAE8D,CALC;AAMjB6vB,MAAAA,SAAS,EAAE/tB,CANM;AAOjBguB,MAAAA,UAAU,EAAE7tB,CAPK;AAQjB8tB,MAAAA,WAAW,EAAExtB,CARI;AASjB8tB,MAAAA,YAAY,EAAE7tB,CATG;AAUjB6tB,MAAAA,YAAY,EAAE/sB,CAVG;AAWjBlH,MAAAA,cAAc,EAAEyH,CAXC;AAYjBmtB,MAAAA,MAAM,EAAEpoB;AAZS,KAFrB;AAgBA,QAAIK,CAAC,GAAGxQ,KAAK,CAAC0b,OAAd;AAAA,QACEgR,CAAC,GAAG1sB,KAAK,CAAC8S,OADZ;AAAA,QAEEqY,CAAC,GAAGnrB,KAAK,CAAC8V,sBAFZ;AAGErR,IAAAA,CAAC,GAAG,KAAK,CAAL,KAAWA,CAAX,GAAeA,CAAf,GAAmB,CAAxB,EACEgC,CAAC,GAAG,KAAK,CAAL,KAAWA,CAAX,GAAeA,CAAf,GAAmB,CADzB,EAEEI,CAAC,GAAGA,CAAC,IAAI,CAFX,EAGES,CAAC,GAAG4F,IAAI,CAACyP,KAAL,CAAWrV,CAAX,KAAiB,CAHvB,EAIEC,CAAC,GAAG2F,IAAI,CAACyP,KAAL,CAAWpV,CAAX,KAAiB,CAJvB,EAKE8B,CAAC,GAAG,KAAK,CAAL,KAAWA,CAAX,IAAgBA,CALtB,EAMEG,CAAC,GAAG,KAAK,CAAL,KAAWA,CAAX,GAAeA,CAAf,GAAmB,CANzB,EAOEM,CAAC,GAAG,KAAK,CAAL,KAAWA,CAAX,GAAeA,CAAf,GAAmB,IAAIoD,IAAI,CAACC,EAPlC,EAQC9D,CAAC,KAAMU,CAAC,GAAG,CAAL,EAAUc,CAAC,GAAG,CAAnB,CARF;AASD,UAAMohB,CAAC,GAAG,EAAV;AAAA,UACEnO,CAAC,GAAG,EADN;AAAA,UAEE3K,CAAC,GAAG,EAFN;AAAA,UAGEqZ,CAAC,GAAG,EAHN;AAIA,QAAIoB,CAAC,GAAG,CAAR;AACA,UAAMC,CAAC,GAAGhnB,CAAC,GAAG,CAAd;AACA,UAAMqM,CAAC,GAAG,IAAIwZ,CAAJ,EAAV;AAAA,UACE3O,CAAC,GAAG,IAAI2O,CAAJ,EADN;AAEApc,IAAAA,CAAC,IAAI,KAAK7L,CAAV,KAAgBA,CAAC,GAAGsF,CAApB,GAAwBuG,CAAC,IAAI,KAAK7J,CAAV,KAAgBA,CAAC,GAAGoE,CAApB,CAAxB;AACA,QAAIijB,CAAC,GAAG,IAAItd,CAAJ,CAAM/L,CAAN,EAASopB,CAAT,CAAR;AAAA,QACEE,CAAC,GAAG,IAAIvd,CAAJ,CAAM/J,CAAN,EAAS,CAAConB,CAAV,CADN;AAAA,QAEE5Q,CAAC,GAAG,IAFN;AAAA,QAGE+Q,CAAC,GAAG,IAHN;AAAA,QAIEC,CAAC,GAAG,IAJN;AAAA,QAKEC,CAAC,GAAG,IALN;AAAA,QAMElC,CAAC,GAAG8B,CAAC,CAACtU,KAAF,GAAUqS,GAAV,CAAckC,CAAd,CANN;AAAA,QAOEK,CAAC,GAAG,CAPN;AAAA,QAQEC,CAAC,GAAG,CARN;AAAA,QASEC,CAAC,GAAG,CATN;AAUAne,IAAAA,CAAC,GAAG,CAAJ,KAAWie,CAAC,GAAGlhB,IAAI,CAACgF,GAAL,CAASzN,CAAT,EAAYgC,CAAZ,KAAkB,IAAI0J,CAAtB,CAAL,EAAiCke,CAAC,GAAG5pB,CAAC,GAAG2pB,CAAzC,EAA8CE,CAAC,GAAG7nB,CAAC,GAAG2nB,CAAhE;AACA,UAAMI,CAAC,GAAGV,CAAC,CAACtU,KAAF,EAAV;AACAgV,IAAAA,CAAC,CAACtb,CAAF,IAAOkb,CAAP;AACA,UAAMM,CAAC,GAAGxhB,IAAI,CAACC,EAAL,GAAU6e,CAAC,CAAChP,KAAF,EAApB;AAAA,UACEgS,CAAC,GAAGhD,CAAC,CAAChP,KAAF,EADN;AAAA,UAEEiS,CAAC,GAAG/hB,IAAI,CAAC0hB,GAAL,CAASI,CAAC,GAAG,CAAb,CAFN;AAAA,UAGEE,CAAC,GAAGhiB,IAAI,CAAC0hB,GAAL,CAASF,CAAC,GAAG,CAAb,CAHN;AAAA,UAIES,CAAC,GAAGF,CAAC,GAAGC,CAJV;AAAA,UAKEE,CAAC,GAAGjf,CAAC,GAAGgf,CAAH,GAAOD,CALd;AAAA,UAME9b,CAAC,GAAGjD,CAAC,GAAGgf,CAAH,GAAOF,CANd;;AAOA,QACIllB,CAAC,GAAGmD,IAAI,CAACgF,GAAL,CAASnI,CAAT,EAAY,CAACtF,CAAC,GAAG4pB,CAAL,IAAUe,CAAtB,EAAyBpD,CAAC,CAACtjB,MAAF,KAAaymB,CAAtC,CAAL,EACAtkB,CAAC,GAAGqC,IAAI,CAACgF,GAAL,CAASrH,CAAT,EAAY,CAACpE,CAAC,GAAG6nB,CAAL,IAAUlb,CAAtB,EAAyB4Y,CAAC,CAACtjB,MAAF,KAAaymB,CAAtC,CADJ,EAEDplB,CAAC,GAAG,CAHN,EAIE;AACA,YAAMtF,IAAC,GAAGsF,CAAC,GAAGklB,CAAd;;AACEhS,MAAAA,CAAC,GAAG6Q,CAAC,CAACtU,KAAF,GAAUqS,GAAV,CAAc,IAAIrb,CAAJ,CAAM/L,IAAN,EAASsF,CAAT,CAAd,CAAL,EACCoG,CAAC,KAAK,CAAC8d,CAAC,GAAGhR,CAAC,CAACzD,KAAF,EAAL,EAAgBtG,CAAhB,IAAqBkb,CAAC,GAAGe,CAAC,GAAGplB,CAAlC,CADF,EAEC+jB,CAAC,CAACjC,GAAF,CAAMG,CAAC,CAACxS,KAAF,GAAUgf,SAAV,CAAoB/zB,IAApB,CAAN,CAFD;AAGF;;AACD,QAAIoG,CAAC,GAAG,CAAR,EAAW;AACT,YAAMpG,IAAC,GAAGoG,CAAC,GAAGqkB,CAAd;;AACElB,MAAAA,CAAC,GAAGD,CAAC,CAACvU,KAAF,GAAUqS,GAAV,CAAc,IAAIrb,CAAJ,CAAM/L,IAAN,EAAS,CAACoG,CAAV,CAAd,CAAL,EACCkjB,CAAC,CAAC1jB,GAAF,CAAM2hB,CAAC,CAACxS,KAAF,GAAUgf,SAAV,CAAoB/zB,IAApB,CAAN,CADD,EAEC0L,CAAC,KAAM,CAAC+d,CAAC,GAAGF,CAAC,CAACxU,KAAF,EAAL,EAAgBtG,CAAhB,IAAqBkb,CAAC,GAAGe,CAAC,GAAGtkB,CAA9B,EAAkC2jB,CAAC,CAAC3C,GAAF,CAAMG,CAAC,CAACxS,KAAF,GAAUgf,SAAV,CAAoB/zB,IAApB,CAAN,CAAvC,CAFF;AAGF;;AACD,UAAM4qB,CAAC,GAAG,CAACrD,CAAC,GAAG8B,CAAC,CAACtU,KAAF,GAAUqS,GAAV,CAAckC,CAAd,CAAL,EAAuBrlB,MAAvB,KAAkC,GAA5C;AAAA,UACE6mB,CAAC,GAAG,EADN;;AAEA,SAAK,IAAInkB,EAAC,GAAG,CAAb,EAAgBA,EAAC,IAAI9D,CAArB,EAAwB8D,EAAC,EAAzB,EAA6B;AAC3B,YAAMkF,EAAC,GAAG,EAAV;AAAA,YACEoc,EAAC,GAAGthB,EAAC,GAAG9D,CADV;AAAA,YAEE6jB,EAAC,GAAGuB,EAAC,GAAG5iB,CAAJ,GAAQN,CAFd;AAAA,YAGEyiB,GAAC,GAAG,IAAIzb,CAAJ,CAAMtD,IAAI,CAAC8qB,GAAL,CAAS7M,EAAT,CAAN,EAAmBje,IAAI,CAAC+qB,GAAL,CAAS9M,EAAT,CAAnB,CAHN;;AAIA+C,MAAAA,CAAC,IACIuB,CAAC,CAACnf,EAAD,EAAIoc,EAAJ,EAAOT,GAAP,EAAUyC,CAAV,EAAa7jB,CAAb,EAAgBqjB,CAAhB,EAAmB,CAAC,CAApB,EAAuB,CAAC,CAAxB,CAAD,EAA6BuB,CAAC,CAACnf,EAAD,EAAIoc,EAAJ,EAAOT,GAAP,EAAU+C,CAAV,EAAankB,CAAb,EAAgBmjB,CAAhB,EAAmB,CAAC,CAApB,EAAuB,CAAC,CAAxB,CADlC,IAEGA,CAAC,IACA0B,CAAC,CAACpf,EAAD,EAAI2b,GAAJ,EAAO+B,CAAC,CAAC9a,CAAT,EAAY,CAAZ,EAAe,CAAC,CAAhB,CAAD,EAAqBuc,CAAC,CAACnf,EAAD,EAAIoc,EAAJ,EAAOT,GAAP,EAAU+C,CAAV,EAAankB,CAAb,EAAgBmjB,CAAhB,EAAmB,CAAC,CAApB,EAAuB,CAAC,CAAxB,CADtB,IAED3kB,CAAC,IAAIqmB,CAAC,CAACpf,EAAD,EAAI2b,GAAJ,EAAOxlB,CAAP,EAAU6nB,CAAV,EAAa,CAAC,CAAd,CAJV;;AAKA,YAAMT,EAAC,GAAGuK,IAAI,CAACpM,CAAD,CAAJ,CAAQyM,SAAR,EAAV;;AACA,UAAKC,SAAS,CAAC7K,EAAD,EAAI5B,GAAJ,EAAO/Y,CAAP,CAAT,EAAoB,CAACmc,CAA1B,EACE,KAAK,IAAI5qB,IAAC,GAAG,CAAb,EAAgBA,IAAC,IAAI8C,CAArB,EAAwB9C,IAAC,EAAzB,EAA6B;AAC3B,cAAMgC,IAAC,GAAGhC,IAAC,GAAG8C,CAAd;AAAA,cACED,IAAC,GAAG0kB,CAAC,CAACxS,KAAF,GAAU+S,cAAV,CAAyB9lB,IAAzB,EAA4B4D,GAA5B,CAAgC0jB,CAAhC,CADN;;AAEA2K,QAAAA,SAAS,CAACpxB,IAAD,EAAI2kB,GAAJ,EAAOlO,CAAP,CAAT,EACED,CAAC,CAAC5T,IAAF,CAAO6T,CAAC,CAAC7K,CAAT,EAAY6K,CAAC,CAAC5K,CAAd,EAAiB4K,CAAC,CAAC3K,CAAnB,CADF,EAEED,CAAC,CAACjJ,IAAF,CAAOgJ,CAAC,CAACA,CAAT,EAAYA,CAAC,CAACC,CAAd,EAAiBD,CAAC,CAACE,CAAnB,CAFF,EAGEoZ,CAAC,CAACtiB,IAAF,CAAOwiB,EAAP,EAAU,MAAM3O,CAAC,CAAC5K,CAAF,GAAMtM,CAAtB,CAHF,EAIEyJ,EAAC,CAACpG,IAAF,CAAO0jB,CAAC,EAAR,CAJF;AAKD;;AACH,UACGK,CAAC,IACGwB,CAAC,CAACnf,EAAD,EAAIoc,EAAJ,EAAOT,GAAP,EAAUyC,CAAV,EAAa3kB,CAAb,EAAgBkT,CAAhB,EAAmB,CAAnB,EAAsB,CAAC,CAAvB,CAAD,EAA4BwS,CAAC,CAACnf,EAAD,EAAIoc,EAAJ,EAAOT,GAAP,EAAU+C,CAAV,EAAajlB,CAAb,EAAgBkkB,CAAhB,EAAmB,CAAnB,EAAsB,CAAC,CAAvB,CADhC,IAEEhR,CAAC,IACAwS,CAAC,CAACnf,EAAD,EAAIoc,EAAJ,EAAOT,GAAP,EAAUyC,CAAV,EAAa3kB,CAAb,EAAgBkT,CAAhB,EAAmB,CAAnB,EAAsB,CAAC,CAAvB,CAAD,EAA4ByS,CAAC,CAACpf,EAAD,EAAI2b,GAAJ,EAAOhP,CAAC,CAAC/J,CAAT,EAAY,CAAZ,EAAe,CAAf,CAD7B,IAED7J,CAAC,IAAIqmB,CAAC,CAACpf,EAAD,EAAI2b,GAAJ,EAAOxnB,CAAP,EAAU4pB,CAAV,EAAa,CAAb,CAJT,EAKDle,CAAC,IAAI,CAACkf,CANR,EAOE;AACA,cAAM5qB,IAAC,GAAG2zB,IAAI,CAACpM,CAAD,CAAJ,CAAQO,cAAR,CAAuB,CAAC,CAAxB,EAA2BkM,SAA3B,EAAV;;AACAC,QAAAA,SAAS,CAACj0B,IAAD,EAAIwnB,GAAJ,EAAO/Y,CAAP,CAAT;;AACA,aAAK,IAAIzO,IAAC,GAAG,CAAb,EAAgBA,IAAC,IAAI8C,CAArB,EAAwB9C,IAAC,EAAzB,EAA6B;AAC3B,gBAAMgC,IAAC,GAAGhC,IAAC,GAAG8C,CAAd;AAAA,gBACED,IAAC,GAAG0kB,CAAC,CAACxS,KAAF,GAAU+S,cAAV,CAAyB,CAAC9lB,IAA1B,EAA6B4D,GAA7B,CAAiCmkB,CAAjC,CADN;;AAEAkK,UAAAA,SAAS,CAACpxB,IAAD,EAAI2kB,GAAJ,EAAOlO,CAAP,CAAT,EACED,CAAC,CAAC5T,IAAF,CAAO6T,CAAC,CAAC7K,CAAT,EAAY6K,CAAC,CAAC5K,CAAd,EAAiB4K,CAAC,CAAC3K,CAAnB,CADF,EAEED,CAAC,CAACjJ,IAAF,CAAOgJ,CAAC,CAACA,CAAT,EAAYA,CAAC,CAACC,CAAd,EAAiBD,CAAC,CAACE,CAAnB,CAFF,EAGEoZ,CAAC,CAACtiB,IAAF,CAAOwiB,EAAP,EAAU,MAAM3O,CAAC,CAAC5K,CAAF,GAAMtM,CAAtB,CAHF,EAIEyJ,EAAC,CAACpG,IAAF,CAAO0jB,CAAC,EAAR,CAJF;AAKD;AACF;;AACDzd,MAAAA,CAAC,IAAI,CAAC9G,CAAN,IAAWiH,EAAC,CAACpG,IAAF,CAAOoG,EAAC,CAAC,CAAD,CAAR,CAAX,EAAyBif,CAAC,CAACrlB,IAAF,CAAOoG,EAAP,CAAzB;AACD;;AACD,SAAK,IAAI7L,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG8qB,CAAC,CAAC7mB,MAAF,GAAW,CAA/B,EAAkCjE,IAAC,EAAnC,EACE,KAAK,IAAIgC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG8oB,CAAC,CAAC,CAAD,CAAD,CAAK7mB,MAAL,GAAc,CAAlC,EAAqCjC,IAAC,EAAtC,EAA0C;AACxC,UAAI4C,CAAC,IAAI8G,CAAL,IAAU1J,IAAC,IAAIc,CAAnB,EAAsB;AACtB,YAAMV,IAAC,GAAG0oB,CAAC,CAAC9qB,IAAD,CAAD,CAAKgC,IAAL,CAAV;AAAA,YACEa,IAAC,GAAGioB,CAAC,CAAC9qB,IAAC,GAAG,CAAL,CAAD,CAASgC,IAAT,CADN;AAAA,YAEE+C,GAAC,GAAG+lB,CAAC,CAAC9qB,IAAC,GAAG,CAAL,CAAD,CAASgC,IAAC,GAAG,CAAb,CAFN;AAAA,YAGEqD,GAAC,GAAGylB,CAAC,CAAC9qB,IAAD,CAAD,CAAKgC,IAAC,GAAG,CAAT,CAHN;AAAA,YAIEsD,EAAC,GAAG+T,CAAC,CAAC,IAAItU,GAAJ,GAAQ,CAAT,CAJP;AAAA,YAKEqB,EAAC,GAAGiT,CAAC,CAAC,IAAItU,GAAJ,GAAQ,CAAT,CALP;AAMAyiB,MAAAA,CAAC,CAAC/hB,IAAF,CAAOrD,IAAP,EAAUS,IAAV,EAAawC,GAAb,GAAkB,KAAKC,EAAL,IAAU,KAAKc,EAAhB,IAAsBohB,CAAC,CAAC/hB,IAAF,CAAO5C,IAAP,EAAUkC,GAAV,EAAaM,GAAb,CAAvC;AACD;;AACH,aAAS2lB,CAAT,CAAWhrB,CAAX,EAAcgC,CAAd,EAAiBa,CAAjB,EAAoBC,CAApB,EAAuB8B,CAAvB,EAA0BG,CAA1B,EAA6BM,CAA7B,EAAgCC,CAAhC,EAAmC;AACjC,WAAK,IAAIc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGO,CAAC,GAAG,CAAxB,EAA2BP,CAAC,EAA5B,EAAgC;AAC9B,cAAMsF,CAAC,GAAGtF,CAAC,GAAGO,CAAd;AACA,YAAIkF,CAAC,GAAGxG,CAAC,GAAG,CAAJ,GAAQqG,CAAR,GAAY,IAAIA,CAAxB;AACApG,QAAAA,CAAC,KAAKuG,CAAC,IAAI,CAAV,CAAD,EAAgBA,CAAC,IAAI/I,CAArB;AACA,cAAMmlB,CAAC,GAAG,IAAIlc,CAAJ,CAAMtD,IAAI,CAAC8qB,GAAL,CAAS1nB,CAAT,CAAN,EAAmBpD,IAAI,CAAC+qB,GAAL,CAAS3nB,CAAT,IAAcxG,CAAjC,CAAV;AAAA,cACEqhB,CAAC,GAAGuB,CAAC,CAAClT,KAAF,GAAU+S,cAAV,CAAyBljB,CAAzB,EAA4BgB,GAA5B,CAAgCb,CAAhC,CADN;AAEAkvB,QAAAA,SAAS,CAACvN,CAAD,EAAI7jB,CAAJ,EAAOyW,CAAP,CAAT,EACED,CAAC,CAAC5T,IAAF,CAAO6T,CAAC,CAAC7K,CAAT,EAAY6K,CAAC,CAAC5K,CAAd,EAAiB4K,CAAC,CAAC3K,CAAnB,CADF,EAEEslB,SAAS,CAAChM,CAAD,EAAIplB,CAAJ,EAAO4L,CAAP,CAFX,EAGEC,CAAC,CAACjJ,IAAF,CAAOgJ,CAAC,CAACA,CAAT,EAAYA,CAAC,CAACC,CAAd,EAAiBD,CAAC,CAACE,CAAnB,CAHF,EAIEoZ,CAAC,CAACtiB,IAAF,CAAOzD,CAAP,EAAU,MAAMsX,CAAC,CAAC5K,CAAF,GAAMtM,CAAtB,CAJF,EAKEpC,CAAC,CAACyF,IAAF,CAAO0jB,CAAC,EAAR,CALF;AAMD;AACF;;AACD,aAAS8B,CAAT,CAAWjrB,CAAX,EAAcgC,CAAd,EAAiBI,CAAjB,EAAoBS,CAApB,EAAuBC,CAAvB,EAA0B;AACxB,YAAM8B,CAAC,GAAG,IAAIqjB,CAAJ,EAAV;AAAA,YACEljB,CAAC,GAAG,IAAIgH,CAAJ,EADN;AAAA,YAEE1G,CAAC,GAAG,CAACjD,CAAD,EAAIS,CAAJ,CAFN;AAGAC,MAAAA,CAAC,GAAG,CAAJ,IAASuC,CAAC,CAACyoB,OAAF,EAAT;;AACA,WAAK,MAAM1rB,IAAX,IAAgBiD,CAAhB,EACEN,CAAC,CAAC6X,GAAF,CAAMxa,IAAN,EAASgnB,CAAC,GAAGtmB,CAAb,GACEmxB,SAAS,CAAClvB,CAAD,EAAI/C,CAAJ,EAAO4C,CAAP,CADX,EAEEyU,CAAC,CAAC5T,IAAF,CAAOb,CAAC,CAAC6J,CAAT,EAAY7J,CAAC,CAAC8J,CAAd,EAAiB9J,CAAC,CAAC+J,CAAnB,CAFF,EAGED,CAAC,CAACjJ,IAAF,CAAO,CAAP,EAAU3C,CAAV,EAAa,CAAb,CAHF,EAIEilB,CAAC,CAACtiB,IAAF,CAAO,GAAP,EAAY,GAAZ,CAJF,EAKEzF,CAAC,CAACyF,IAAF,CAAO0jB,CAAC,EAAR,CALF;AAMH;;AACD,aAASd,CAAT,CAAWjmB,CAAX,EAAcS,CAAd,EAAiBC,CAAjB,EAAoB;AAClB,YAAM8B,CAAC,GAAG,IAAImH,CAAJ,CAAMtD,IAAI,CAAC8qB,GAAL,CAASzwB,CAAT,CAAN,EAAmB2F,IAAI,CAAC+qB,GAAL,CAAS1wB,CAAT,CAAnB,CAAV;AAAA,YACEiC,CAAC,GAAG,IAAIgH,CAAJ,CAAM,CAACtD,IAAI,CAAC+qB,GAAL,CAAS1wB,CAAT,CAAP,EAAoB2F,IAAI,CAAC8qB,GAAL,CAASzwB,CAAT,CAApB,CADN;AAAA,YAEEuC,CAAC,GAAG,IAAI4iB,CAAJ,EAFN;AAAA,YAGE3iB,CAAC,GAAGlD,CAAC,GAAG,CAAJ,GAAQ,CAACpC,CAAD,EAAIgC,CAAJ,EAAOI,CAAP,KAAaolB,CAAC,CAAC/hB,IAAF,CAAOzF,CAAP,EAAUgC,CAAV,EAAaI,CAAb,CAArB,GAAuC,CAACpC,CAAD,EAAIgC,CAAJ,EAAOI,CAAP,KAAaolB,CAAC,CAAC/hB,IAAF,CAAOzF,CAAP,EAAUoC,CAAV,EAAaJ,CAAb,CAH1D;AAAA,YAIEoE,CAAC,GAAG,IAAI2F,CAAJ,CAAM,CAAC/L,CAAC,GAAGgC,CAAJ,GAAQ4nB,CAAR,GAAYC,CAAb,IAAkB,CAAxB,EAA2B,CAA3B,CAJN;AAKAoK,MAAAA,SAAS,CAAC7tB,CAAD,EAAIxB,CAAJ,EAAOS,CAAP,CAAT,EACEgU,CAAC,CAAC5T,IAAF,CAAOJ,CAAC,CAACoJ,CAAT,EAAYpJ,CAAC,CAACqJ,CAAd,EAAiBrJ,CAAC,CAACsJ,CAAnB,CADF,EAEED,CAAC,CAACjJ,IAAF,CAAOV,CAAC,CAAC0J,CAAT,EAAY,CAAZ,EAAe1J,CAAC,CAAC2J,CAAjB,CAFF,EAGEqZ,CAAC,CAACtiB,IAAF,CAAO,GAAP,EAAY,GAAZ,CAHF;AAIA,YAAMkB,CAAC,GAAGwiB,CAAC,EAAX;;AACA,WAAK,MAAMnpB,CAAX,IAAgB6C,CAAhB,EAAmB;AACjB,cAAMb,CAAC,GAAGqX,CAAC,CAAC1P,KAAF,CAAQ,IAAI3J,CAAZ,EAAe,IAAIA,CAAJ,GAAQ,CAAvB,CAAV;AACAqZ,QAAAA,CAAC,CAAC5T,IAAF,CAAO,GAAGzD,CAAV,GAAc0M,CAAC,CAACjJ,IAAF,CAAOV,CAAC,CAAC0J,CAAT,EAAY,CAAZ,EAAe1J,CAAC,CAAC2J,CAAjB,CAAd;;AACA,cAAMtM,IAAC,GAAG2lB,CAAC,CAACpe,KAAF,CAAQ,IAAI3J,CAAZ,EAAe,IAAIA,CAAJ,GAAQ,CAAvB,CAAV;;AACA+nB,QAAAA,CAAC,CAACtiB,IAAF,CAAO,GAAGrD,IAAV,GAAc+mB,CAAC,EAAf;AACD;;AACD,WAAK,IAAInpB,CAAC,GAAG2G,CAAC,GAAG,CAAjB,EAAoB3G,CAAC,GAAGmpB,CAAC,GAAG,CAA5B,EAA+BnpB,CAAC,EAAhC,EAAoCsF,CAAC,CAACqB,CAAD,EAAI3G,CAAJ,EAAOA,CAAC,GAAG,CAAX,CAAD;;AACpCsF,MAAAA,CAAC,CAACqB,CAAD,EAAIwiB,CAAC,GAAG,CAAR,EAAWxiB,CAAC,GAAG,CAAf,CAAD;AACD;;AACDtB,IAAAA,CAAC,GAAG,IAAIoD,IAAI,CAACC,EAAb,KAAoB2f,CAAC,CAAC,CAAC,CAAF,EAAKyC,CAAC,CAAC,CAAD,CAAN,EAAW/lB,CAAX,CAAD,EAAgBsjB,CAAC,CAAC,CAAD,EAAIyC,CAAC,CAACA,CAAC,CAAC7mB,MAAF,GAAW,CAAZ,CAAL,EAAqBc,CAAC,GAAGM,CAAzB,CAArC,GACE,KAAK0I,QAAL,CAAcyZ,CAAd,CADF,EAEE,KAAKxZ,YAAL,CAAkB,UAAlB,EAA8B,IAAI0Y,CAAJ,CAAMrN,CAAN,EAAS,CAAT,CAA9B,CAFF,EAGE,KAAKrL,YAAL,CAAkB,QAAlB,EAA4B,IAAI0Y,CAAJ,CAAMhY,CAAN,EAAS,CAAT,CAA5B,CAHF,EAIE,KAAKV,YAAL,CAAkB,IAAlB,EAAwB,IAAI0Y,CAAJ,CAAMqB,CAAN,EAAS,CAAT,CAAxB,CAJF;AAKD;;AAxL8D;;AA0LjE,SAASkM,SAAT,CAAmBj0B,CAAnB,EAAsBgC,CAAtB,EAAyBI,CAAzB,EAA4B;AAC1B,AAAEA,EAAAA,CAAC,CAACqM,CAAF,GAAMzO,CAAC,CAACyO,CAAF,GAAMzM,CAAC,CAACyM,CAAf,EAAoBrM,CAAC,CAACsM,CAAF,GAAM1O,CAAC,CAAC0O,CAA5B,EAAiCtM,CAAC,CAACuM,CAAF,GAAM3O,CAAC,CAACyO,CAAF,GAAMzM,CAAC,CAAC0M,CAA/C;AACF;;AACD,SAASwlB,QAAT,CAAkBl0B,CAAlB,EAAqBgC,CAArB,EAAwBI,CAAxB,EAA2BS,CAA3B,EAA8BC,CAA9B,EAAiC8B,CAAjC,EAAoC;AAClC,QAAMG,CAAC,GAAG/C,CAAC,CAAC+S,KAAF,GAAUqS,GAAV,CAAcpnB,CAAd,CAAV;AAAA,QACEqF,CAAC,GAAGjD,CAAC,CAAC2S,KAAF,GAAUqS,GAAV,CAAcpnB,CAAd,CADN;AAAA,QAEEsF,CAAC,GAAGP,CAAC,CAACovB,OAAF,CAAU9uB,CAAV,CAFN;;AAGA,MAAKN,CAAC,CAACivB,SAAF,IAAe3uB,CAAC,CAAC2uB,SAAF,EAAf,EAA8BnxB,CAAC,KAAKC,CAAzC,EAA6C;AAC3C,UAAMd,IAAC,GAAG+C,CAAC,CAACa,GAAF,CAAMP,CAAN,EAAS2uB,SAAT,EAAV;;AACApvB,IAAAA,CAAC,CAACoK,IAAF,CAAOhP,CAAP,EAAU4nB,eAAV,CAA0B5lB,IAA1B,EAA6Ba,CAAC,GAAG4F,IAAI,CAAC8qB,GAAL,CAASjuB,CAAC,GAAG,CAAb,CAAjC;AACD,GAHD,MAGO;AACL,UAAMtD,IAAC,GAAG+C,CAAC,CAACovB,OAAF,CAAU9uB,CAAV,CAAV;;AACAT,IAAAA,CAAC,CAACoK,IAAF,CAAOhP,CAAP,GACE4E,CAAC,CAACgjB,eAAF,CAAkB7iB,CAAlB,EAAqBjC,CAAC,GAAG2F,IAAI,CAAC8qB,GAAL,CAASvxB,IAAT,CAAzB,CADF,EAEE4C,CAAC,CAACgjB,eAAF,CAAkBviB,CAAlB,EAAqBxC,CAAC,GAAG4F,IAAI,CAAC8qB,GAAL,CAASvxB,IAAT,CAAzB,CAFF;AAGD;AACF;;AACD,SAASoyB,eAAT,CAAyBp0B,CAAzB,EAA4BgC,CAA5B,EAA+BI,CAA/B,EAAkC;AAChC,QAAMS,CAAC,GAAG7C,CAAC,CAAC+U,KAAF,GAAUqS,GAAV,CAAcplB,CAAd,CAAV;AAAA,QACEc,CAAC,GAAGV,CAAC,CAAC2S,KAAF,GAAUqS,GAAV,CAAcplB,CAAd,CADN;AAEA,SAAOa,CAAC,CAACwxB,eAAF,CAAkBvxB,CAAlB,GAAsBD,CAAC,CAAC+C,GAAF,CAAM5D,CAAN,CAA7B;AACD;AAuBCtG,GAAG,CAAC2D,gBAAJ,CAAqB2zB,6BAArB,GAAqDA,6BAAtD,EACEt3B,GAAG,CAAC4D,eAAJ,GAAsB,IAAK,YAAY;AACtC,AAAE,OAAKiO,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBT,IAAAA,MAAM,EAAE6C,CAAC,GAAG,GAHW;AAIvBmW,IAAAA,KAAK,EAAE1V,CAAC,GAAG,GAJY;AAKvByxB,IAAAA,WAAW,EAAExxB,CAAC,GAAG;AALM,GAAV,EAMZ;AACD,QAAI8B,CAAJ;;AACA,QAAI9B,CAAC,GAAG,CAAR,EAAW;AACT,UAAIiC,CAAC,GAAG,MAAM/E,CAAd;AAAA,UACEqF,CAAC,GAAIvC,CAAC,GAAGiC,CAAL,GAAU,GADhB;AAEC,OAACH,CAAC,GAAG,IAAIrJ,KAAK,CAACg5B,kBAAV,CACJlvB,CADI,EAEJN,CAFI,EAGJ3C,CAHI,EAIJ,CAJI,EAKJqG,IAAI,CAACC,EAAL,GAAU,CALN,EAMH7F,CAAC,GAAG4F,IAAI,CAACC,EAAV,GAAgB,GANZ,CAAL,EAOEkG,KAPF,CAOQ,CAPR,EAOWnG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,IAAcyG,IAAI,CAACoG,GAAL,CAAS7O,CAAT,CAPzB,EAOsC,CAPtC;AAQF,KAXD,MAWO;AACL,UACE+E,CAAC,GAAG,OAAO/E,CAAC,GAAGyI,IAAI,CAACoG,GAAL,CAAS7O,CAAT,CAAX,CADN;AAAA,UAEEqF,CAAC,GAAG,OAAOrD,CAAC,GAAGyG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CAAX,CAFN;AAAA,UAGEsD,CAAC,GAAG,CAHN;AAAA,UAIEc,CAAC,GAAG,CAJN;AAAA,UAKEO,CAAC,GAAM9D,CAAC,GAAG4F,IAAI,CAACC,EAAV,GAAgB,GAAjB,IAAyB5F,CAAI,CAAC,CAAJ,CAA1B,CAAD,GAAyCV,CAL/C;AAAA,UAMEsJ,CAAC,GAAG,IAAInQ,KAAK,CAACi5B,KAAV,EANN;;AAOA,WAAK,IAAIx0B,IAAC,GAAG,CAAb,EAAgBA,IAAC,IAAIoC,CAArB,EAAwBpC,IAAC,EAAzB,EAA6B;AAC3B,YAAIgC,IAAC,GAAG2E,CAAC,GAAG3G,IAAZ;AAAA,YACEoC,IAAC,GAAGkD,CAAC,GAAGmD,IAAI,CAAC8qB,GAAL,CAASvxB,IAAT,IAAc+C,CADxB;AAAA,YAEElC,IAAC,GAAGuD,CAAC,GAAGqC,IAAI,CAAC+qB,GAAL,CAASxxB,IAAT,IAAcqD,CAFxB;;AAGAqG,QAAAA,CAAC,CAAC+oB,MAAF,CAASryB,IAAT,EAAYS,IAAZ;AACD;;AACD,cAAQA,CAAR,KAAc6I,CAAC,CAACgpB,MAAF,GAAWhpB,CAAC,CAACgpB,MAAF,CAAS/qB,KAAT,CAAe,CAAf,CAAzB,GACG/E,CAAC,GAAG,IAAIrJ,KAAK,CAACogB,mBAAV,CAA8BjQ,CAA9B,CADP,EAEEhQ,GAAG,CAAC+M,IAAJ,CAASksB,MAAT,CAAgB/vB,CAAhB,EAAmB5E,CAAnB,EAAsBgC,CAAtB,CAFF;AAGD;;AACD,WACG4C,CAAC,CAACkK,QAAF,GAAa;AACZzL,MAAAA,IAAI,EAAE,iBADM;AAEZ0J,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAEhN,CADG;AAEViN,QAAAA,MAAM,EAAEjL,CAFE;AAGVkL,QAAAA,KAAK,EAAE,CAHG;AAIV3N,QAAAA,MAAM,EAAE6C,CAJE;AAKVmW,QAAAA,KAAK,EAAE1V,CALG;AAMVyxB,QAAAA,WAAW,EAAExxB;AANH;AAFA,KAAd,EAWA8B,CAZF;AAcD,GAnDA,EAoDE,KAAK8qB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGE1N,IAAAA,MAAM,EAAEsD,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBxN,MAHpC;AAIEgZ,IAAAA,KAAK,EAAEzV,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBwL,KAJnC;AAKE+b,IAAAA,WAAW,EAAE1vB,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBunB;AALzC,GAFwB,EASxB;AACA,WAAO,KAAK/mB,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB7C,MAAAA,MAAM,EAAEsD,CAHQ;AAIhB0V,MAAAA,KAAK,EAAEzV,CAJS;AAKhBwxB,MAAAA,WAAW,EAAE1vB;AALG,KAAX,CAAP;AAOD,GArEF;AAsEF,CAvEsB,EADxB,EAyEElJ,GAAG,CAACk5B,mBAAJ,GAA0B,IAAK,YAAY;AAC1C,AAAE,OAAKrnB,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBkN,IAAAA,KAAK,EAAE9K,CAAC,GAAGpC,CAHY;AAIvB60B,IAAAA,MAAM,EAAEhyB,CAAC,GAAG;AAJW,GAAV,EAKZ;AACD,AAAE7C,IAAAA,CAAC,GAAGyI,IAAI,CAACoG,GAAL,CAAS7O,CAAT,CAAL,EAAoBgC,CAAC,GAAGyG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CAAxB,EAAuCI,CAAC,GAAGqG,IAAI,CAACoG,GAAL,CAASzM,CAAT,CAA3C;AACD,QAAIU,CAAC,GAAG,IAAIvH,KAAK,CAACu5B,yBAAV,CAAoC,MAAM90B,CAA1C,EAA6C6C,CAA7C,CAAR;AACA,WACEC,CAAC,CAAC8L,KAAF,CAAQ,CAAR,EAAW5M,CAAC,GAAGhC,CAAf,EAAkBoC,CAAC,GAAGpC,CAAtB,GACC8C,CAAC,CAACgM,QAAF,GAAa;AACZzL,MAAAA,IAAI,EAAE,qBADM;AAEZ0J,MAAAA,UAAU,EAAE;AAAEC,QAAAA,KAAK,EAAEhN,CAAT;AAAYiN,QAAAA,MAAM,EAAEjL,CAApB;AAAuBkL,QAAAA,KAAK,EAAE9K,CAA9B;AAAiCyyB,QAAAA,MAAM,EAAEhyB;AAAzC;AAFA,KADd,EAKAC,CANF;AAQD,GAhBA,EAiBE,KAAK4sB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEC,IAAAA,KAAK,EAAErK,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBG,KAHnC;AAIE2nB,IAAAA,MAAM,EAAE/xB,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB8nB;AAJpC,GAFwB,EAQxB;AACA,WAAO,KAAKtnB,KAAL,CAAW;AAAEP,MAAAA,KAAK,EAAEhL,CAAT;AAAYiL,MAAAA,MAAM,EAAE7K,CAApB;AAAuB8K,MAAAA,KAAK,EAAErK,CAA9B;AAAiCgyB,MAAAA,MAAM,EAAE/xB;AAAzC,KAAX,CAAP;AACD,GA3BF;AA4BF,CA7B0B,EAzE5B,EAuGEpH,GAAG,CAAC8D,eAAJ,GAAsB,IAAK,YAAY;AACtC,AAAE,OAAK+N,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBT,IAAAA,MAAM,EAAE6C,CAAC,GAAG,CAHW;AAIvB+wB,IAAAA,YAAY,EAAEtwB,CAAC,GAAG,CAJK;AAKvBkyB,IAAAA,YAAY,EAAEjyB,CAAC,GAAG,CALK;AAMvBkyB,IAAAA,gBAAgB,EAAEpwB,CAAC,GAAG,CANC;AAOvBnF,IAAAA,oBAAoB,EAAEsF,CAAC,GAAG;AAPH,GAAV,EAQZ;AACD,QAAIM,CAAJ;AAAA,QACEC,CAAC,GAAG,OAAOtF,CAAC,GAAGyI,IAAI,CAACoG,GAAL,CAAS7O,CAAT,CAAX,CADN;AAAA,QAEEoG,CAAC,GAAG,OAAOpE,CAAC,GAAGyG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CAAX,CAFN;AAAA,QAGE2E,CAAC,GAAI,IAAI8B,IAAI,CAACC,EAAV,GAAgBtG,CAHtB;AAAA,QAIEsJ,CAAC,GAAG,IAAInQ,KAAK,CAACi5B,KAAV,EAJN;;AAKA,SAAK,IAAIx0B,IAAC,GAAG,CAAb,EAAgBA,IAAC,IAAIoC,CAArB,EAAwBpC,IAAC,EAAzB,EAA6B;AAC3B,UAAIgC,IAAC,GAAG2E,CAAC,GAAG3G,IAAZ;AAAA,UACEoC,IAAC,GAAG,IAAIqG,IAAI,CAAC8qB,GAAL,CAASvxB,IAAT,IAAcsD,CADxB;AAAA,UAEEzC,IAAC,GAAG,IAAI4F,IAAI,CAAC+qB,GAAL,CAASxxB,IAAT,IAAcoE,CAFxB;;AAGAsF,MAAAA,CAAC,CAAC+oB,MAAF,CAASryB,IAAT,EAAYS,IAAZ;AACD;;AACD,WACE,MAAMA,CAAN,IAAWnH,GAAG,CAACu5B,QAAJ,CAAaC,KAAb,CAAmBC,iBAAnB,CAAqCzpB,CAArC,EAAwCA,CAAC,CAAC0pB,SAAF,EAAxC,EAAuDvyB,CAAvD,CAAX,EACC,CAACwC,CAAC,GACDvC,CAAC,GAAG,CAAJ,GACI,IAAIvH,KAAK,CAAC85B,qBAAV,CAAgC3pB,CAAhC,EAAmC;AACjC4pB,MAAAA,aAAa,EAAE,EADkB;AAEjCjd,MAAAA,KAAK,EAAE,CAF0B;AAGjCnL,MAAAA,KAAK,EAAEpK,CAH0B;AAIjCyyB,MAAAA,YAAY,EAAE,CAAC,CAJkB;AAKjCC,MAAAA,cAAc,EAAE5wB,CALiB;AAMjC6wB,MAAAA,SAAS,EAAE7wB,CANsB;AAOjC8wB,MAAAA,WAAW,EAAE,CAPoB;AAQjCC,MAAAA,aAAa,EAAE5wB;AARkB,KAAnC,CADJ,GAWI,IAAIxJ,KAAK,CAACogB,mBAAV,CAA8BjQ,CAA9B,EAAiC,EAAjC,CAZL,EAY2CoD,QAZ3C,GAYsD;AACrDzL,MAAAA,IAAI,EAAE,iBAD+C;AAErD0J,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAEhN,CADG;AAEViN,QAAAA,MAAM,EAAEjL,CAFE;AAGVkL,QAAAA,KAAK,EAAE,CAHG;AAIV3N,QAAAA,MAAM,EAAE6C,CAJE;AAKV+wB,QAAAA,YAAY,EAAEtwB,CALJ;AAMVkyB,QAAAA,YAAY,EAAEjyB,CANJ;AAOVkyB,QAAAA,gBAAgB,EAAEpwB,CAPR;AAQVnF,QAAAA,oBAAoB,EAAEsF;AARZ;AAFyC,KAbvD,EA0BArJ,GAAG,CAAC+M,IAAJ,CAASksB,MAAT,CAAgBtvB,CAAhB,EAAmBrF,CAAnB,EAAsBgC,CAAtB,CA1BA,EA2BAqD,CA5BF;AA8BD,GAlDA,EAmDE,KAAKqqB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGE1N,IAAAA,MAAM,EAAEsD,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBxN,MAHpC;AAIE4zB,IAAAA,YAAY,EAAErwB,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBomB,YAJ1C;AAKE4B,IAAAA,YAAY,EAAEnwB,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBgoB,YAL1C;AAMEC,IAAAA,gBAAgB,EAAEjwB,CAAC,GAAG/E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBioB,gBAN9C;AAOEv1B,IAAAA,oBAAoB,EAAE4F,CAAC,GAAGrF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBtN;AAPlD,GAFwB,EAWxB;AACA,WAAO,KAAK8N,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB7C,MAAAA,MAAM,EAAEsD,CAHQ;AAIhBswB,MAAAA,YAAY,EAAErwB,CAJE;AAKhBiyB,MAAAA,YAAY,EAAEnwB,CALE;AAMhBowB,MAAAA,gBAAgB,EAAEjwB,CANF;AAOhBtF,MAAAA,oBAAoB,EAAE4F;AAPN,KAAX,CAAP;AASD,GAxEF;AAyEF,CA1EsB,EAvGxB,EAkLE3J,GAAG,CAACk6B,eAAJ,GAAsB,IAAK,YAAY;AACtC,AAAE,OAAKroB,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBkN,IAAAA,KAAK,EAAE9K,CAAC,GAAGpC,CAHY;AAIvBZ,IAAAA,cAAc,EAAEyD,CAAC,GAAG,CAJG;AAKvB7D,IAAAA,cAAc,EAAE8D,CAAC,GAAG,CALG;AAMvB6vB,IAAAA,SAAS,EAAE/tB,CANY;AAOvBuuB,IAAAA,YAAY,EAAEpuB,CAAC,GAAG,CAPK;AAQvB7F,IAAAA,cAAc,EAAEmG,CAAC,GAAG;AARG,GAAV,EASZ;AACD,AAAErF,IAAAA,CAAC,GAAGyI,IAAI,CAACoG,GAAL,CAAS7O,CAAT,CAAL,EAAoBgC,CAAC,GAAGyG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CAAxB,EAAuCI,CAAC,GAAGqG,IAAI,CAACoG,GAAL,CAASzM,CAAT,CAA3C;AACD,QAAIkD,CAAC,GAAG,IAAIuwB,4BAAJ,CAAiC,MAAM71B,CAAvC,EAA0CgC,CAA1C,EAA6Ca,CAA7C,EAAgDC,CAAhD,EAAmD8B,CAAnD,EAAsDG,CAAtD,EAAyDM,CAAzD,CAAR;AACA,WACEC,CAAC,CAACsJ,KAAF,CAAQ,CAAR,EAAW,CAAX,EAAcxM,CAAC,GAAGpC,CAAlB,GACCsF,CAAC,CAACwJ,QAAF,GAAa;AACZzL,MAAAA,IAAI,EAAE,iBADM;AAEZ0J,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAEhN,CADG;AAEViN,QAAAA,MAAM,EAAEjL,CAFE;AAGVkL,QAAAA,KAAK,EAAE9K,CAHG;AAIVhD,QAAAA,cAAc,EAAEyD,CAJN;AAKV7D,QAAAA,cAAc,EAAE8D,CALN;AAMV6vB,QAAAA,SAAS,EAAE/tB,CAND;AAOVuuB,QAAAA,YAAY,EAAEpuB,CAPJ;AAQV7F,QAAAA,cAAc,EAAEmG;AARN;AAFA,KADd,EAcAC,CAfF;AAiBD,GA7BA,EA8BE,KAAKoqB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEC,IAAAA,KAAK,EAAErK,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBG,KAHnC;AAIE9N,IAAAA,cAAc,EAAE0D,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB3N,cAJ5C;AAKEJ,IAAAA,cAAc,EAAE4F,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB/N,cAL5C;AAME2zB,IAAAA,SAAS,EAAE5tB,CAAC,GAAG/E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB4lB,SANvC;AAOEQ,IAAAA,YAAY,EAAE9tB,CAAC,GAAGrF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBomB,YAP1C;AAQEj0B,IAAAA,cAAc,EAAEoG,CAAC,GAAGtF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB7N;AAR5C,GAFwB,EAYxB;AACA,WAAO,KAAKqO,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB8K,MAAAA,KAAK,EAAErK,CAHS;AAIhBzD,MAAAA,cAAc,EAAE0D,CAJA;AAKhB9D,MAAAA,cAAc,EAAE4F,CALA;AAMhB+tB,MAAAA,SAAS,EAAE5tB,CANK;AAOhBouB,MAAAA,YAAY,EAAE9tB,CAPE;AAQhBnG,MAAAA,cAAc,EAAEoG;AARA,KAAX,CAAP;AAUD,GArDF;AAsDF,CAvDsB,EAlLxB;;AA0OD,MAAMuwB,4BAAN,SAA2Ct6B,KAAK,CAACuS,cAAjD,CAAgE;AAC9D/N,EAAAA,WAAW,CAACC,CAAC,GAAG,GAAL,EAAUgC,CAAC,GAAG,CAAd,EAAiBI,CAAC,GAAG,CAArB,EAAwBS,CAAC,GAAG,CAA5B,EAA+BC,CAAC,GAAG,CAAC,CAApC,EAAuC8B,CAAC,GAAG,CAA3C,EAA8CG,CAAC,GAAG,CAAlD,EAAqD;AAC9D,UAAMM,CAAC,GAAG9J,KAAK,CAAC0b,OAAhB;AAAA,UACE3R,CAAC,GAAG/J,KAAK,CAAC8S,OADZ;AAEA,aACG,KAAKhL,IAAL,GAAY,8BADf,EAEG,KAAK0J,UAAL,GAAkB;AACjB4a,MAAAA,MAAM,EAAE3nB,CADS;AAEjBiN,MAAAA,MAAM,EAAEjL,CAFS;AAGjB5C,MAAAA,cAAc,EAAEgD,CAHC;AAIjBpD,MAAAA,cAAc,EAAE6D,CAJC;AAKjB8vB,MAAAA,SAAS,EAAE7vB,CALM;AAMjBqwB,MAAAA,YAAY,EAAEvuB,CANG;AAOjB1F,MAAAA,cAAc,EAAE6F;AAPC,KAFrB;AAWE3C,IAAAA,CAAC,GAAGqG,IAAI,CAACyP,KAAL,CAAWzP,IAAI,CAAC+E,GAAL,CAAS,CAAT,EAAYpL,CAAZ,CAAX,CAAL,EAAmCS,CAAC,GAAG4F,IAAI,CAACyP,KAAL,CAAWrV,CAAX,CAAvC,EAAwDkC,CAAC,GAAG0D,IAAI,CAACyP,KAAL,CAAWnT,CAAX,CAA5D;AACD,UAAMqB,CAAC,GAAG,EAAV;AAAA,UACEO,CAAC,GAAG,EADN;AAAA,UAEE+E,CAAC,GAAG,EAFN;AAAA,UAGEG,CAAC,GAAG,EAHN;AAIA,QAAIE,CAAC,GAAG,CAAR;;AACA,UAAMkc,CAAC,GAAGjmB,CAAC,GAAG,CAAd;AAAA,UACE0kB,CAAC,GAAGje,IAAI,CAACC,EAAL,GAAUtG,CADhB;AAAA,UAEEolB,CAAC,GAAGxnB,CAAC,GAAGyI,IAAI,CAAC+qB,GAAL,CAAS/qB,IAAI,CAACC,EAAL,GAAUtG,CAAnB,CAFV;AAAA,UAGEiX,CAAC,GAAI,IAAI5Q,IAAI,CAACC,EAAV,GAAgBtG,CAHtB;AAAA,UAIEsM,CAAC,GAAI,CAACtM,CAAC,GAAG,CAAL,IAAUqG,IAAI,CAACC,EAAhB,GAAsBtG,CAJ5B;AAAA,UAKE2lB,CAAC,GAAGtf,IAAI,CAACC,EAAL,GAAUgG,CALhB;AAAA,UAMEya,CAAC,GAAG,IAAI7jB,CAAJ,CAAM,CAAN,EAAS,CAAC2iB,CAAV,EAAa,CAAb,CANN;AAAA,UAOEmB,CAAC,GAAG,IAAI9jB,CAAJ,CAAM,CAAN,EAAS2iB,CAAT,EAAY,CAAZ,CAPN;AAAA,UAQExZ,CAAC,GAAG,IAAIpJ,CAAJ,CAAMrF,CAAN,EAAS,CAACioB,CAAV,CARN;AAAA,UASE3O,CAAC,GAAG,IAAIjU,CAAJ,CAAMmiB,CAAN,EAAS,CAACS,CAAV,CATN;AAAA,UAUEoB,CAAC,GAAG,IAAIhkB,CAAJ,GAAQ2J,IAAR,CAAaoa,CAAb,EAAgBhC,GAAhB,CAAoB9N,CAApB,CAVN;AAAA,UAWEgQ,CAAC,GAAG,IAAIjkB,CAAJ,GAAQ2J,IAAR,CAAaoa,CAAb,EAAgBhC,GAAhB,CAAoB3Y,CAApB,CAXN;AAAA,UAYE+J,CAAC,GAAG,IAAInT,CAAJ,CAAMgkB,CAAC,CAAC3a,CAAR,EAAW,CAAC2a,CAAC,CAAC5a,CAAd,EAAiBulB,SAAjB,EAZN;AAAA,UAaEzK,CAAC,GAAG,IAAIlkB,CAAJ,CAAMikB,CAAC,CAAC5a,CAAR,EAAW,CAAC4a,CAAC,CAAC7a,CAAd,EAAiBulB,SAAjB,EAbN;AAAA,UAcExK,CAAC,GAAGxpB,CAAC,GAAGyI,IAAI,CAAC+qB,GAAL,CAAS/qB,IAAI,CAACC,EAAL,GAAUtG,CAAnB,CAAJ,GAA4BqG,IAAI,CAAC0hB,GAAL,CAAS,CAAC1hB,IAAI,CAACC,EAAL,GAAU2gB,CAAC,CAAC9Q,KAAF,EAAX,IAAwB,CAAjC,CAA5B,GAAkE,IAdxE;;AAeA,QAAIkR,CAAJ;AACA7kB,IAAAA,CAAC,GAAG6D,IAAI,CAACgF,GAAL,CAAS7I,CAAT,EAAY4kB,CAAZ,CAAJ;AACA;AACE,YAAMxpB,IAAC,GAAG,IAAIsF,CAAJ,CAAMkT,CAAC,CAAC/J,CAAR,EAAW+J,CAAC,CAAC9J,CAAb,EAAgB,CAAhB,CAAV;AAAA,YACE1M,IAAC,GAAG,IAAIsD,CAAJ,CAAMmD,IAAI,CAAC+qB,GAAL,CAASna,CAAT,IAAcrZ,IAAC,CAACyO,CAAtB,EAAyBzO,IAAC,CAAC0O,CAA3B,EAA8BjG,IAAI,CAAC8qB,GAAL,CAASla,CAAT,IAAcrZ,IAAC,CAACyO,CAA9C,CADN;;AAEAgb,MAAAA,CAAC,GAAGzpB,IAAC,CAACm0B,OAAF,CAAUnyB,IAAV,CAAJ;AACD;AACD,UAAMulB,CAAC,GAAG3iB,CAAC,GAAG6D,IAAI,CAAC0hB,GAAL,CAAS,CAAC1hB,IAAI,CAACC,EAAL,GAAU2gB,CAAC,CAAC9Q,KAAF,EAAX,IAAwB,CAAjC,CAAd;AAAA,UACEoR,CAAC,GAAG/kB,CAAC,GAAG6D,IAAI,CAAC0hB,GAAL,CAAS,CAAC1hB,IAAI,CAACC,EAAL,GAAU+gB,CAAX,IAAgB,CAAzB,CADV;AAAA,UAEEG,CAAC,GAAG,IAAItkB,CAAJ,EAFN;;AAGA,QAAI,CAACxC,CAAL,EAAQ;AACN6D,MAAAA,CAAC,CAAClB,IAAF,CAAO0jB,CAAC,CAAC1a,CAAT,EAAY0a,CAAC,CAACza,CAAd,EAAiBya,CAAC,CAACxa,CAAnB,GAAuBjD,CAAC,CAACjG,IAAF,CAAO,CAAP,EAAU,CAAC,CAAX,EAAc,CAAd,CAAvB,EAAyCoG,CAAC,CAACpG,IAAF,CAAO,CAAP,EAAU,CAAV,CAAzC;;AACA,YAAMzF,IAAC,GAAG+L,CAAC,EAAX;AAAA,YACE/J,IAAC,GAAG,EADN;AAAA,YAEEa,IAAC,GAAG4L,CAAC,CAACsG,KAAF,EAFN;AAAA,YAGEjS,IAAC,GAAGykB,CAAC,GAAG9e,IAAI,CAAC+qB,GAAL,CAAS/qB,IAAI,CAACC,EAAL,GAAUtG,CAAnB,CAHV;;AAIAS,MAAAA,IAAC,CAAC4L,CAAF,IAAO3L,IAAP;;AACA,WAAK,IAAI9C,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGoC,CAApB,EAAuBpC,IAAC,EAAxB,EAA4B;AAC1B,cAAM8C,IAAC,GAAI9C,IAAC,GAAGoC,CAAL,GAAUqG,IAAI,CAACC,EAAf,GAAoB,CAApB,GAAwBge,CAAlC;AAAA,cACE9hB,IAAC,GAAG,IAAIS,CAAJ,CAAMoD,IAAI,CAAC8qB,GAAL,CAASzwB,IAAT,CAAN,EAAmB2F,IAAI,CAAC+qB,GAAL,CAAS1wB,IAAT,CAAnB,CADN;;AAEAmxB,QAAAA,SAAS,CAACpxB,IAAD,EAAI+B,IAAJ,EAAOglB,CAAP,CAAT,EACEjjB,CAAC,CAAClB,IAAF,CAAOmkB,CAAC,CAACnb,CAAT,EAAYmb,CAAC,CAAClb,CAAd,EAAiBkb,CAAC,CAACjb,CAAnB,CADF,EAEEjD,CAAC,CAACjG,IAAF,CAAO,CAAP,EAAU,CAAC,CAAX,EAAc,CAAd,CAFF,EAGEoG,CAAC,CAACpG,IAAF,CAAO,CAAP,EAAU,CAAV,CAHF,EAIEzD,IAAC,CAACyD,IAAF,CAAOsG,CAAC,EAAR,CAJF;AAKD;;AACD,WAAK,IAAI3J,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGJ,IAAC,CAACiC,MAAtB,EAA8B7B,IAAC,EAA/B,EAAmCgE,CAAC,CAACX,IAAF,CAAOzD,IAAC,CAACI,IAAD,CAAR,EAAapC,IAAb,EAAgBgC,IAAC,CAAC,CAACI,IAAC,GAAG,CAAL,IAAUJ,IAAC,CAACiC,MAAb,CAAjB;AACpC;AAED;AACE,YAAMjE,IAAC,GAAG,IAAIsF,CAAJ,EAAV;AAAA,YACEtD,IAAC,GAAG,IAAIsD,CAAJ,EADN;AAAA,YAEEzC,IAAC,GAAG,IAAIyC,CAAJ,EAFN;AAAA,YAGExC,IAAC,GAAG,IAAIwC,CAAJ,EAHN;AAAA,YAIE2iB,GAAC,GAAG,IAAI3iB,CAAJ,EAJN;AAAA,YAKEkiB,GAAC,GAAG,IAAIliB,CAAJ,EALN;;AAMA,WAAK,IAAI+T,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGjX,CAApB,EAAuBiX,GAAC,EAAxB,EAA4B;AAC1B,cAAM3K,EAAC,GAAI2K,GAAC,GAAGjX,CAAL,GAAUqG,IAAI,CAACC,EAAf,GAAoB,CAApB,GAAwBge,CAAlC;AAAA,cACEqB,EAAC,GAAI,CAAC1O,GAAC,GAAG,GAAL,IAAYjX,CAAb,GAAkBqG,IAAI,CAACC,EAAvB,GAA4B,CAA5B,GAAgCge,CADtC;AAAA,cAEEpN,EAAC,GAAI,CAACD,GAAC,GAAG,CAAL,IAAUjX,CAAX,GAAgBqG,IAAI,CAACC,EAArB,GAA0B,CAA1B,GAA8Bge,CAFpC;AAAA,cAGE4C,EAAC,GAAG,IAAIjkB,CAAJ,CAAMoD,IAAI,CAAC8qB,GAAL,CAAS7kB,EAAT,CAAN,EAAmBjG,IAAI,CAAC+qB,GAAL,CAAS9kB,EAAT,CAAnB,CAHN;AAAA,cAIE8a,EAAC,GAAG,IAAInkB,CAAJ,CAAMoD,IAAI,CAAC8qB,GAAL,CAASxL,EAAT,CAAN,EAAmBtf,IAAI,CAAC+qB,GAAL,CAASzL,EAAT,CAAnB,CAJN;AAAA,cAKE6B,EAAC,GAAG,IAAIvkB,CAAJ,CAAMoD,IAAI,CAAC8qB,GAAL,CAASja,EAAT,CAAN,EAAmB7Q,IAAI,CAAC+qB,GAAL,CAASla,EAAT,CAAnB,CALN;;AAMA2a,QAAAA,SAAS,CAACxlB,CAAD,EAAI6a,EAAJ,EAAOtnB,IAAP,CAAT,EACEiyB,SAAS,CAACxlB,CAAD,EAAImb,EAAJ,EAAO/mB,IAAP,CADX,EAEEoxB,SAAS,CAACzb,CAAD,EAAIgR,EAAJ,EAAOxpB,IAAP,CAFX,EAGEk0B,QAAQ,CAAC9K,CAAD,EAAIpnB,IAAJ,EAAOa,IAAP,EAAU8mB,CAAV,EAAaA,CAAb,EAAgB7mB,IAAhB,CAHV,EAIE6D,CAAC,CAAClB,IAAF,CAAO3C,IAAC,CAAC2L,CAAT,EAAY3L,IAAC,CAAC4L,CAAd,EAAiB5L,IAAC,CAAC6L,CAAnB,CAJF,EAKEulB,QAAQ,CAAClyB,IAAD,EAAIonB,CAAJ,EAAOvmB,IAAP,EAAU8mB,CAAV,EAAapC,CAAb,EAAgBU,GAAhB,CALV,EAMEthB,CAAC,CAAClB,IAAF,CAAOwiB,GAAC,CAACxZ,CAAT,EAAYwZ,GAAC,CAACvZ,CAAd,EAAiBuZ,GAAC,CAACtZ,CAAnB,CANF,EAOEulB,QAAQ,CAACrxB,IAAD,EAAIb,IAAJ,EAAOonB,CAAP,EAAU7B,CAAV,EAAaoC,CAAb,EAAgBnC,GAAhB,CAPV,EAQE7gB,CAAC,CAAClB,IAAF,CAAO+hB,GAAC,CAAC/Y,CAAT,EAAY+Y,GAAC,CAAC9Y,CAAd,EAAiB8Y,GAAC,CAAC7Y,CAAnB,CARF,EASEjD,CAAC,CAACjG,IAAF,CAAOzF,IAAC,CAACyO,CAAT,EAAYzO,IAAC,CAAC0O,CAAd,EAAiB1O,IAAC,CAAC2O,CAAnB,CATF,EAUEjD,CAAC,CAACjG,IAAF,CAAOzF,IAAC,CAACyO,CAAT,EAAYzO,IAAC,CAAC0O,CAAd,EAAiB1O,IAAC,CAAC2O,CAAnB,CAVF,EAWEjD,CAAC,CAACjG,IAAF,CAAOzF,IAAC,CAACyO,CAAT,EAAYzO,IAAC,CAAC0O,CAAd,EAAiB1O,IAAC,CAAC2O,CAAnB,CAXF,EAYE9C,CAAC,CAACpG,IAAF,CAAO,CAAP,EAAU,CAAV,CAZF,EAaEoG,CAAC,CAACpG,IAAF,CAAO,CAAP,EAAU,CAAV,CAbF,EAcEoG,CAAC,CAACpG,IAAF,CAAO,CAAP,EAAU,CAAV,CAdF;AAeA,cAAM+kB,CAAC,GAAGze,CAAC,EAAX;AAAA,cACE0e,CAAC,GAAG1e,CAAC,EADP;AAAA,cAEE2e,CAAC,GAAG3e,CAAC,EAFP;;AAGA,YAAK3F,CAAC,CAACX,IAAF,CAAO+kB,CAAP,EAAUC,CAAV,EAAaC,CAAb,GAAiB9lB,CAAC,GAAG,CAA1B,EAA8B;AAC5B;AACE,kBAAM5E,IAAC,GAAGgC,IAAC,CAAC+S,KAAF,GAAUnP,GAAV,CAAc/C,IAAd,EAAiBilB,cAAjB,CAAgC,GAAhC,CAAV;AAAA,kBACE1lB,IAAC,GAAGgnB,CAAC,CAACrU,KAAF,GAAUqS,GAAV,CAAcpnB,IAAd,EAAiBg0B,SAAjB,EADN;AAAA,kBAEElxB,IAAC,GAAGqmB,CAAC,CAACpU,KAAF,GACDqS,GADC,CACGpnB,IADH,EAEDg0B,SAFC,GAGDpuB,GAHC,CAGGxD,IAHH,EAID4xB,SAJC,GAKDlM,cALC,CAKc,CAAC,CALf,CAFN;;AAQAmC,YAAAA,CAAC,CAACjqB,IAAD,EAAIwnB,GAAC,CAACzS,KAAF,GAAUqS,GAAV,CAAca,GAAd,CAAJ,EAAsBnlB,IAAtB,EAAyBumB,CAAC,CAAC9Q,KAAF,EAAzB,CAAD;AACD;;AACD,cAAIlT,GAAJ,EAAOqhB,GAAP;;AACA;AACE,kBAAM1mB,IAAC,GAAG,IAAIsF,CAAJ,EAAV;;AACA2uB,YAAAA,SAAS,CAAC1K,CAAD,EAAIK,EAAJ,EAAO5pB,IAAP,CAAT;;AACA,gBAAIgC,IAAC,GAAGwlB,GAAC,CAACzS,KAAF,GAAUnP,GAAV,CAAc9C,IAAd,EAAiBglB,cAAjB,CAAgC,GAAhC,CAAR;;AACA9lB,YAAAA,IAAC,GAAGoyB,eAAe,CAACpyB,IAAD,EAAIa,IAAJ,EAAOumB,CAAP,CAAnB;;AACA,kBAAMhnB,IAAC,GAAGolB,GAAC,CAACzS,KAAF,GAAUqS,GAAV,CAActkB,IAAd,CAAV;;AACC,aAACuC,GAAD,EAAIqhB,GAAJ,IAASuD,CAAC,CAACjoB,IAAD,EAAII,IAAJ,EAAOpC,IAAP,EAAUypB,CAAV,EAAa3mB,IAAC,CAAC4L,CAAf,CAAV;AACF;AACD;AACE,kBAAM1O,IAAC,GAAGqF,GAAV;AAAA,kBACErD,IAAC,GAAGhC,IAAC,CAAC+U,KAAF,GAAU+gB,IAAV,CAAe,CAAf,EAAkB9B,SAAlB,EADN;AAAA,kBAEE5xB,IAAC,GAAG,IAAIkD,CAAJ,CAAM,CAAN,EAAS,CAAC,CAAV,EAAa,CAAb,CAFN;AAAA,kBAGEzC,IAAC,GAAGb,IAAC,CAAC+S,KAAF,GAAUghB,KAAV,CAAgB3zB,IAAhB,CAHN;;AAIAmoB,YAAAA,CAAC,CAACvqB,IAAD,EAAIgC,IAAJ,EAAOI,IAAP,EAAUS,IAAV,CAAD;AACD;AACDgnB,AACA;AACE,kBAAM7nB,IAAC,GAAGqnB,CAAC,CAAC9Q,KAAF,EAAV;AAAA,kBACE1V,IAAC,GAAG4F,IAAI,CAACC,EAAL,GAAU1G,IADhB;AAAA,kBAEEc,IAAC,GAAGsmB,CAAC,CAACrU,KAAF,EAFN;;AAGAjS,YAAAA,IAAC,CAAC4L,CAAF,IAAO9J,CAAC,GAAG6D,IAAI,CAAC8qB,GAAL,CAASvxB,IAAC,GAAGyG,IAAI,CAACC,EAAL,GAAU,CAAvB,CAAX;AACA,gBAAIpD,CAAJ;;AACA,kBAAMD,GAAC,GAAG,IAAIC,CAAJ,EAAV;AAAA,kBACE2iB,GAAC,GAAG,EADN;;AAEA,iBAAK,IAAIjmB,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG+C,CAApB,EAAuB/C,IAAC,EAAxB,EAA4B;AAC1B,oBAAMsD,GAAC,GAAG,EAAV;AAAA,oBACEc,GAAC,GAAGqC,IAAI,CAACC,EAAL,GAAU,CAAV,GAAe7F,IAAC,GAAGb,IAAL,GAAU+C,CAD9B;AAAA,oBAEE2hB,GAAC,GAAGje,IAAI,CAAC+qB,GAAL,CAASptB,GAAT,CAFN;AAAA,oBAGEohB,GAAC,GAAG/e,IAAI,CAAC8qB,GAAL,CAASntB,GAAT,CAHN;;AAIA,kBAAIiT,GAAC,GAAG0O,EAAR;;AACA,mBAAK,IAAIgC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI/nB,IAArB,EAAwB+nB,CAAC,EAAzB,EAA6B;AAC3B,sBAAMlnB,IAAC,GAAG4F,IAAI,CAAC+qB,GAAL,CAASna,GAAT,CAAV;AAAA,sBACEtU,GAAC,GAAG0D,IAAI,CAAC8qB,GAAL,CAASla,GAAT,CADN;;AAEErZ,gBAAAA,IAAC,CAACyO,CAAF,GAAMiY,GAAC,GAAG3hB,GAAX,EACE/E,IAAC,CAAC0O,CAAF,GAAM8Y,GADR,EAEExnB,IAAC,CAAC2O,CAAF,GAAM+X,GAAC,GAAG7jB,IAFZ,EAGCwC,GAAC,CAAC2J,IAAF,CAAOlM,IAAP,EAAU8kB,eAAV,CAA0B5nB,IAA1B,EAA6B4E,CAA7B,CAHD,EAIC+B,CAAC,CAAClB,IAAF,CAAOJ,GAAC,CAACoJ,CAAT,EAAYpJ,GAAC,CAACqJ,CAAd,EAAiBrJ,GAAC,CAACsJ,CAAnB,CAJD,EAKCjD,CAAC,CAACjG,IAAF,CAAOzF,IAAC,CAACyO,CAAT,EAAYzO,IAAC,CAAC0O,CAAd,EAAiB1O,IAAC,CAAC2O,CAAnB,CALD,EAMC9C,CAAC,CAACpG,IAAF,CAAO,CAAP,EAAU,CAAV,CAND,EAOCH,GAAC,CAACG,IAAF,CAAOsG,CAAC,EAAR,CAPD,EAQEsN,GAAC,IAAK,IAAI5Q,IAAI,CAACC,EAAV,GAAgB1G,IAAhB,GAAoBI,CAR3B;AASF;;AACD6lB,cAAAA,GAAC,CAACxiB,IAAF,CAAOH,GAAP;AACD;;AACDohB,YAAAA,GAAC,CAACoH,OAAF,IAAa7F,GAAC,CAACxiB,IAAF,CAAOihB,GAAP,CAAb;;AACA,kBAAMc,GAAC,GAAGS,GAAC,CAAChkB,MAAF,GAAW,CAArB;;AACA,iBAAK,IAAIjE,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGwnB,GAApB,EAAuBxnB,IAAC,EAAxB,EAA4B;AAC1B,oBAAMgC,IAAC,GAAGimB,GAAC,CAACjoB,IAAD,CAAX;AAAA,oBACEoC,IAAC,GAAG6lB,GAAC,CAACjoB,IAAC,GAAG,CAAL,CADP;AAAA,oBAEE6C,IAAC,GAAGb,IAAC,CAACiC,MAAF,GAAW,CAFjB;;AAGAmC,cAAAA,CAAC,CAACX,IAAF,CAAOrD,IAAC,CAAC,CAAD,CAAR,EAAaJ,IAAC,CAAC,CAAD,CAAd,EAAmBI,IAAC,CAAC,CAAD,CAApB;;AACA,mBAAK,IAAIpC,IAAC,GAAG,CAAb,EAAgBA,IAAC,IAAI6C,IAArB,EAAwB7C,IAAC,EAAzB,EACEoG,CAAC,CAACX,IAAF,CAAOzD,IAAC,CAAChC,IAAD,CAAR,EAAagC,IAAC,CAAChC,IAAC,GAAG,CAAL,CAAd,EAAuBoC,IAAC,CAACpC,IAAD,CAAxB,GAA8BoG,CAAC,CAACX,IAAF,CAAOrD,IAAC,CAACpC,IAAC,GAAG,CAAL,CAAR,EAAiBgC,IAAC,CAAChC,IAAD,CAAlB,EAAuBoC,IAAC,CAACpC,IAAD,CAAxB,CAA9B;AACH;AACF;AACF;AACF;AACF;;AACD,aAASiqB,CAAT,CAAWjqB,CAAX,EAAcgC,CAAd,EAAiBI,CAAjB,EAAoBS,CAApB,EAAuBC,CAAvB,EAA0B;AACxB,YAAMuC,CAAC,GAAG,CAACxC,CAAD,GAAK,CAAf;AAAA,YACEolB,CAAC,GAAG,CAACxf,IAAI,CAACC,EAAL,GAAU7F,CAAX,IAAgB,CADtB;AAAA,YAEE6jB,CAAC,GAAG1kB,CAAC,CAAC+S,KAAF,GAAUif,SAAV,GAAsB+B,KAAtB,CAA4B3zB,CAA5B,CAFN;AAGApC,MAAAA,CAAC,CAAC4nB,eAAF,CAAkBxlB,CAAlB,EAAqB,CAACwC,CAAD,GAAK6D,IAAI,CAAC8qB,GAAL,CAAStL,CAAT,CAA1B;AACA,YAAMT,CAAC,GAAG,IAAIliB,CAAJ,EAAV;AAAA,YACE+T,CAAC,GAAG,IAAI/T,CAAJ,EADN;AAAA,YAEEoJ,CAAC,GAAG3C,CAFN;AAAA,YAGEgc,CAAC,GAAG,EAHN;;AAIA,WAAK,IAAIziB,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIP,CAArB,EAAwBO,CAAC,EAAzB,EAA6B;AAC3B,cAAMc,CAAC,GAAGf,CAAC,GAAIC,CAAC,GAAGP,CAAL,GAAUlC,CAAxB;AACAwW,QAAAA,CAAC,CAACuD,GAAF,CAAM,CAAN,EAAS,CAAT,EAAY,CAAZ,GACEvD,CAAC,CAACuO,eAAF,CAAkBlB,CAAlB,EAAqBje,IAAI,CAAC8qB,GAAL,CAASntB,CAAT,CAArB,CADF,EAEEiT,CAAC,CAACuO,eAAF,CAAkBxlB,CAAlB,EAAqBqG,IAAI,CAAC+qB,GAAL,CAASptB,CAAT,CAArB,CAFF;;AAGA,aAAK,IAAIhE,IAAC,GAAG,CAAb,EAAgBA,IAAC,IAAI,CAArB,EAAwBA,IAAC,EAAzB,EAA6B;AAC3B,gBAAMS,IAAC,GAAGT,IAAC,GAAG,CAAJ,GAAQ,GAAlB;;AACA,cACGolB,CAAC,CAACxY,IAAF,CAAOhP,CAAP,GACDwnB,CAAC,CAACI,eAAF,CAAkB5lB,CAAlB,EAAqBa,IAArB,CADC,EAED2kB,CAAC,CAACI,eAAF,CAAkBvO,CAAlB,EAAqBzU,CAArB,CAFC,EAGD,QAAQ9B,CAJV,EAKE;AACA,kBAAM9C,IAAC,GAAGyI,IAAI,CAAC+E,GAAL,CAAS,CAAT,EAAYga,CAAC,CAAC9Y,CAAF,GAAM5L,CAAlB,CAAV;;AACA0kB,YAAAA,CAAC,CAACI,eAAF,CAAkB5lB,CAAlB,EAAqB,CAAChC,IAAD,GAAKgC,CAAC,CAAC0M,CAA5B;AACD;;AACD/H,UAAAA,CAAC,CAAClB,IAAF,CAAO+hB,CAAC,CAAC/Y,CAAT,EAAY+Y,CAAC,CAAC9Y,CAAd,EAAiB8Y,CAAC,CAAC7Y,CAAnB,GACEjD,CAAC,CAACjG,IAAF,CAAO4T,CAAC,CAAC5K,CAAT,EAAY4K,CAAC,CAAC3K,CAAd,EAAiB2K,CAAC,CAAC1K,CAAnB,CADF,EAEE9C,CAAC,CAACpG,IAAF,CAAO,CAAP,EAAU,CAAV,CAFF,EAGE,MAAMrD,IAAN,IAAW2lB,CAAC,CAACtiB,IAAF,CAAOsG,CAAP,CAHb,EAIEA,CAAC,EAJH;AAKD;AACF;;AACD,WAAK,IAAI/L,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG+E,CAApB,EAAuB/E,IAAC,EAAxB,EACE,KAAK,IAAIgC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG,CAApB,EAAuBA,IAAC,EAAxB,EAA4B;AAC1B,cAAMI,IAAC,GAAGsM,CAAC,GAAG1M,IAAJ,GAAQ,IAAIhC,IAAtB;AAAA,cACE6C,IAAC,GAAGT,IAAC,GAAG,CADV;AAAA,cAEEU,IAAC,GAAGD,IAAC,GAAG,CAFV;AAAA,cAGE+B,CAAC,GAAGxC,IAAC,GAAG,CAHV;;AAIAgE,QAAAA,CAAC,CAACX,IAAF,CAAOrD,IAAP,EAAUS,IAAV,EAAa+B,CAAb,GAAiBwB,CAAC,CAACX,IAAF,CAAO5C,IAAP,EAAUC,IAAV,EAAa8B,CAAb,CAAjB;AACD;;AACH,aAAO,CAAC5E,CAAC,CAAC+U,KAAF,GAAU6S,eAAV,CAA0B5lB,CAA1B,EAA6B,GAA7B,CAAD,EAAoC+lB,CAApC,CAAP;AACD;;AACD,aAASwC,CAAT,CAAWvqB,CAAX,EAAcgC,CAAd,EAAiBI,CAAjB,EAAoBS,CAApB,EAAuB;AACrB,YAAMC,CAAC,GAAG2F,IAAI,CAACC,EAAL,GAAU,CAApB;AAAA,YACErD,CAAC,GAAGikB,CAAC,CAAC/Q,KAAF,KAAYzV,CADlB;AAAA,YAEEmlB,CAAC,GAAG,EAFN;AAAA,YAGEvB,CAAC,GAAG,IAAIphB,CAAJ,EAHN;AAAA,YAIEkiB,CAAC,GAAG,IAAIliB,CAAJ,EAJN;;AAKA,WAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIP,CAArB,EAAwBO,CAAC,EAAzB,EAA6B;AAC3B,cAAMc,CAAC,GAAG,EAAV;AAAA,cACEsI,GAAC,GAAGpJ,CAAC,GAAGP,CADV;;AAEA,aAAK,IAAIsU,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI/T,CAArB,EAAwB+T,CAAC,EAAzB,EAA6B;AAC3B,gBAAMtU,CAAC,GAAG,CAAC,CAACO,CAAC,GAAG+T,CAAC,GAAG/T,CAAP,GAAW,CAAb,IAAkB,GAAnB,IAA0ByiB,CAApC;AAAA,gBACEE,GAAC,GAAGxf,IAAI,CAAC+qB,GAAL,CAASzuB,CAAT,CADN;AAAA,gBAEEokB,CAAC,GAAG1gB,IAAI,CAAC8qB,GAAL,CAASxuB,CAAT,CAFN;AAAA,gBAGEqkB,CAAC,GAAG,CAACtmB,CAAC,GAAG2F,IAAI,CAACutB,IAAL,CAAUvtB,IAAI,CAAC0hB,GAAL,CAAS9kB,CAAT,IAAc4iB,GAAxB,CAAL,IAAmCvZ,GAHzC;AAAA,gBAIED,CAAC,GAAGhG,IAAI,CAAC+qB,GAAL,CAASpK,CAAT,CAJN;AAAA,gBAKE9P,CAAC,GAAG7Q,IAAI,CAAC8qB,GAAL,CAASnK,CAAT,CALN;;AAMA1C,UAAAA,CAAC,CAAC9J,GAAF,CAAM,CAAN,EAAS,CAAT,EAAY,CAAZ,GACE8J,CAAC,CAACkB,eAAF,CAAkB5lB,CAAlB,EAAqBsX,CAAC,GAAG2O,GAAzB,CADF,EAEEvB,CAAC,CAACkB,eAAF,CAAkBxlB,CAAlB,EAAqBqM,CAArB,CAFF,EAGEiY,CAAC,CAACkB,eAAF,CAAkB/kB,CAAlB,EAAqByW,CAAC,GAAG6P,CAAzB,CAHF,EAIE3B,CAAC,CAACxY,IAAF,CAAOhP,CAAP,EAAU4nB,eAAV,CAA0BlB,CAA1B,EAA6B9hB,CAA7B,CAJF,EAKE+B,CAAC,CAAClB,IAAF,CAAO+hB,CAAC,CAAC/Y,CAAT,EAAY+Y,CAAC,CAAC9Y,CAAd,EAAiB8Y,CAAC,CAAC7Y,CAAnB,CALF,EAMEjD,CAAC,CAACjG,IAAF,CAAOihB,CAAC,CAACjY,CAAT,EAAYiY,CAAC,CAAChY,CAAd,EAAiBgY,CAAC,CAAC/X,CAAnB,CANF,EAOE9C,CAAC,CAACpG,IAAF,CAAO,CAAP,EAAU,CAAV,CAPF,EAQEW,CAAC,CAACX,IAAF,CAAOsG,CAAC,EAAR,CARF;AASD;;AACDkc,QAAAA,CAAC,CAACxiB,IAAF,CAAOW,CAAP;AACD;;AACD,YAAMsI,CAAC,GAAGuZ,CAAC,CAAChkB,MAAF,GAAW,CAArB;;AACA,WAAK,IAAIjE,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG0O,CAApB,EAAuB1O,IAAC,EAAxB,EAA4B;AAC1B,cAAMgC,IAAC,GAAGimB,CAAC,CAACjoB,IAAD,CAAX;AAAA,cACEoC,IAAC,GAAG6lB,CAAC,CAACjoB,IAAC,GAAG,CAAL,CADP;AAAA,cAEE6C,IAAC,GAAGb,IAAC,CAACiC,MAAF,GAAW,CAFjB;;AAGAmC,QAAAA,CAAC,CAACX,IAAF,CAAOzD,IAAC,CAAC,CAAD,CAAR,EAAaI,IAAC,CAAC,CAAD,CAAd,EAAmBA,IAAC,CAAC,CAAD,CAApB;;AACA,aAAK,IAAIpC,IAAC,GAAG,CAAb,EAAgBA,IAAC,IAAI6C,IAArB,EAAwB7C,IAAC,EAAzB,EACEoG,CAAC,CAACX,IAAF,CAAOzD,IAAC,CAAChC,IAAC,GAAG,CAAL,CAAR,EAAiBgC,IAAC,CAAChC,IAAD,CAAlB,EAAuBoC,IAAC,CAACpC,IAAD,CAAxB,GAA8BoG,CAAC,CAACX,IAAF,CAAOzD,IAAC,CAAChC,IAAD,CAAR,EAAaoC,IAAC,CAACpC,IAAC,GAAG,CAAL,CAAd,EAAuBoC,IAAC,CAACpC,IAAD,CAAxB,CAA9B;AACH;AACF;;AACD,SAAK+N,QAAL,CAAc3H,CAAd,GACE,KAAK4H,YAAL,CAAkB,UAAlB,EAA8B,IAAIzS,KAAK,CAAC8V,sBAAV,CAAiC1K,CAAjC,EAAoC,CAApC,CAA9B,CADF,EAEE,KAAKqH,YAAL,CAAkB,QAAlB,EAA4B,IAAIzS,KAAK,CAAC8V,sBAAV,CAAiC3F,CAAjC,EAAoC,CAApC,CAA5B,CAFF,EAGE,KAAKsC,YAAL,CAAkB,IAAlB,EAAwB,IAAIzS,KAAK,CAAC8V,sBAAV,CAAiCxF,CAAjC,EAAoC,CAApC,CAAxB,CAHF;AAID;;AA7P6D;;AA+PhE,SAASoqB,QAAT,CAAkBj2B,CAAlB,EAAqBgC,CAArB,EAAwBI,CAAxB,EAA2BS,CAA3B,EAA8BC,CAA9B,EAAiC8B,CAAjC,EAAoCG,CAApC,EAAuCM,CAAvC,EAA0CC,CAA1C,EAA6Cc,CAA7C,EAAgDO,CAAhD,EAAmD+E,CAAnD,EAAsD;AACpD,AAAE3G,EAAAA,CAAC,GAAG0D,IAAI,CAACytB,KAAL,CAAWnxB,CAAX,CAAL,EAAsBqB,CAAC,GAAGqC,IAAI,CAACytB,KAAL,CAAW9vB,CAAX,CAA1B,EAA2CsF,CAAC,GAAGjD,IAAI,CAACytB,KAAL,CAAWxqB,CAAX,CAA/C;AACD,QAAMG,CAAC,GAAG,EAAV;AAAA,QACEE,CAAC,GAAG,EADN;AAAA,QAEEkc,CAAC,GAAG,EAFN;AAAA,QAGEvB,CAAC,GAAG,EAHN;AAAA,QAIEc,CAAC,GAAG,EAJN;AAAA,QAKEnO,CAAC,GAAG,EALN;AAAA,QAME3K,CAAC,GAAG,EANN;;AAOA,MAAIqZ,CAAJ;AAAA,MACEoB,CADF;AAAA,MAEEC,CAFF;AAAA,MAGE3a,CAHF;AAAA,MAIE6K,CAJF;AAAA,MAKE+P,CALF;AAAA,MAMEC,CANF;AAAA,MAOE9Q,CAPF;AAAA,MAQE+Q,CAAC,GAAG,IAAIhuB,KAAK,CAAC8S,OAAV,EARN;AAAA,MASEmb,CAAC,GAAG,IAAIjuB,KAAK,CAAC8S,OAAV,EATN;AAAA,MAUEob,CAAC,GAAG,IAAIluB,KAAK,CAAC8S,OAAV,EAVN;AAAA,MAWEkZ,CAAC,GAAG,IAAIhsB,KAAK,CAAC8S,OAAV,EAXN;AAAA,MAYEsb,CAAC,IAAI,IAAIpuB,KAAK,CAAC8S,OAAV,IAAqB,IAAI9S,KAAK,CAAC8S,OAAV,EAAzB,CAZH;AAAA,MAaEub,CAAC,GAAG,IAAIruB,KAAK,CAAC8S,OAAV,EAbN;AAAA,MAcEwb,CAAC,GAAG,IAAItuB,KAAK,CAAC8S,OAAV,EAdN;AAAA,MAeE0b,CAAC,GAAG,IAAIxuB,KAAK,CAAC8S,OAAV,EAfN;AAAA,MAgBE4b,CAAC,GAAG,IAAI1uB,KAAK,CAAC8S,OAAV,EAhBN;AAAA,MAiBEkc,CAAC,GAAG,IAAIhvB,KAAK,CAAC8S,OAAV,EAjBN;AAAA,MAkBEmc,CAAC,GAAG,IAAIjvB,KAAK,CAAC8S,OAAV,EAlBN;;AAmBA,QAAMoc,CAAC,GAAGhiB,IAAI,CAACgF,GAAL,CAASzL,CAAT,EAAYa,CAAZ,IAAiB,CAA3B;AAAA,QACE6nB,CAAC,GAAGD,CAAC,GAAGplB,CADV;AAAA,QAEEslB,CAAC,GAAGF,CAAC,GAAGplB,CAFV;AAAA,QAGEsJ,CAAC,GAAGvM,CAAC,GAAG,IAAIiD,CAAR,GAAY,KAHlB;AAAA,QAIEulB,CAAC,GAAGjc,CAAC,GAAG/J,CAJV;AAAA,QAKEkmB,CAAC,GAAGriB,IAAI,CAAC0tB,IAAL,CAAUpxB,CAAC,GAAGH,CAAd,CALN;AAAA,QAMEomB,CAAC,GAAGrc,CAAC,GAAGmc,CANV;AAAA,QAOEG,CAAC,GAAG,CAACtc,CAAD,GAAK,CAPX;AAAA,QAQE0Z,CAAC,GAAI,IAAI5f,IAAI,CAACC,EAAV,GAAgBtC,CARtB;AAAA,QASEuiB,CAAC,GAAGlgB,IAAI,CAACC,EAAL,GAAU,CAAV,GAAcgD,CATpB;AAAA,QAUEkd,CAAC,GAAGngB,IAAI,CAACgF,GAAL,CAAS,CAAC,IAAI9G,CAAC,GAAG,GAAT,IAAgBtB,CAAzB,EAA4BA,CAAC,GAAG,GAAhC,CAVN;AAAA,QAWEijB,CAAC,GAAGjjB,CAAC,GAAGujB,CAXV;;AAYA,WAASC,CAAT,CAAW7mB,CAAX,EAAcI,CAAd,EAAiB;AACf,UAAMS,CAAC,GAAG4F,IAAI,CAACC,EAAL,GAAU,CAApB;AACE2gB,IAAAA,CAAC,GAAGjnB,CAAC,GAAG4oB,CAAT,EACExS,CAAC,GAAI,IAAI/P,IAAI,CAACC,EAAT,IAAe2gB,CAAC,GAAGuB,CAAnB,CAAD,GAA0BA,CAA1B,GAA8B/nB,CADpC,EAEEwmB,CAAC,IAAI4B,CAFP,EAGE3B,CAAC,GAAG7gB,IAAI,CAAC8qB,GAAL,CAAS/a,CAAT,IAAcmS,CAHpB,EAIErR,CAAC,GAAG7Q,IAAI,CAAC+qB,GAAL,CAAShb,CAAT,IAAckS,CAJpB,EAKC1qB,CAAC,GAAGgC,CAAC,CAAC4a,GAAF,CAAMtD,CAAN,EAASgQ,CAAT,EAAYD,CAAZ,CAAH,GAAoBrnB,CAAC,CAAC4a,GAAF,CAAMtD,CAAN,EAAS+P,CAAT,EAAYC,CAAZ,CALtB;AAMF;;AACDT,EAAAA,CAAC,CAACY,CAAD,EAAI,CAAC,CAAL,CAAD,EAAUZ,CAAC,CAACtB,CAAD,EAAI,CAAJ,CAAX,EAAmBoC,CAAC,CAAC3a,IAAF,CAAOya,CAAP,CAAnB;AACA,QAAMlB,CAAC,GAAGkB,CAAC,CAAC2M,UAAF,CAAa7O,CAAb,CAAV;AAAA,QACEkB,CAAC,GAAGF,CAAC,GAAGuC,CAAJ,GAAQ,IAAIxC,CADlB;AAAA,QAEEE,CAAC,GAAGC,CAAC,GAAGH,CAFV;;AAGA,OAAK,IAAItmB,IAAC,GAAG,CAAb,EAAgBA,IAAC,IAAI8oB,CAArB,EAAwB9oB,IAAC,EAAzB,EAA6B;AAC3B6mB,IAAAA,CAAC,CAACU,CAAD,EAAIvnB,IAAJ,CAAD,EACEwoB,CAAC,CAACO,UAAF,CAAaxB,CAAb,EAAgBI,CAAhB,EAAmBqK,SAAnB,EADF,EAEErK,CAAC,CAAC3a,IAAF,CAAOua,CAAP,CAFF,EAGEU,CAAC,CAACjb,IAAF,CAAOua,CAAP,EACG8M,YADH,CACgBr2B,CAAC,GAAG,CADpB,EACuB,CADvB,EAEGg0B,SAFH,EAHF,EAMEzJ,CAAC,CAACP,YAAF,CAAeQ,CAAf,EAAkBP,CAAlB,EAAqB+J,SAArB,EANF;;AAOA,UAAM5xB,IAAC,GAAG,KAAKJ,IAAL,GAAU,IAAIyG,IAAI,CAACC,EAAV,GAAgB,CAAzB,GAA6BigB,CAAvC;AAAA,UACE9lB,IAAC,GAAG,KAAKb,IAAL,GAAS,CAAT,GAAawmB,CADnB;;AAEA,SAAK,IAAIxoB,IAAC,GAAG,CAAR,EAAW8C,IAAC,GAAG,CAApB,EAAuB9C,IAAC,IAAIoG,CAA5B,EAA+BtD,IAAC,GAAG,EAAE9C,IAAF,GAAMqoB,CAAzC,EAA4C;AAC1C,UACGuB,CAAC,CAAC0M,UAAF,CACC7M,CAAC,CAACza,IAAF,CAAOib,CAAP,EAAUnC,cAAV,CAAyBziB,CAAC,GAAGoD,IAAI,CAAC+qB,GAAL,CAAS1wB,IAAT,CAA7B,CADD,EAECykB,CAAC,CAACvY,IAAF,CAAOub,CAAP,EAAUzC,cAAV,CAAyBziB,CAAC,GAAGoD,IAAI,CAAC8qB,GAAL,CAASzwB,IAAT,CAA7B,CAFD,GAIDinB,CAAC,CAAC/a,IAAF,CAAO4a,CAAP,EAAUoK,SAAV,EAJC,EAKD,KAAKhyB,IAAL,IAAUA,IAAC,IAAI8oB,CANjB,EAOE;AACAvD,QAAAA,CAAC,CAACvY,IAAF,CAAO+a,CAAP,EAAUjC,cAAV,CAAyBc,CAAzB,GAA6BY,CAAC,CAAC8M,UAAF,CAAa/M,CAAb,EAAgBhC,CAAhB,CAA7B;;AACA,aAAK,IAAIzkB,IAAC,GAAG,CAAR,EAAW8B,IAAC,GAAGxC,IAApB,EAAuBU,IAAC,GAAG4I,CAA3B,EAA8B9G,IAAC,GAAG,EAAE9B,IAAF,GAAM6lB,CAAN,GAAUvmB,IAA5C,EAA+C;AAC7CynB,UAAAA,CAAC,CAACyM,UAAF,CACE7M,CAAC,CAACza,IAAF,CAAOwb,CAAP,EAAU1C,cAAV,CAAyBQ,CAAC,GAAG7f,IAAI,CAAC8qB,GAAL,CAAS3uB,IAAT,CAA7B,CADF,EAEE2iB,CAAC,CAACvY,IAAF,CAAO+a,CAAP,EAAUjC,cAAV,CAAyBQ,CAAC,GAAG7f,IAAI,CAAC+qB,GAAL,CAAS5uB,IAAT,CAA7B,CAFF,GAIE2iB,CAAC,CAAC+O,UAAF,CAAa9M,CAAb,EAAgBK,CAAhB,CAJF,EAKEA,CAAC,CAACmK,SAAF,EALF,EAMExM,CAAC,CAAC/hB,IAAF,CAAO8hB,CAAC,CAAC9Y,CAAT,EAAY8Y,CAAC,CAAC7Y,CAAd,EAAiB6Y,CAAC,CAAC5Y,CAAnB,CANF,EAOE0K,CAAC,CAAC5T,IAAF,CAAOokB,CAAC,CAACpb,CAAT,EAAYob,CAAC,CAACnb,CAAd,EAAiBmb,CAAC,CAAClb,CAAnB,CAPF;;AAQA,gBAAMvM,IAAC,GAAG,CAAC,KAAKJ,IAAN,IAAWyG,IAAI,CAAC8qB,GAAL,CAAS3uB,IAAT,CAArB;;AACA8J,UAAAA,CAAC,CAACjJ,IAAF,CAAO,CAAC5C,IAAC,GAAGylB,CAAC,GAAGlmB,IAAT,IAAcqmB,CAArB,EAAwBzoB,IAAC,GAAGoG,CAA5B,EAA+B,CAA/B;AACD;AACF;;AACDmhB,MAAAA,CAAC,CAAC+O,UAAF,CAAa/M,CAAb,EAAgBK,CAAhB,GACE7d,CAAC,CAACtG,IAAF,CAAO8hB,CAAC,CAAC9Y,CAAT,EAAY8Y,CAAC,CAAC7Y,CAAd,EAAiB6Y,CAAC,CAAC5Y,CAAnB,CADF,EAEEsZ,CAAC,CAACxiB,IAAF,CAAOskB,CAAC,CAACtb,CAAT,EAAYsb,CAAC,CAACrb,CAAd,EAAiBqb,CAAC,CAACpb,CAAnB,CAFF,EAGE+X,CAAC,CAACjhB,IAAF,CAAO,CAAC6iB,CAAC,GAAGtmB,IAAC,GAAGumB,CAAT,IAAcE,CAArB,EAAwBzoB,IAAC,GAAGoG,CAA5B,CAHF;AAID;AACF;;AACD,QAAMgiB,EAAE,GAAGZ,CAAC,CAACvjB,MAAF,GAAW,CAAtB;;AACA,OAAK,IAAIjE,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG0L,CAApB,EAAuB1L,IAAC,EAAxB,EACE,KAAK,IAAIgC,IAAC,GAAG,CAAb,EAAgBA,IAAC,IAAIoE,CAArB,EAAwBpE,IAAC,EAAzB,EAA6B;AAC3B,QAAII,IAAC,GAAGgmB,EAAE,GAAG,KAAKpmB,IAAC,GAAG0J,CAAJ,GAAQ1L,IAAb,CAAb;AAAA,QACE6C,IAAC,GAAG,KAAK,CAACuD,CAAC,GAAGpE,IAAL,IAAU0J,CAAV,GAAcA,CAAd,GAAkB1L,IAAlB,GAAsB,CAA3B,CADN;;AAEA+L,IAAAA,CAAC,CAACtG,IAAF,CAAO,GAAG+hB,CAAC,CAAC7d,KAAF,CAAQvH,IAAR,EAAWA,IAAC,GAAG,CAAf,CAAV,GACE2J,CAAC,CAACwqB,OAAF,CAAU,GAAG/O,CAAC,CAAC7d,KAAF,CAAQ9G,IAAR,EAAWA,IAAC,GAAG,CAAf,CAAb,CADF,EAEEolB,CAAC,CAACxiB,IAAF,CAAO,GAAG4T,CAAC,CAAC1P,KAAF,CAAQvH,IAAR,EAAWA,IAAC,GAAG,CAAf,CAAV,CAFF,EAGE6lB,CAAC,CAACsO,OAAF,CAAU,GAAGld,CAAC,CAAC1P,KAAF,CAAQ9G,IAAR,EAAWA,IAAC,GAAG,CAAf,CAAb,CAHF,EAIE6jB,CAAC,CAACjhB,IAAF,CAAO,GAAGiJ,CAAC,CAAC/E,KAAF,CAAQvH,IAAR,EAAWA,IAAC,GAAG,CAAf,CAAV,CAJF,EAKEskB,CAAC,CAAC6P,OAAF,CAAU,GAAG7nB,CAAC,CAAC/E,KAAF,CAAQ9G,IAAR,EAAWA,IAAC,GAAG,CAAf,CAAb,CALF;AAMD;;AACH,QAAM2zB,EAAE,GAAGpwB,CAAC,GAAG,CAAf;;AACA,OAAK,IAAIpG,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG8qB,CAAC,GAAG,IAAIpf,CAA5B,EAA+B1L,IAAC,EAAhC,EACE,KAAK,IAAIgC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGw0B,EAAE,GAAG,CAAzB,EAA4Bx0B,IAAC,EAA7B,EACGonB,CAAC,GAAG,CAACrB,CAAC,GAAG/nB,IAAC,GAAGw2B,EAAJ,GAASx0B,IAAd,IAAmBw0B,EAAxB,EACG/nB,CAAC,GAAG,CAAC0a,CAAC,GAAGpB,CAAC,GAAG,CAAT,IAAcyO,EADrB,EAEE3qB,CAAC,CAACpG,IAAF,CAAOsiB,CAAP,EAAUoB,CAAV,EAAaC,CAAb,EAAgBD,CAAhB,EAAmB1a,CAAnB,EAAsB2a,CAAtB,CAFF;;AAGJrB,EAAAA,CAAC,GAAGhc,CAAC,CAAC9H,MAAF,GAAW,CAAX,GAAemC,CAAf,GAAmB,CAAvB;;AACA,OAAK,IAAIpG,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGoG,CAAC,GAAG,CAAxB,EAA2BpG,IAAC,EAA5B,EACE6L,CAAC,CAACpG,IAAF,CAAOsiB,CAAP,EAAUA,CAAC,GAAG/nB,IAAJ,GAAQ,CAAlB,EAAqB+nB,CAAC,GAAG/nB,IAAJ,GAAQ,CAA7B,GAAiC6L,CAAC,CAACpG,IAAF,CAAO,CAAP,EAAUzF,IAAC,GAAG,CAAd,EAAiBA,IAAC,GAAG,CAArB,CAAjC;;AACF,MAAIy2B,EAAE,GAAG,IAAIl7B,KAAK,CAACuS,cAAV,EAAT;AACA,SACE2oB,EAAE,CAAC1oB,QAAH,CAAYlC,CAAZ,GACA4qB,EAAE,CAACzoB,YAAH,CAAgB,UAAhB,EAA4B,IAAIzS,KAAK,CAAC8V,sBAAV,CAAiCtF,CAAjC,EAAoC,CAApC,CAA5B,CADA,EAEA0qB,EAAE,CAACzoB,YAAH,CAAgB,QAAhB,EAA0B,IAAIzS,KAAK,CAAC8V,sBAAV,CAAiC4W,CAAjC,EAAoC,CAApC,CAA1B,CAFA,EAGAwO,EAAE,CAACzoB,YAAH,CAAgB,IAAhB,EAAsB,IAAIzS,KAAK,CAAC8V,sBAAV,CAAiCqV,CAAjC,EAAoC,CAApC,CAAtB,CAHA,EAIA+P,EALF;AAOD;AACC/6B,GAAG,CAACgE,iBAAJ,GAAwB,IAAK,YAAY;AACzC,AAAE,OAAK6N,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBmzB,IAAAA,YAAY,EAAE/wB,CAAC,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAHK;AAIvBs0B,IAAAA,UAAU,EAAE7zB,CAAC,GAAG,CAJO;AAKvB8zB,IAAAA,mBAAmB,EAAE7zB,CAAC,GAAG,CAAC,CALH;AAMvBiyB,IAAAA,YAAY,EAAEnwB,CAAC,GAAG,CANK;AAOvBowB,IAAAA,gBAAgB,EAAEjwB,CAAC,GAAG,CAPC;AAQvBtF,IAAAA,oBAAoB,EAAE4F,CAAC,GAAG;AARH,GAAV,EASZ;AACD,AAAErF,IAAAA,CAAC,GAAGyI,IAAI,CAACoG,GAAL,CAAS7O,CAAT,CAAL,EAAoBgC,CAAC,GAAGyG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CAAxB;AACD,QAAIsD,CAAC,GAAG;AAAEmJ,MAAAA,CAAC,EAAE,MAAMzO,CAAX;AAAc0O,MAAAA,CAAC,EAAE,MAAM1M;AAAvB,KAAR;AAAA,QACEoE,CAAC,GAAG;AAAEqI,MAAAA,CAAC,EAAE,CAACnJ,CAAC,CAACmJ,CAAR;AAAWC,MAAAA,CAAC,EAAE,CAACpJ,CAAC,CAACoJ;AAAjB,KADN;AAAA,QAEE/H,CAAC,GAAG;AAAE8H,MAAAA,CAAC,EAAEnJ,CAAC,CAACmJ,CAAP;AAAUC,MAAAA,CAAC,EAAEpJ,CAAC,CAACoJ;AAAf,KAFN;;AAGA,aAAShD,CAAT,CAAWtJ,CAAX,EAAcS,CAAd,EAAiBC,CAAjB,EAAoB;AAClB,aAAOD,CAAC,GAAG7C,CAAJ,IAAS8C,CAAC,GAAGd,CAAb,GACHyG,IAAI,CAACgF,GAAL,CAAUrL,CAAC,GAAGpC,CAAL,GAAU6C,CAAnB,EAAuBT,CAAC,GAAGJ,CAAL,GAAUc,CAAhC,CADG,GAEHD,CAAC,GAAG7C,CAAJ,GACCoC,CAAC,GAAGpC,CAAL,GAAU6C,CADV,GAEAC,CAAC,GAAGd,CAAJ,GACCI,CAAC,GAAGJ,CAAL,GAAUc,CADV,GAEAV,CANJ;AAOD;;AACD,QAAIyJ,CAAC,GAAG,EAAR;AACEA,IAAAA,CAAC,CAAC,CAAD,CAAD,GAAO,MAAMzJ,CAAC,CAAC,CAAD,CAAP,GAAa,CAAb,GAAiBsJ,CAAC,CAACtJ,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAAf,EAAoBA,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAA5B,CAA1B,EACEyJ,CAAC,CAAC,CAAD,CAAD,GAAO,MAAMzJ,CAAC,CAAC,CAAD,CAAP,GAAa,CAAb,GAAiBsJ,CAAC,CAACtJ,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAAf,EAAoBA,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAA5B,CAD3B,EAEEyJ,CAAC,CAAC,CAAD,CAAD,GAAO,MAAMzJ,CAAC,CAAC,CAAD,CAAP,GAAa,CAAb,GAAiBsJ,CAAC,CAACtJ,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAAf,EAAoBA,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAA5B,CAF3B,EAGEyJ,CAAC,CAAC,CAAD,CAAD,GAAO,MAAMzJ,CAAC,CAAC,CAAD,CAAP,GAAa,CAAb,GAAiBsJ,CAAC,CAACtJ,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAAf,EAAoBA,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAA5B,CAH3B;AAID,QAAI2J,CAAJ;AAAA,QACEkc,CAAC,GAAG7hB,CAAC,CAACqI,CADR;AAAA,QAEEiY,CAAC,GAAG/f,CAAC,CAAC8H,CAFR;AAAA,QAGE+Y,CAAC,GAAG7gB,CAAC,CAAC+H,CAHR;AAAA,QAIE2K,CAAC,GAAGjT,CAAC,CAACsI,CAJR;AAAA,QAKEA,CAAC,GAAG,IAAInT,KAAK,CAACi5B,KAAV,EALN;AAMA,QAAK9lB,CAAC,CAACkoB,MAAF,CAAS3O,CAAT,EAAYT,CAAC,GAAG3b,CAAC,CAAC,CAAD,CAAjB,GAAuB,KAAKhJ,CAAjC,EACET,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP,IAAYsM,CAAC,CAACmoB,gBAAF,CAAmB5O,CAAnB,EAAsBT,CAAtB,EAAyBS,CAAC,GAAGpc,CAAC,CAAC,CAAD,CAA9B,EAAmC2b,CAAnC,CAAZ,EACE9Y,CAAC,CAAC+lB,MAAF,CAAS/N,CAAC,GAAG7a,CAAC,CAAC,CAAD,CAAd,EAAmB2b,CAAnB,CADF,EAEEplB,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP,IAAYsM,CAAC,CAACmoB,gBAAF,CAAmBnQ,CAAnB,EAAsBc,CAAtB,EAAyBd,CAAzB,EAA4Bc,CAAC,GAAG3b,CAAC,CAAC,CAAD,CAAjC,CAFd,EAGE6C,CAAC,CAAC+lB,MAAF,CAAS/N,CAAT,EAAYrN,CAAC,GAAGxN,CAAC,CAAC,CAAD,CAAjB,CAHF,EAIEzJ,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP,IAAYsM,CAAC,CAACmoB,gBAAF,CAAmBnQ,CAAnB,EAAsBrN,CAAtB,EAAyBqN,CAAC,GAAG7a,CAAC,CAAC,CAAD,CAA9B,EAAmCwN,CAAnC,CAJd,EAKE3K,CAAC,CAAC+lB,MAAF,CAASxM,CAAC,GAAGpc,CAAC,CAAC,CAAD,CAAd,EAAmBwN,CAAnB,CALF,EAMEjX,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP,IAAYsM,CAAC,CAACmoB,gBAAF,CAAmB5O,CAAnB,EAAsB5O,CAAtB,EAAyB4O,CAAzB,EAA4B5O,CAAC,GAAGxN,CAAC,CAAC,CAAD,CAAjC,CANd,EAOE6C,CAAC,CAAC+lB,MAAF,CAASxM,CAAT,EAAYT,CAAC,GAAG3b,CAAC,CAAC,CAAD,CAAjB,CAPF,CADF,KASK;AACH,UAAI7L,IAAC,GAAI,KAAKyI,IAAI,CAACquB,KAAL,GAAa,CAAlB,CAAD,GAAyB,CAAjC;;AACA10B,MAAAA,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP,IACEsM,CAAC,CAACqoB,aAAF,CACE9O,CADF,EAEET,CAAC,GAAG3b,CAAC,CAAC,CAAD,CAAD,IAAQ7L,IAAC,GAAG,CAAZ,CAFN,EAGEioB,CAAC,GAAGpc,CAAC,CAAC,CAAD,CAAD,IAAQ7L,IAAC,GAAG,CAAZ,CAHN,EAIEwnB,CAJF,EAKES,CAAC,GAAGpc,CAAC,CAAC,CAAD,CALP,EAME2b,CANF,CADF,EASE9Y,CAAC,CAAC+lB,MAAF,CAAS/N,CAAC,GAAG7a,CAAC,CAAC,CAAD,CAAd,EAAmB2b,CAAnB,CATF,EAUEplB,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP,IACEsM,CAAC,CAACqoB,aAAF,CACErQ,CAAC,GAAG7a,CAAC,CAAC,CAAD,CAAD,IAAQ7L,IAAC,GAAG,CAAZ,CADN,EAEEwnB,CAFF,EAGEd,CAHF,EAIEc,CAAC,GAAG3b,CAAC,CAAC,CAAD,CAAD,IAAQ7L,IAAC,GAAG,CAAZ,CAJN,EAKE0mB,CALF,EAMEc,CAAC,GAAG3b,CAAC,CAAC,CAAD,CANP,CAXJ,EAmBE6C,CAAC,CAAC+lB,MAAF,CAAS/N,CAAT,EAAYrN,CAAC,GAAGxN,CAAC,CAAC,CAAD,CAAjB,CAnBF,EAoBEzJ,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP,IACEsM,CAAC,CAACqoB,aAAF,CACErQ,CADF,EAEErN,CAAC,GAAGxN,CAAC,CAAC,CAAD,CAAD,IAAQ7L,IAAC,GAAG,CAAZ,CAFN,EAGE0mB,CAAC,GAAG7a,CAAC,CAAC,CAAD,CAAD,IAAQ7L,IAAC,GAAG,CAAZ,CAHN,EAIEqZ,CAJF,EAKEqN,CAAC,GAAG7a,CAAC,CAAC,CAAD,CALP,EAMEwN,CANF,CArBJ,EA6BE3K,CAAC,CAAC+lB,MAAF,CAASxM,CAAC,GAAGpc,CAAC,CAAC,CAAD,CAAd,EAAmBwN,CAAnB,CA7BF,EA8BEjX,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP,IACEsM,CAAC,CAACqoB,aAAF,CACE9O,CAAC,GAAGpc,CAAC,CAAC,CAAD,CAAD,IAAQ7L,IAAC,GAAG,CAAZ,CADN,EAEEqZ,CAFF,EAGE4O,CAHF,EAIE5O,CAAC,GAAGxN,CAAC,CAAC,CAAD,CAAD,IAAQ7L,IAAC,GAAG,CAAZ,CAJN,EAKEioB,CALF,EAME5O,CAAC,GAAGxN,CAAC,CAAC,CAAD,CANP,CA/BJ;AAuCD;AACD,WACE6C,CAAC,CAAC+lB,MAAF,CAASxM,CAAT,EAAYT,CAAC,GAAG3b,CAAC,CAAC,CAAD,CAAjB,GACC,CAACE,CAAC,GACDnH,CAAC,GAAG,CAAJ,GACI,IAAIrJ,KAAK,CAAC85B,qBAAV,CAAgC3mB,CAAhC,EAAmC;AACjC4mB,MAAAA,aAAa,EAAE,EADkB;AAEjCjd,MAAAA,KAAK,EAAE,CAF0B;AAGjCnL,MAAAA,KAAK,EAAEtI,CAH0B;AAIjC2wB,MAAAA,YAAY,EAAE,CAAC,CAJkB;AAKjCC,MAAAA,cAAc,EAAEzwB,CALiB;AAMjC0wB,MAAAA,SAAS,EAAE1wB,CANsB;AAOjC2wB,MAAAA,WAAW,EAAE,CAPoB;AAQjCC,MAAAA,aAAa,EAAEtwB;AARkB,KAAnC,CADJ,GAWI,IAAI9J,KAAK,CAACogB,mBAAV,CAA8BjN,CAA9B,EAAiC,EAAjC,CAZL,EAY2CI,QAZ3C,GAYsD;AACrDzL,MAAAA,IAAI,EAAE,mBAD+C;AAErDye,MAAAA,EAAE,EAAE;AAAE6U,QAAAA,mBAAmB,EAAE7zB;AAAvB,OAFiD;AAGrDiK,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAEhN,CADG;AAEViN,QAAAA,MAAM,EAAEjL,CAFE;AAGVkL,QAAAA,KAAK,EAAE,CAHG;AAIVimB,QAAAA,YAAY,EAAE/wB,CAJJ;AAKVs0B,QAAAA,UAAU,EAAE7zB,CALF;AAMVkyB,QAAAA,YAAY,EAAEnwB,CANJ;AAOVowB,QAAAA,gBAAgB,EAAEjwB,CAPR;AAQVtF,QAAAA,oBAAoB,EAAE4F;AARZ;AAHyC,KAbvD,EA2BA3J,GAAG,CAAC+M,IAAJ,CAASksB,MAAT,CAAgB5oB,CAAhB,EAAmB/L,CAAnB,EAAsBgC,CAAtB,CA3BA,EA4BA+J,CA7BF;AA+BD,GApHA,EAqHE,KAAK2jB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEkmB,IAAAA,YAAY,EAAEtwB,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBomB,YAH1C;AAIEuD,IAAAA,UAAU,EAAE5zB,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB2pB,UAJxC;AAKEC,IAAAA,mBAAmB,EAAE/xB,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAWgT,EAAX,CAAc6U,mBALzC;AAME5B,IAAAA,YAAY,EAAEhwB,CAAC,GAAG/E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBgoB,YAN1C;AAOEC,IAAAA,gBAAgB,EAAE3vB,CAAC,GAAGrF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBioB,gBAP9C;AAQEv1B,IAAAA,oBAAoB,EAAE6F,CAAC,GAAGtF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBtN;AARlD,GAFwB,EAYxB;AACA,WAAO,KAAK8N,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB+wB,MAAAA,YAAY,EAAEtwB,CAHE;AAIhB6zB,MAAAA,UAAU,EAAE5zB,CAJI;AAKhB6zB,MAAAA,mBAAmB,EAAE/xB,CALL;AAMhBmwB,MAAAA,YAAY,EAAEhwB,CANE;AAOhBiwB,MAAAA,gBAAgB,EAAE3vB,CAPF;AAQhB5F,MAAAA,oBAAoB,EAAE6F;AARN,KAAX,CAAP;AAUD,GA5IF;AA6IF,CA9IyB,EAAzB,EA+IE5J,GAAG,CAAC6C,cAAJ,GAAqB,IAAK,YAAY;AACrC,AAAE,OAAKgP,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBkN,IAAAA,KAAK,EAAE9K,CAAC,GAAGpC,CAHY;AAIvBxB,IAAAA,aAAa,EAAEqE,CAAC,GAAG,EAJI;AAKvB7D,IAAAA,cAAc,EAAE8D,CAAC,GAAG,EALG;AAMvBk0B,IAAAA,QAAQ,EAAEpyB,CANa;AAOvBqyB,IAAAA,SAAS,EAAElyB,CAPY;AAQvB6tB,IAAAA,UAAU,EAAEvtB,CARW;AASvBwtB,IAAAA,WAAW,EAAEvtB;AATU,GAAV,EAUZ;AACD,AAAEtF,IAAAA,CAAC,GAAGyI,IAAI,CAACoG,GAAL,CAAS7O,CAAT,CAAL,EAAoBgC,CAAC,GAAGyG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CAAxB,EAAuCI,CAAC,GAAGqG,IAAI,CAACoG,GAAL,CAASzM,CAAT,CAA3C;AACD,QAAIgE,CAAC,GAAG,IAAI7K,KAAK,CAACmU,oBAAV,CAA+B,MAAM1P,CAArC,EAAwC6C,CAAxC,EAA2CC,CAA3C,EAA8C8B,CAA9C,EAAiDG,CAAjD,EAAoDM,CAApD,EAAuDC,CAAvD,CAAR;AACA,WACEc,CAAC,CAACwI,KAAF,CAAQ,CAAR,EAAW5M,CAAC,GAAGhC,CAAf,EAAkBoC,CAAC,GAAGpC,CAAtB,GACCoG,CAAC,CAAC0I,QAAF,GAAa;AACZzL,MAAAA,IAAI,EAAE,gBADM;AAEZ0J,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAEhN,CADG;AAEViN,QAAAA,MAAM,EAAEjL,CAFE;AAGVkL,QAAAA,KAAK,EAAE9K,CAHG;AAIV5D,QAAAA,aAAa,EAAEqE,CAJL;AAKV7D,QAAAA,cAAc,EAAE8D,CALN;AAMVk0B,QAAAA,QAAQ,EAAEpyB,CANA;AAOVqyB,QAAAA,SAAS,EAAElyB,CAPD;AAQV6tB,QAAAA,UAAU,EAAEvtB,CARF;AASVwtB,QAAAA,WAAW,EAAEvtB;AATH;AAFA,KADd,EAeAc,CAhBF;AAkBD,GA/BA,EAgCE,KAAKspB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEC,IAAAA,KAAK,EAAErK,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBG,KAHnC;AAIE1O,IAAAA,aAAa,EAAEsE,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBvO,aAJ3C;AAKEQ,IAAAA,cAAc,EAAE4F,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB/N,cAL5C;AAMEg4B,IAAAA,QAAQ,EAAEjyB,CAAC,GAAG/E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBiqB,QANtC;AAOEC,IAAAA,SAAS,EAAE5xB,CAAC,GAAGrF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBkqB,SAPvC;AAQErE,IAAAA,UAAU,EAAEttB,CAAC,GAAGtF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB6lB,UARxC;AASEC,IAAAA,WAAW,EAAEzsB,CAAC,GAAGpG,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB8lB;AATzC,GAFwB,EAaxB;AACA,WAAO,KAAKtlB,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB8K,MAAAA,KAAK,EAAErK,CAHS;AAIhBrE,MAAAA,aAAa,EAAEsE,CAJC;AAKhB9D,MAAAA,cAAc,EAAE4F,CALA;AAMhBoyB,MAAAA,QAAQ,EAAEjyB,CANM;AAOhBkyB,MAAAA,SAAS,EAAE5xB,CAPK;AAQhButB,MAAAA,UAAU,EAAEttB,CARI;AAShButB,MAAAA,WAAW,EAAEzsB;AATG,KAAX,CAAP;AAWD,GAzDF;AA0DF,CA3DqB,EA/IvB,EA2ME1K,GAAG,CAACiE,YAAJ,GAAmB,IAAK,YAAY;AACnC,AAAE,OAAK4N,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBk3B,IAAAA,kBAAkB,EAAE90B,CAAC,GAAG,KAHD;AAIvB7C,IAAAA,MAAM,EAAEsD,CAAC,GAAG,CAJW;AAKvBswB,IAAAA,YAAY,EAAErwB,CAAC,GAAG,CALK;AAMvByV,IAAAA,KAAK,EAAE3T,CAAC,GAAG,GANY;AAOvBmwB,IAAAA,YAAY,EAAEhwB,CAAC,GAAG,CAPK;AAQvBiwB,IAAAA,gBAAgB,EAAE3vB,CAAC,GAAG,CARC;AASvB5F,IAAAA,oBAAoB,EAAE6F,CAAC,GAAG;AATH,GAAV,EAUZ;AACD,QAAIc,CAAJ;AAAA,QACEO,CAAC,GAAG,OAAO3G,CAAC,GAAGyI,IAAI,CAACoG,GAAL,CAAS7O,CAAT,CAAX,CADN;AAAA,QAEE0L,CAAC,GAAG,OAAO1J,CAAC,GAAGyG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CAAX,CAFN;AAAA,QAGE6J,CAAC,GAAIjH,CAAC,GAAG6D,IAAI,CAACC,EAAV,GAAgB,GAAhB,GAAsB7F,CAH5B;AAAA,QAIEkJ,CAAC,GAAItD,IAAI,CAACC,EAAL,GAAU,CAAX,GAAgB,CAAhB,GAAoB,CAAC,CAJ3B;AAAA,QAKEuf,CAAC,GAAIthB,CAAC,GAAGvE,CAAL,GAAU,GALhB;AAAA,QAMEskB,CAAC,GAAIhb,CAAC,GAAGtJ,CAAL,GAAU,GANhB;AAAA,QAOEolB,CAAC,GAAG,IAAIjsB,KAAK,CAACi5B,KAAV,EAPN;;AAQA,QAAI,KAAK3xB,CAAL,IAAU,MAAMT,CAApB,EAAuB;AACrByJ,MAAAA,CAAC,GAAI,IAAIpD,IAAI,CAACC,EAAV,GAAgB7F,CAApB;;AACA,WAAK,IAAI7C,IAAC,GAAG,CAAb,EAAgBA,IAAC,IAAI6C,CAArB,EAAwB7C,IAAC,EAAzB,EAA6B;AAC3B,YAAIgC,IAAC,GAAG6J,CAAC,GAAG7L,IAAZ;AAAA,YACEoC,IAAC,GAAG,IAAIqG,IAAI,CAAC8qB,GAAL,CAASvxB,IAAT,IAAc2E,CADxB;AAAA,YAEE9D,IAAC,GAAG,IAAI4F,IAAI,CAAC+qB,GAAL,CAASxxB,IAAT,IAAc0J,CAFxB;;AAGA8b,QAAAA,CAAC,CAACiN,MAAF,CAASryB,IAAT,EAAYS,IAAZ;AACD;AACF,KARD,MAQO;AACL2kB,MAAAA,CAAC,CAACoP,MAAF,CAAS,CAAT,EAAY,IAAIhyB,CAAJ,IAAS,GAAT,GAAe8G,CAAf,GAAmB,CAA/B;;AACA,WAAK,IAAI1L,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAG6C,CAApB,EAAuB7C,IAAC,EAAxB,EAA4B;AAC1B,YAAIA,IAAC,GAAG,IAAIyI,IAAI,CAAC+qB,GAAL,CAASznB,CAAT,IAAcpF,CAA1B;AAAA,YACE3E,IAAC,GAAG,IAAIyG,IAAI,CAAC8qB,GAAL,CAASxnB,CAAT,IAAcL,CADxB;;AAEA8b,QAAAA,CAAC,CAACiN,MAAF,CAASz0B,IAAT,EAAYgC,IAAZ,GACG+J,CAAC,IAAIF,CADR,EAEG7L,IAAC,GAAG,IAAIyI,IAAI,CAAC+qB,GAAL,CAASznB,CAAT,IAAckc,CAFzB,EAGGjmB,IAAC,GAAG,IAAIyG,IAAI,CAAC8qB,GAAL,CAASxnB,CAAT,IAAc2a,CAHzB,EAIEc,CAAC,CAACiN,MAAF,CAASz0B,IAAT,EAAYgC,IAAZ,CAJF,EAKG+J,CAAC,IAAIF,CALR;AAMD;;AACD2b,MAAAA,CAAC,CAACiN,MAAF,CAAS,CAAT,EAAY,IAAI7vB,CAAJ,IAAS,GAAT,GAAe8G,CAAf,GAAmB,CAA/B;AACD;;AACD,WACE,MAAM5I,CAAN,IAAWpH,GAAG,CAACu5B,QAAJ,CAAaC,KAAb,CAAmBC,iBAAnB,CAAqC3N,CAArC,EAAwCA,CAAC,CAAC4N,SAAF,EAAxC,EAAuDtyB,CAAvD,CAAX,EACC,CAACsD,CAAC,GACDrB,CAAC,GAAG,CAAJ,GACI,IAAIxJ,KAAK,CAAC85B,qBAAV,CAAgC7N,CAAhC,EAAmC;AACjCnP,MAAAA,KAAK,EAAE,CAD0B;AAEjCnL,MAAAA,KAAK,EAAEnI,CAF0B;AAGjCwwB,MAAAA,YAAY,EAAE,CAAC,CAHkB;AAIjCC,MAAAA,cAAc,EAAEnwB,CAJiB;AAKjCowB,MAAAA,SAAS,EAAEpwB,CALsB;AAMjCqwB,MAAAA,WAAW,EAAE,CANoB;AAOjCC,MAAAA,aAAa,EAAErwB;AAPkB,KAAnC,CADJ,GAUI,IAAI/J,KAAK,CAACogB,mBAAV,CAA8B6L,CAA9B,CAXL,EAWuC1Y,QAXvC,GAWkD;AACjDzL,MAAAA,IAAI,EAAE,cAD2C;AAEjD0J,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAEhN,CADG;AAEViN,QAAAA,MAAM,EAAEjL,CAFE;AAGVkL,QAAAA,KAAK,EAAE,CAHG;AAIVgqB,QAAAA,kBAAkB,EAAE90B,CAJV;AAKV7C,QAAAA,MAAM,EAAEsD,CALE;AAMVswB,QAAAA,YAAY,EAAErwB,CANJ;AAOVyV,QAAAA,KAAK,EAAE3T,CAPG;AAQVmwB,QAAAA,YAAY,EAAEhwB,CARJ;AASViwB,QAAAA,gBAAgB,EAAE3vB,CATR;AAUV5F,QAAAA,oBAAoB,EAAE6F;AAVZ;AAFqC,KAZnD,EA2BA5J,GAAG,CAAC+M,IAAJ,CAASksB,MAAT,CAAgBvuB,CAAhB,EAAmBpG,CAAnB,EAAsBgC,CAAtB,CA3BA,EA4BAoE,CA7BF;AA+BD,GAxEA,EAyEE,KAAKspB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEiqB,IAAAA,kBAAkB,EAAEr0B,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBmqB,kBAHhD;AAIE33B,IAAAA,MAAM,EAAEuD,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBxN,MAJpC;AAKE4zB,IAAAA,YAAY,EAAEvuB,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBomB,YAL1C;AAME5a,IAAAA,KAAK,EAAExT,CAAC,GAAG/E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBwL,KANnC;AAOEwc,IAAAA,YAAY,EAAE1vB,CAAC,GAAGrF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBgoB,YAP1C;AAQEC,IAAAA,gBAAgB,EAAE1vB,CAAC,GAAGtF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBioB,gBAR9C;AASEv1B,IAAAA,oBAAoB,EAAE2G,CAAC,GAAGpG,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBtN;AATlD,GAFwB,EAaxB;AACA,WAAO,KAAK8N,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB80B,MAAAA,kBAAkB,EAAEr0B,CAHJ;AAIhBtD,MAAAA,MAAM,EAAEuD,CAJQ;AAKhBqwB,MAAAA,YAAY,EAAEvuB,CALE;AAMhB2T,MAAAA,KAAK,EAAExT,CANS;AAOhBgwB,MAAAA,YAAY,EAAE1vB,CAPE;AAQhB2vB,MAAAA,gBAAgB,EAAE1vB,CARF;AAShB7F,MAAAA,oBAAoB,EAAE2G;AATN,KAAX,CAAP;AAWD,GAlGF;AAmGF,CApGmB,EA3MrB,EAgTE1K,GAAG,CAACkE,aAAJ,GAAoB,IAAK,YAAY;AACpC,AAAE,OAAK2N,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBkN,IAAAA,KAAK,EAAE9K,CAHgB;AAIvB+0B,IAAAA,WAAW,EAAEt0B,CAAC,GAAG,EAJM;AAKvBzD,IAAAA,cAAc,EAAE0D,CAAC,GAAG,GALG;AAMvBjD,IAAAA,eAAe,EAAE+E,CAAC,GAAG,EANE;AAOvBwyB,IAAAA,GAAG,EAAEryB,CAAC,GAAG,IAAI0D,IAAI,CAACC,EAPK;AAQvByqB,IAAAA,YAAY,EAAE9tB,CAAC,GAAG,EARK;AASvBnG,IAAAA,cAAc,EAAEoG,CAAC,GAAG;AATG,GAAV,EAUZ;AACD,QAAIc,CAAC,GAAG,OAAOpG,CAAP,GAAW6C,CAAX,GAAe,IAAvB;AAAA,QACE8D,CAAC,GAAI,UAAU3G,CAAV,EAAagC,CAAb,EAAgBI,CAAhB,EAAmBS,CAAnB,EAAsBC,CAAtB,EAAyB8B,CAAzB,EAA4BG,CAA5B,EAA+BM,CAA/B,EAAkCC,CAAlC,EAAqCc,CAArC,EAAwCO,CAAxC,EAA2C;AAC9C,AAAE,OAAC3E,CAAD,EAAII,CAAJ,IAAS,CAACA,CAAD,EAAIJ,CAAJ,CAAV,EAAoB+C,CAAC,GAAG/C,CAAC,GAAG,CAA5B,EAAgC,MAAMc,CAAC,IAAI,IAAI2F,IAAI,CAACC,EAApB,MAA4BtC,CAAC,GAAG,CAAhC,CAAhC;AACD,aAAO6vB,QAAQ,CAAC,CAAC,CAAF,EAAKj2B,CAAL,EAAQgC,CAAR,EAAWI,CAAX,EAAcS,CAAd,EAAiBC,CAAjB,EAAoB8B,CAApB,EAAuBG,CAAvB,EAA0BM,CAA1B,EAA6BC,CAA7B,EAAgCc,CAAhC,EAAmCO,CAAnC,CAAf;AACD,KAHG,CAGD3G,CAHC,EAGEgC,CAHF,EAGMI,CAAC,GAAGA,CAAC,IAAI,IAAIgE,CAHnB,EAGuB,CAHvB,EAG0BrB,CAH1B,EAG6BjC,CAH7B,EAGgC,CAHhC,EAGmC,CAHnC,EAGsC8B,CAHtC,EAGyCS,CAHzC,EAG4CC,CAH5C,CADN;;AAKA,WACEqB,CAAC,CAACiI,KAAF,CAAQ,CAAR,EAAW5M,CAAC,GAAGhC,CAAf,EAAkB,CAAlB,GACC2G,CAAC,CAACmI,QAAF,GAAa;AACZzL,MAAAA,IAAI,EAAE,eADM;AAEZ0J,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAEhN,CADG;AAEViN,QAAAA,MAAM,EAAEjL,CAFE;AAGVkL,QAAAA,KAAK,EAAE9K,CAHG;AAIV+0B,QAAAA,WAAW,EAAEt0B,CAJH;AAKVzD,QAAAA,cAAc,EAAE0D,CALN;AAMVjD,QAAAA,eAAe,EAAE+E,CANP;AAOVwyB,QAAAA,GAAG,EAAEryB,CAPK;AAQVouB,QAAAA,YAAY,EAAE9tB,CARJ;AASVnG,QAAAA,cAAc,EAAEoG;AATN;AAFA,KADd,EAeAqB,CAhBF;AAkBD,GAlCA,EAmCE,KAAK+oB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEC,IAAAA,KAAK,EAAErK,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBG,KAHnC;AAIEiqB,IAAAA,WAAW,EAAEr0B,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBoqB,WAJzC;AAKE/3B,IAAAA,cAAc,EAAEwF,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB3N,cAL5C;AAMES,IAAAA,eAAe,EAAEkF,CAAC,GAAG/E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBlN,eAN7C;AAOEu3B,IAAAA,GAAG,EAAE/xB,CAAC,GAAGrF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBqqB,GAPjC;AAQEjE,IAAAA,YAAY,EAAE7tB,CAAC,GAAGtF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBomB,YAR1C;AASEj0B,IAAAA,cAAc,EAAEkH,CAAC,GAAGpG,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB7N;AAT5C,GAFwB,EAaxB;AACA,WAAO,KAAKqO,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB8K,MAAAA,KAAK,EAAErK,CAHS;AAIhBs0B,MAAAA,WAAW,EAAEr0B,CAJG;AAKhB1D,MAAAA,cAAc,EAAEwF,CALA;AAMhB/E,MAAAA,eAAe,EAAEkF,CAND;AAOhBqyB,MAAAA,GAAG,EAAE/xB,CAPW;AAQhB8tB,MAAAA,YAAY,EAAE7tB,CARE;AAShBpG,MAAAA,cAAc,EAAEkH;AATA,KAAX,CAAP;AAWD,GA5DF;AA6DF,CA9DoB,EAhTtB,EA+WE1K,GAAG,CAAC27B,iBAAJ,GAAwB,IAAK,YAAY;AACxC,AAAE,OAAK9pB,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBkN,IAAAA,KAAK,EAAE9K,CAAC,GAAG,CAHY;AAIvBk1B,IAAAA,IAAI,EAAEz0B,CAAC,GAAG,EAJa;AAKvBhD,IAAAA,eAAe,EAAEiD,CAAC,GAAG,EALE;AAMvB1D,IAAAA,cAAc,EAAEwF,CAAC,GAAG,EANG;AAOvBqjB,IAAAA,CAAC,EAAEljB,CAAC,GAAG,CAPgB;AAQvBujB,IAAAA,CAAC,EAAEjjB,CAAC,GAAG;AARgB,GAAV,EASZ;AACD,QAAIC,CAAC,GAAG,MAAMtF,CAAN,GAAU6C,CAAlB;AAAA,QACEuD,CAAC,GAAG,IAAI7K,KAAK,CAACg8B,uBAAV,CAAkCjyB,CAAlC,EAAqCzC,CAArC,EAAwCC,CAAxC,EAA2C8B,CAA3C,EAA8CG,CAA9C,EAAiDM,CAAjD,CADN;AAEA,WACGe,CAAC,CAAC0I,QAAF,GAAa;AACZzL,MAAAA,IAAI,EAAE,mBADM;AAEZ0J,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAEhN,CADG;AAEViN,QAAAA,MAAM,EAAEjL,CAFE;AAGVkL,QAAAA,KAAK,EAAE9K,CAHG;AAIVk1B,QAAAA,IAAI,EAAEz0B,CAJI;AAKVhD,QAAAA,eAAe,EAAEiD,CALP;AAMV1D,QAAAA,cAAc,EAAEwF,CANN;AAOVqjB,QAAAA,CAAC,EAAEljB,CAPO;AAQVujB,QAAAA,CAAC,EAAEjjB;AARO;AAFA,KAAd,EAaAe,CAdF;AAgBD,GA5BA,EA6BE,KAAKspB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEC,IAAAA,KAAK,EAAErK,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBG,KAHnC;AAIEoqB,IAAAA,IAAI,EAAEx0B,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBuqB,IAJlC;AAKEz3B,IAAAA,eAAe,EAAE+E,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBlN,eAL7C;AAMET,IAAAA,cAAc,EAAE2F,CAAC,GAAG/E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB3N,cAN5C;AAOE6oB,IAAAA,CAAC,EAAE5iB,CAAC,GAAGrF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBkb,CAP/B;AAQEK,IAAAA,CAAC,EAAEhjB,CAAC,GAAGtF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBub;AAR/B,GAFwB,EAYxB;AACA,WAAO,KAAK/a,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB8K,MAAAA,KAAK,EAAErK,CAHS;AAIhBy0B,MAAAA,IAAI,EAAEx0B,CAJU;AAKhBjD,MAAAA,eAAe,EAAE+E,CALD;AAMhBxF,MAAAA,cAAc,EAAE2F,CANA;AAOhBkjB,MAAAA,CAAC,EAAE5iB,CAPa;AAQhBijB,MAAAA,CAAC,EAAEhjB;AARa,KAAX,CAAP;AAUD,GApDF;AAqDF,CAtDwB,EA/W1B,EAsaE5J,GAAG,CAAC87B,aAAJ,GAAoB,IAAK,YAAY;AACpC,AAAE,OAAKjqB,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBkN,IAAAA,KAAK,EAAE9K,CAAC,GAAGpC,CAHY;AAIvBy3B,IAAAA,QAAQ,EAAE50B,CAAC,GAAG,EAJS;AAKvB60B,IAAAA,gBAAgB,EAAE50B,CAAC,GAAG,EALC;AAMvB60B,IAAAA,MAAM,EAAE/yB,CAAC,GAAG,CACV;AAAE6J,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE,CAAC,EAAZ;AAAgBuF,MAAAA,EAAE,EAAE;AAApB,KADU,EAEV;AAAExF,MAAAA,CAAC,EAAE,EAAL;AAASC,MAAAA,CAAC,EAAE,CAAC,EAAb;AAAiBuF,MAAAA,EAAE,EAAE;AAArB,KAFU,EAGV;AAAExF,MAAAA,CAAC,EAAE,EAAL;AAASC,MAAAA,CAAC,EAAE,EAAZ;AAAgBuF,MAAAA,EAAE,EAAE;AAApB,KAHU,EAIV;AAAExF,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE,EAAX;AAAeuF,MAAAA,EAAE,EAAE;AAAnB,KAJU;AANW,GAAV,EAYZ;AACD,QAAIlP,CAAC,GAAG,IAAIxJ,KAAK,CAACi5B,KAAV,EAAR;AACAzvB,IAAAA,CAAC,CAAC6xB,MAAF,CAAShyB,CAAC,CAAC,CAAD,CAAD,CAAK6J,CAAd,EAAiB7J,CAAC,CAAC,CAAD,CAAD,CAAK8J,CAAtB,GACE3J,CAAC,CAACgyB,aAAF,CAAgBnyB,CAAC,CAAC,CAAD,CAAD,CAAK6J,CAArB,EAAwB7J,CAAC,CAAC,CAAD,CAAD,CAAK8J,CAA7B,EAAgC9J,CAAC,CAAC,CAAD,CAAD,CAAK6J,CAArC,EAAwC7J,CAAC,CAAC,CAAD,CAAD,CAAK8J,CAA7C,EAAgD9J,CAAC,CAAC,CAAD,CAAD,CAAK6J,CAArD,EAAwD7J,CAAC,CAAC,CAAD,CAAD,CAAK8J,CAA7D,CADF;AAEA,QAAIrJ,CAAC,GAAG,IAAI9J,KAAK,CAACq8B,mBAAV,CAA8B7yB,CAAC,CAAC8yB,aAAF,CAAgB/0B,CAAhB,EAAmBg1B,KAAjD,EAAwDj1B,CAAxD,CAAR;AACA,WACEwC,CAAC,CAAC0yB,OAAF,CAAUtvB,IAAI,CAACC,EAAf,GACCrD,CAAC,CAACyJ,QAAF,GAAa;AACZzL,MAAAA,IAAI,EAAE,eADM;AAEZ0J,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAEhN,CADG;AAEViN,QAAAA,MAAM,EAAEjL,CAFE;AAGVkL,QAAAA,KAAK,EAAE9K,CAHG;AAIVq1B,QAAAA,QAAQ,EAAE50B,CAJA;AAKV60B,QAAAA,gBAAgB,EAAE50B,CALR;AAMV60B,QAAAA,MAAM,EAAE/yB;AANE;AAFA,KADd,EAYAS,CAbF;AAeD,GAhCA,EAiCE,KAAKqqB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEC,IAAAA,KAAK,EAAErK,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBG,KAHnC;AAIEuqB,IAAAA,QAAQ,EAAE30B,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB0qB,QAJtC;AAKEC,IAAAA,gBAAgB,EAAE9yB,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB2qB,gBAL9C;AAMEC,IAAAA,MAAM,EAAE5yB,CAAC,GAAG/E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB4qB;AANpC,GAFwB,EAUxB;AACA,WAAO,KAAKpqB,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB8K,MAAAA,KAAK,EAAErK,CAHS;AAIhB40B,MAAAA,QAAQ,EAAE30B,CAJM;AAKhB40B,MAAAA,gBAAgB,EAAE9yB,CALF;AAMhB+yB,MAAAA,MAAM,EAAE5yB;AANQ,KAAX,CAAP;AAQD,GApDF;AAqDF,CAtDoB,EAtatB,EA6dErJ,GAAG,CAACs8B,aAAJ,GAAoB,IAAK,YAAY;AACpC,AAAE,OAAKzqB,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC,CAFW;AAGvBkN,IAAAA,KAAK,EAAE9K,CAAC,GAAGpC,CAHY;AAIvB2nB,IAAAA,MAAM,EAAE9kB,CAAC,GAAG,EAJW;AAKvBo1B,IAAAA,WAAW,EAAEn1B,CAAC,GAAG,CALM;AAMvB20B,IAAAA,QAAQ,EAAE7yB,CAAC,GAAG,EANS;AAOvBszB,IAAAA,UAAU,EAAEnzB,CAAC,GAAG,EAPO;AAQvBozB,IAAAA,QAAQ,EAAE9yB,CAAC,GAAG,CARS;AASvB+yB,IAAAA,YAAY,EAAE9yB,CAAC,GAAG,EATK;AAUvB6tB,IAAAA,YAAY,EAAE/sB,CAAC,GAAG,EAVK;AAWvBlH,IAAAA,cAAc,EAAEyH,CAAC,GAAG;AAXG,GAAV,EAYZ;AACD,QAAI+E,CAAC,GAAGuqB,QAAQ,CACd,CAAC,CADa,EAEdxtB,IAAI,CAACoG,GAAL,CAAS7O,CAAT,CAFc,EAGdyI,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CAHc,EAIdyG,IAAI,CAACoG,GAAL,CAASzM,CAAT,CAJc,EAKdqG,IAAI,CAACoG,GAAL,CAAShM,CAAT,CALc,EAMd4F,IAAI,CAACoG,GAAL,CAAS/L,CAAT,CANc,EAOd2F,IAAI,CAACoG,GAAL,CAASjK,CAAT,CAPc,EAQd6D,IAAI,CAACoG,GAAL,CAAS9J,CAAT,CARc,EASd0D,IAAI,CAACoG,GAAL,CAASxJ,CAAT,CATc,EAUdoD,IAAI,CAACoG,GAAL,CAASvJ,CAAT,CAVc,EAWdmD,IAAI,CAACoG,GAAL,CAASzI,CAAT,CAXc,EAYdqC,IAAI,CAACoG,GAAL,CAASlI,CAAT,CAZc,CAAhB;AAcA,WACG+E,CAAC,CAACoD,QAAF,GAAa;AACZzL,MAAAA,IAAI,EAAE,eADM;AAEZ0J,MAAAA,UAAU,EAAE;AACVE,QAAAA,MAAM,EAAEjL,CADE;AAEVgL,QAAAA,KAAK,EAAEhN,CAFG;AAGVkN,QAAAA,KAAK,EAAE9K,CAHG;AAIVulB,QAAAA,MAAM,EAAE9kB,CAJE;AAKVo1B,QAAAA,WAAW,EAAEn1B,CALH;AAMV20B,QAAAA,QAAQ,EAAE7yB,CANA;AAOVszB,QAAAA,UAAU,EAAEnzB,CAPF;AAQVozB,QAAAA,QAAQ,EAAE9yB,CARA;AASV+yB,QAAAA,YAAY,EAAE9yB,CATJ;AAUV6tB,QAAAA,YAAY,EAAE/sB,CAVJ;AAWVlH,QAAAA,cAAc,EAAEyH;AAXN;AAFA,KAAd,EAgBA+E,CAjBF;AAmBD,GA9CA,EA+CE,KAAKgkB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEC,IAAAA,KAAK,EAAErK,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBG,KAHnC;AAIEya,IAAAA,MAAM,EAAE7kB,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB4a,MAJpC;AAKEsQ,IAAAA,WAAW,EAAErzB,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBkrB,WALzC;AAMER,IAAAA,QAAQ,EAAE1yB,CAAC,GAAG/E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB0qB,QANtC;AAOES,IAAAA,UAAU,EAAE7yB,CAAC,GAAGrF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBmrB,UAPxC;AAQEC,IAAAA,QAAQ,EAAE7yB,CAAC,GAAGtF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBorB,QARtC;AASEC,IAAAA,YAAY,EAAEhyB,CAAC,GAAGpG,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBqrB,YAT1C;AAUEjF,IAAAA,YAAY,EAAExsB,CAAC,GAAG3G,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBomB,YAV1C;AAWEj0B,IAAAA,cAAc,EAAEwM,CAAC,GAAG1L,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsB7N;AAX5C,GAFwB,EAexB;AACA,WAAO,KAAKqO,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB8K,MAAAA,KAAK,EAAErK,CAHS;AAIhB8kB,MAAAA,MAAM,EAAE7kB,CAJQ;AAKhBm1B,MAAAA,WAAW,EAAErzB,CALG;AAMhB6yB,MAAAA,QAAQ,EAAE1yB,CANM;AAOhBmzB,MAAAA,UAAU,EAAE7yB,CAPI;AAQhB8yB,MAAAA,QAAQ,EAAE7yB,CARM;AAShB8yB,MAAAA,YAAY,EAAEhyB,CATE;AAUhB+sB,MAAAA,YAAY,EAAExsB,CAVE;AAWhBzH,MAAAA,cAAc,EAAEwM;AAXA,KAAX,CAAP;AAaD,GA5EF;AA6EF,CA9EoB,EA7dtB,EA4iBEhQ,GAAG,CAAC28B,gBAAJ,GAAuB,IAAK,YAAY;AACvC,AAAE,OAAK9qB,KAAL,GAAa,UAAU;AACvBP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GADY;AAEvBiN,IAAAA,MAAM,EAAEjL,CAFe;AAGvBmxB,IAAAA,YAAY,EAAE/wB,CAAC,GAAG,CAHK;AAIvB2yB,IAAAA,YAAY,EAAElyB,CAAC,GAAG,CAJK;AAKvBmyB,IAAAA,gBAAgB,EAAElyB,CAAC,GAAG,CALC;AAMvBrD,IAAAA,oBAAoB,EAAEmF,CAAC,GAAG,CANH;AAOvB0zB,IAAAA,MAAM,EAAEvzB,CAAC,GAAG,CAAC;AAPU,GAAV,EAQZ;AACD/E,IAAAA,CAAC,GAAGyI,IAAI,CAACoG,GAAL,CAAS7O,CAAT,CAAJ;AACA,QAAIqF,CAAJ;AAAA,QACEC,CAAC,GAAG,IAAI/J,KAAK,CAACi5B,KAAV,EADN;AAEA,QAAIzvB,CAAJ,EACG/C,CAAC,GAAGA,CAAC,GAAGyG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CAAH,GAAiBhC,CAAvB,EACEsF,CAAC,CAACsxB,MAAF,CAAS,MAAM,CAAC52B,CAAhB,EAAmB,MAAMgC,CAAzB,CADF,EAEEsD,CAAC,CAACmvB,MAAF,CAAS,MAAMz0B,CAAf,EAAkB,MAAM,CAACgC,CAAzB,CAFF,EAGEsD,CAAC,CAACmvB,MAAF,CAAS,MAAM,CAACz0B,CAAhB,EAAmB,MAAM,CAACgC,CAA1B,CAHF,EAIEsD,CAAC,CAACmvB,MAAF,CAAS,MAAM,CAACz0B,CAAhB,EAAmB,MAAMgC,CAAzB,CAJF,CADF,KAMK;AACH,UAAII,IAAC,GAAG;AACNqM,QAAAA,CAAC,EAAE,MAAMzO,CADH;AAEN0O,QAAAA,CAAC,EAAE,OAAO1M,CAAC,GAAG,CAACA,CAAC,GAAGyG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CAAL,KAAqBhC,CAAC,IAAIyI,IAAI,CAACoiB,IAAL,CAAU,CAAV,IAAe,CAAnB,CAAjC;AAFG,OAAR;AAIAvlB,MAAAA,CAAC,CAACsxB,MAAF,CAAS,CAAT,EAAYx0B,IAAC,CAACsM,CAAd,GACEpJ,CAAC,CAACmvB,MAAF,CAASryB,IAAC,CAACqM,CAAX,EAAc,CAACrM,IAAC,CAACsM,CAAjB,CADF,EAEEpJ,CAAC,CAACmvB,MAAF,CAAS,CAACryB,IAAC,CAACqM,CAAZ,EAAe,CAACrM,IAAC,CAACsM,CAAlB,CAFF,EAGEpJ,CAAC,CAACmvB,MAAF,CAAS,CAAT,EAAYryB,IAAC,CAACsM,CAAd,CAHF;AAID;AACD,WACE,MAAMtM,CAAN,IACG,UAAUpC,CAAV,EAAagC,CAAb,EAAgBI,CAAhB,EAAmB;AAClB,UAAIS,CAAJ;AAAA,UACEC,CADF;AAAA,UAEE8B,CAFF;AAAA,UAGEG,CAHF;AAAA,UAIEM,CAJF;AAAA,UAKEC,CALF;AAAA,UAMEc,CANF;AAAA,UAOEO,CAPF;AAAA,UAQE+E,CARF;AAAA,UASEG,CATF;AAAA,UAUEE,CAVF;AAAA,UAWEkc,CAXF;AAAA,UAYEvB,CAZF;AAAA,UAaEc,CAbF;AAAA,UAcEnO,CAdF;AAAA,UAeE3K,CAfF;AAAA,UAgBEqZ,CAhBF;AAAA,UAiBEoB,CAAC,GAAG,UAAUnpB,CAAV,EAAagC,CAAb,EAAgBI,CAAhB,EAAmB;AACrB,AAAEA,QAAAA,CAAC,CAACqM,CAAF,GAAMzM,CAAC,CAACyM,CAAF,GAAMzO,CAAC,CAACyO,CAAf,EACErM,CAAC,CAACsM,CAAF,GAAM1M,CAAC,CAAC0M,CAAF,GAAM1O,CAAC,CAAC0O,CADhB,EAEEtM,CAAC,CAACm2B,GAAF,GAAQ9vB,IAAI,CAACoiB,IAAL,CAAUzoB,CAAC,CAACqM,CAAF,GAAMrM,CAAC,CAACqM,CAAR,GAAYrM,CAAC,CAACsM,CAAF,GAAMtM,CAAC,CAACsM,CAA9B,CAFV,EAGEtM,CAAC,CAACo2B,EAAF,GAAOp2B,CAAC,CAACqM,CAAF,GAAMrM,CAAC,CAACm2B,GAHjB,EAIEn2B,CAAC,CAACq2B,EAAF,GAAOr2B,CAAC,CAACsM,CAAF,GAAMtM,CAAC,CAACm2B,GAJjB,EAKEn2B,CAAC,CAACs2B,GAAF,GAAQjwB,IAAI,CAACkwB,KAAL,CAAWv2B,CAAC,CAACq2B,EAAb,EAAiBr2B,CAAC,CAACo2B,EAAnB,CALV;AAMF,OAxBH;;AAyBA,WACE7xB,CAAC,GAAG,EAAJ,EACE+E,CAAC,GAAG,EADN,EAEE3G,CAAC,GAAG/C,CAAC,CAACiC,MAAF,GAAW,CAFjB,EAGEoB,CAAC,GAAGrD,CAAC,CAAC+C,CAAC,GAAG,CAAL,CAHP,EAIE/E,CAAC,CAAC00B,MAAF,GAAW,EAJb,EAKE7xB,CAAC,GAAG,CANR,EAOEA,CAAC,GAAGkC,CAPN,EAQElC,CAAC,EARH,EAUGyC,CAAC,GAAGtD,CAAC,CAACa,CAAC,GAAGkC,CAAL,CAAN,EACGqB,CAAC,GAAGpE,CAAC,CAAC,CAACa,CAAC,GAAG,CAAL,IAAUkC,CAAX,CADR,EAEEokB,CAAC,CAAC7jB,CAAD,EAAID,CAAJ,EAAOsB,CAAP,CAFH,EAGEwiB,CAAC,CAAC7jB,CAAD,EAAIc,CAAJ,EAAOsF,CAAP,CAHH,EAIGG,CAAC,GAAGlF,CAAC,CAAC6xB,EAAF,GAAO9sB,CAAC,CAAC+sB,EAAT,GAAc9xB,CAAC,CAAC8xB,EAAF,GAAO/sB,CAAC,CAAC8sB,EAJ9B,EAKGzsB,CAAC,GAAGpF,CAAC,CAAC6xB,EAAF,GAAO9sB,CAAC,CAAC8sB,EAAT,GAAc7xB,CAAC,CAAC8xB,EAAF,GAAO,CAAC/sB,CAAC,CAAC+sB,EAL/B,EAMGjR,CAAC,GAAG/e,IAAI,CAACmwB,IAAL,CAAU/sB,CAAV,CANP,EAOGoc,CAAC,GAAG,CAPP,EAQGvB,CAAC,GAAG,CAAC,CARR,EASE3a,CAAC,GAAG,CAAJ,GACIyb,CAAC,GAAG,CAAJ,GACGA,CAAC,GAAG/e,IAAI,CAACC,EAAL,GAAU8e,CADjB,IAEIA,CAAC,GAAG/e,IAAI,CAACC,EAAL,GAAU8e,CAAf,EAAoBS,CAAC,GAAG,CAAC,CAAzB,EAA8BvB,CAAC,GAAG,CAAC,CAFtC,CADJ,GAIIc,CAAC,GAAG,CAAJ,KAAWS,CAAC,GAAG,CAAC,CAAN,EAAWvB,CAAC,GAAG,CAAC,CAA1B,CAbN,EAcGrN,CAAC,GAAG,MAAMmO,CAdb,EAeE,CAACO,CAAC,GAAGtf,IAAI,CAACoG,GAAL,CAAUpG,IAAI,CAAC+qB,GAAL,CAASna,CAAT,IAAcjX,CAAf,GAAoBqG,IAAI,CAAC8qB,GAAL,CAASla,CAAT,CAA7B,CAAL,IACA5Q,IAAI,CAACgF,GAAL,CAAS,MAAM9G,CAAC,CAAC4xB,GAAjB,EAAsB,MAAM7sB,CAAC,CAAC6sB,GAA9B,CADA,IAEMxQ,CAAC,GAAGtf,IAAI,CAACgF,GAAL,CAAS,MAAM9G,CAAC,CAAC4xB,GAAjB,EAAsB,MAAM7sB,CAAC,CAAC6sB,GAA9B,CAAL,EACA7pB,CAAC,GAAGjG,IAAI,CAACoG,GAAL,CAAUkZ,CAAC,GAAGtf,IAAI,CAAC8qB,GAAL,CAASla,CAAT,CAAL,GAAoB5Q,IAAI,CAAC+qB,GAAL,CAASna,CAAT,CAA7B,CAHT,IAIK3K,CAAC,GAAGtM,CAnBX,EAoBGU,CAAC,GAAGwC,CAAC,CAACmJ,CAAF,GAAM/C,CAAC,CAAC8sB,EAAF,GAAOzQ,CApBpB,EAqBGnjB,CAAC,GAAGU,CAAC,CAACoJ,CAAF,GAAMhD,CAAC,CAAC+sB,EAAF,GAAO1Q,CArBpB,EAsBGjlB,CAAC,IAAI,CAAC4I,CAAC,CAAC+sB,EAAH,GAAQ/pB,CAAR,GAAYuZ,CAtBpB,EAuBGrjB,CAAC,IAAI8G,CAAC,CAAC8sB,EAAF,GAAO9pB,CAAP,GAAWuZ,CAvBnB,EAwBEjoB,CAAC,CAAC64B,MAAF,CACE/1B,CADF,EAEE8B,CAFF,EAGE8J,CAHF,EAIE/H,CAAC,CAAC+xB,GAAF,GAASjwB,IAAI,CAACC,EAAL,GAAU,CAAX,GAAgBuf,CAJ1B,EAKEvc,CAAC,CAACgtB,GAAF,GAASjwB,IAAI,CAACC,EAAL,GAAU,CAAX,GAAgBuf,CAL1B,EAMEvB,CANF,CAxBF,EAgCGrhB,CAAC,GAAGC,CAhCP,EAiCGA,CAAC,GAAGc,CAjCP;;AAkCFpG,MAAAA,CAAC,CAAC84B,SAAF;AACD,KAvED,CAuEGxzB,CAvEH,EAuEMA,CAAC,CAAC8vB,SAAF,EAvEN,EAuEqBhzB,CAvErB,CADF,EAyEC,CAACiD,CAAC,GACDxC,CAAC,GAAG,CAAJ,GACI,IAAItH,KAAK,CAAC85B,qBAAV,CAAgC/vB,CAAhC,EAAmC;AACjCgwB,MAAAA,aAAa,EAAE,EADkB;AAEjCjd,MAAAA,KAAK,EAAE,CAF0B;AAGjCnL,MAAAA,KAAK,EAAErK,CAH0B;AAIjC0yB,MAAAA,YAAY,EAAE,CAAC,CAJkB;AAKjCC,MAAAA,cAAc,EAAE1yB,CALiB;AAMjC2yB,MAAAA,SAAS,EAAE3yB,CANsB;AAOjC4yB,MAAAA,WAAW,EAAE,CAPoB;AAQjCC,MAAAA,aAAa,EAAE/wB;AARkB,KAAnC,CADJ,GAWI,IAAIrJ,KAAK,CAACogB,mBAAV,CAA8BrW,CAA9B,EAAiC,EAAjC,CAZL,EAY2CwJ,QAZ3C,GAYsD;AACrDzL,MAAAA,IAAI,EAAE,kBAD+C;AAErD0J,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAEhN,CADG;AAEViN,QAAAA,MAAM,EAAEjL,CAFE;AAGVkL,QAAAA,KAAK,EAAE,CAHG;AAIVimB,QAAAA,YAAY,EAAE/wB,CAJJ;AAKV2yB,QAAAA,YAAY,EAAElyB,CALJ;AAMVmyB,QAAAA,gBAAgB,EAAElyB,CANR;AAOVrD,QAAAA,oBAAoB,EAAEmF,CAPZ;AAQV0zB,QAAAA,MAAM,EAAEvzB;AARE;AAFyC,KArFvD,EAkGArJ,GAAG,CAAC+M,IAAJ,CAASksB,MAAT,CAAgBtvB,CAAhB,EAAmBrF,CAAnB,EAAsBgC,CAAtB,CAlGA,EAmGAqD,CApGF;AAsGD,GAlIA,EAmIE,KAAKqqB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEkmB,IAAAA,YAAY,EAAEtwB,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBomB,YAH1C;AAIE4B,IAAAA,YAAY,EAAEjyB,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBgoB,YAJ1C;AAKEC,IAAAA,gBAAgB,EAAEpwB,CAAC,GAAG5E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBioB,gBAL9C;AAMEv1B,IAAAA,oBAAoB,EAAEsF,CAAC,GAAG/E,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBtN,oBANlD;AAOE64B,IAAAA,MAAM,EAAEjzB,CAAC,GAAGrF,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBurB;AAPpC,GAFwB,EAWxB;AACA,WAAO,KAAK/qB,KAAL,CAAW;AAChBP,MAAAA,KAAK,EAAEhL,CADS;AAEhBiL,MAAAA,MAAM,EAAE7K,CAFQ;AAGhB+wB,MAAAA,YAAY,EAAEtwB,CAHE;AAIhBkyB,MAAAA,YAAY,EAAEjyB,CAJE;AAKhBkyB,MAAAA,gBAAgB,EAAEpwB,CALF;AAMhBnF,MAAAA,oBAAoB,EAAEsF,CANN;AAOhBuzB,MAAAA,MAAM,EAAEjzB;AAPQ,KAAX,CAAP;AASD,GAxJF;AAyJF,CA1JuB,EA5iBzB,EAusBE3J,GAAG,CAACq9B,qBAAJ,GAA4B,IAAK,YAAY;AAC5C,AAAE,OAAKxrB,KAAL,GAAa,UACbvN,CAAC,GAAG,IAAIzE,KAAK,CAAC63B,iBAAV,CAA4B,GAA5B,EAAiC,GAAjC,EAAsC,GAAtC,CADS,EAEbpxB,CAFa,EAGb;AACA,QAAII,CAAC,GAAG,IAAI7G,KAAK,CAACuS,cAAV,EAAR;AACA1L,IAAAA,CAAC,CAAC4M,IAAF,CAAOhP,CAAP;AACA,UAAM6C,CAAC,GAAG,IAAItH,KAAK,CAAC8S,OAAV,EAAV;;AACA,QAAKjM,CAAC,CAACkM,kBAAF,IAAwBlM,CAAC,CAACmM,WAAF,CAAcC,OAAd,CAAsB3L,CAAtB,CAAxB,EAAkDb,CAAvD,EAA2D;AACzD,UAAIc,CAAC,GAAGd,CAAC,CAACgL,KAAF,GAAUhL,CAAC,CAACgL,KAAZ,GAAoBnK,CAAC,CAAC4L,CAA9B;AAAA,UACE7J,CAAC,GAAG5C,CAAC,CAACiL,MAAF,GAAWjL,CAAC,CAACiL,MAAb,GAAsBpK,CAAC,CAAC6L,CAD9B;AAAA,UAEE3J,CAAC,GAAG/C,CAAC,CAACkL,KAAF,GAAUlL,CAAC,CAACkL,KAAZ,GAAoBrK,CAAC,CAAC8L,CAF5B;AAGAvM,MAAAA,CAAC,CAACwM,KAAF,CACE,MAAM/L,CAAC,CAAC4L,CAAR,GAAY,CAAZ,GAAgB3L,CAAC,GAAGD,CAAC,CAAC4L,CADxB,EAEE,MAAM5L,CAAC,CAAC6L,CAAR,GAAY,CAAZ,GAAgB9J,CAAC,GAAG/B,CAAC,CAAC6L,CAFxB,EAGE,MAAM7L,CAAC,CAAC8L,CAAR,GAAY,CAAZ,GAAgB5J,CAAC,GAAGlC,CAAC,CAAC8L,CAHxB;AAKD,KATD,MASQ7L,CAAC,GAAGD,CAAC,CAAC4L,CAAP,EAAY7J,CAAC,GAAG/B,CAAC,CAAC6L,CAAlB,EAAuB3J,CAAC,GAAGlC,CAAC,CAAC8L,CAA7B;;AACP,WACGvM,CAAC,CAAC0M,QAAF,GAAa;AACZzL,MAAAA,IAAI,EAAE,uBADM;AAEZ0J,MAAAA,UAAU,EAAE;AAAEC,QAAAA,KAAK,EAAElK,CAAT;AAAYmK,QAAAA,MAAM,EAAErI,CAApB;AAAuBsI,QAAAA,KAAK,EAAEnI;AAA9B;AAFA,KAAd,EAIA3C,CALF;AAOD,GAxBA,EAyBE,KAAKstB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE,MAFpC;AAGEC,IAAAA,KAAK,EAAErK,CAAC,GAAG7C,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBG;AAHnC,GAFwB,EAOxB;AACA,WAAO,KAAKK,KAAL,CAAWvN,CAAX,EAAc;AAAEgN,MAAAA,KAAK,EAAEhL,CAAT;AAAYiL,MAAAA,MAAM,EAAE7K,CAApB;AAAuB8K,MAAAA,KAAK,EAAErK;AAA9B,KAAd,CAAP;AACD,GAlCF;AAmCF,CApC4B,EAvsB9B,EA4uBEnH,GAAG,CAACs9B,cAAJ,GAAqB,IAAK,YAAY;AACrC,AAAE,OAAKzrB,KAAL,GAAa,UAAUvN,CAAV,EAAagC,CAAC,GAAG,EAAjB,EAAqB;AAClC,UAAMI,CAAC,GAAGJ,CAAC,CAACi3B,eAAF,IAAqB,CAA/B;AAAA,UACEp2B,CAAC,GAAGb,CAAC,CAACk3B,YAAF,IAAkB,CADxB;AAAA,UAEEp2B,CAAC,GAAG,EAFN;;AAGA,YAAQ9C,CAAC,CAAC8O,QAAF,CAAWzL,IAAnB;AACE,WAAK,iBAAL;AACE,YAAIuB,CAAC,GAAG,CAAR;AAAA,YACEG,CAAC,GAAG/E,CAAC,CAACm5B,YAAF,CAAe,UAAf,EAA2BC,KAA3B,CAAiCn1B,MAAjC,GAA0C,CADhD;AAEA;;AACF,WAAK,cAAL;AACE,AAAEW,QAAAA,CAAC,GAAG,CAAL,EAAUG,CAAC,GAAG/E,CAAC,CAACm5B,YAAF,CAAe,UAAf,EAA2BC,KAA3B,CAAiCn1B,MAAjC,GAA0C,CAAxD;AACD;;AACF;AACE,AAAEW,QAAAA,CAAC,GAAG,CAAL,EAAUG,CAAC,GAAG/E,CAAC,CAACm5B,YAAF,CAAe,UAAf,EAA2BC,KAA3B,CAAiCn1B,MAA/C;AATL;;AAWA,SAAK,IAAIjC,IAAC,GAAG4C,CAAb,EAAgB5C,IAAC,GAAG+C,CAApB,EAAuB/C,IAAC,IAAI,CAA5B,EACEc,CAAC,CAAC2C,IAAF,CAAO,CACLzF,CAAC,CAACm5B,YAAF,CAAe,UAAf,EAA2BC,KAA3B,CAAiCp3B,IAAjC,CADK,EAELhC,CAAC,CAACm5B,YAAF,CAAe,UAAf,EAA2BC,KAA3B,CAAiCp3B,IAAC,GAAG,CAArC,CAFK,CAAP;;AAIF,UAAMqD,CAAC,GAAGg0B,aAAa,CAACv2B,CAAD,EAAIV,CAAJ,EAAOS,CAAP,CAAb,CAAuBtH,KAAvB,CAAV;AACA,WACG8J,CAAC,CAACyJ,QAAF,GAAa;AACZzL,MAAAA,IAAI,EAAE,gBADM;AAEZ0J,MAAAA,UAAU,EAAE;AAAEksB,QAAAA,eAAe,EAAE72B;AAAnB;AAFA,KAAd,EAICiD,CAAC,CAACgoB,MAAF,GAAW,YAAY;AACtB,YAAMrrB,CAAC,GAAG,EAAV;AACA,aACGA,CAAC,CAACuN,IAAF,GAAS,KAAKA,IAAf,EACCvN,CAAC,CAACqB,IAAF,GAAS,KAAKA,IADf,EAEA,OAAO,KAAK+N,IAAZ,KAAqBpP,CAAC,CAACoP,IAAF,GAAS,KAAKA,IAAnC,CAFA,EAGCpP,CAAC,CAAC8M,QAAF,GAAa,KAAKA,QAHnB,EAIC9M,CAAC,CAAC8M,QAAF,CAAWwqB,YAAX,GAA0Bt5B,CAAC,CAACuP,IAJ7B,EAKAvN,CANF;AAQD,KAdD,EAeAqD,CAhBF;AAkBD,GAvCA,EAwCE,KAAKqqB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExBgC,CAFwB,EAGxB;AACEi3B,IAAAA,eAAe,EAAE72B,CAAC,GAAGJ,CAAC,CAAC8M,QAAF,CAAW/B,UAAX,CAAsBksB,eAD7C;AAEEC,IAAAA,YAAY,EAAEr2B,CAAC,GAAGb,CAAC,CAAC8M,QAAF,CAAW/B,UAAX,CAAsBmsB;AAF1C,GAHwB,EAOxB;AACA,WAAOx9B,GAAG,CAACs9B,cAAJ,CAAmBzrB,KAAnB,CAAyBvN,CAAzB,EAA4B;AACjCi5B,MAAAA,eAAe,EAAE72B,CADgB;AAEjC82B,MAAAA,YAAY,EAAEr2B;AAFmB,KAA5B,CAAP;AAID,GApDF;AAqDF,CAtDqB,EA5uBvB,EAmyBEnH,GAAG,CAAC69B,iBAAJ,GAAwB,IAAK,YAAY;AACxC,AAAE,OAAKhsB,KAAL,GAAa,UAAU;AAAEP,IAAAA,KAAK,EAAEhN,CAAC,GAAG,GAAb;AAAkBiN,IAAAA,MAAM,EAAEjL,CAAC,GAAGhC;AAA9B,GAAV,EAA6C;AAC1D,QAAIoC,CAAC,GAAG,IAAI7G,KAAK,CAACi+B,mBAAV,CAA8Bx5B,CAA9B,EAAiCgC,CAAjC,CAAR;AACA,WACGI,CAAC,CAAC0M,QAAF,GAAa;AACZzL,MAAAA,IAAI,EAAE,mBADM;AAEZ0J,MAAAA,UAAU,EAAE;AAAEC,QAAAA,KAAK,EAAEhN,CAAT;AAAYiN,QAAAA,MAAM,EAAEjL,CAApB;AAAuBkL,QAAAA,KAAK,EAAE;AAA9B;AAFA,KAAd,EAIA9K,CALF;AAOD,GATA,EAUE,KAAKstB,iBAAL,GAAyB,UACxB1vB,CADwB,EAExB;AACEgN,IAAAA,KAAK,EAAEhL,CAAC,GAAGhC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBC,KADnC;AAEEC,IAAAA,MAAM,EAAE7K,CAAC,GAAGpC,CAAC,CAAC8O,QAAF,CAAW/B,UAAX,CAAsBE;AAFpC,GAFwB,EAMxB;AACA,WAAO,KAAKM,KAAL,CAAW;AAAEP,MAAAA,KAAK,EAAEhL,CAAT;AAAYiL,MAAAA,MAAM,EAAE7K;AAApB,KAAX,CAAP;AACD,GAlBF;AAmBF,CApBwB,EAnyB1B,EAwzBE1G,GAAG,CAACu5B,QAAJ,GAAe,EAxzBjB,EAyzBEv5B,GAAG,CAACu5B,QAAJ,CAAaC,KAAb,GAAqB,IAAK,YAAY;AACrC,AAAE,OAAKC,iBAAL,GAAyB,UAAUn1B,CAAV,EAAagC,CAAb,EAAgBI,CAAhB,EAAmB;AAC5C,QAAIS,CAAJ;AAAA,QACEC,CADF;AAAA,QAEE8B,CAFF;AAAA,QAGEG,CAHF;AAAA,QAIEM,CAJF;AAAA,QAKEC,CALF;AAAA,QAMEc,CANF;AAAA,QAOEO,CAPF;AAAA,QAQE+E,CARF;AAAA,QASEG,CATF;AAAA,QAUEE,CAVF;AAAA,QAWEkc,CAXF;AAAA,QAYEvB,CAZF;AAAA,QAaEc,CAbF;AAAA,QAcEnO,CAdF;AAAA,QAeE3K,CAfF;AAAA,QAgBEqZ,CAhBF;AAAA,QAiBEoB,CAAC,GAAG,UAAUnpB,CAAV,EAAagC,CAAb,EAAgBI,CAAhB,EAAmB;AACrB,AAAEA,MAAAA,CAAC,CAACqM,CAAF,GAAMzM,CAAC,CAACyM,CAAF,GAAMzO,CAAC,CAACyO,CAAf,EACErM,CAAC,CAACsM,CAAF,GAAM1M,CAAC,CAAC0M,CAAF,GAAM1O,CAAC,CAAC0O,CADhB,EAEEtM,CAAC,CAACm2B,GAAF,GAAQ9vB,IAAI,CAACoiB,IAAL,CAAUzoB,CAAC,CAACqM,CAAF,GAAMrM,CAAC,CAACqM,CAAR,GAAYrM,CAAC,CAACsM,CAAF,GAAMtM,CAAC,CAACsM,CAA9B,CAFV,EAGEtM,CAAC,CAACo2B,EAAF,GAAOp2B,CAAC,CAACqM,CAAF,GAAMrM,CAAC,CAACm2B,GAHjB,EAIEn2B,CAAC,CAACq2B,EAAF,GAAOr2B,CAAC,CAACsM,CAAF,GAAMtM,CAAC,CAACm2B,GAJjB,EAKEn2B,CAAC,CAACs2B,GAAF,GAAQjwB,IAAI,CAACkwB,KAAL,CAAWv2B,CAAC,CAACq2B,EAAb,EAAiBr2B,CAAC,CAACo2B,EAAnB,CALV;AAMF,KAxBH;;AAyBA,SACE7xB,CAAC,GAAG,EAAJ,EAAQ+E,CAAC,GAAG,EAAZ,EAAgBrG,CAAC,GAAGrD,CAAC,CAAC,CAAC+C,CAAC,GAAG/C,CAAC,CAACiC,MAAP,IAAiB,CAAlB,CAArB,EAA2CjE,CAAC,CAAC00B,MAAF,GAAW,EAAtD,EAA0D7xB,CAAC,GAAG,CADhE,EAEEA,CAAC,GAAGkC,CAAC,GAAG,CAFV,EAGElC,CAAC,EAHH,EAKGyC,CAAC,GAAGtD,CAAC,CAACa,CAAC,GAAGkC,CAAL,CAAN,EACGqB,CAAC,GAAGpE,CAAC,CAAC,CAACa,CAAC,GAAG,CAAL,IAAUkC,CAAX,CADR,EAEEokB,CAAC,CAAC7jB,CAAD,EAAID,CAAJ,EAAOsB,CAAP,CAFH,EAGEwiB,CAAC,CAAC7jB,CAAD,EAAIc,CAAJ,EAAOsF,CAAP,CAHH,EAIGG,CAAC,GAAGlF,CAAC,CAAC6xB,EAAF,GAAO9sB,CAAC,CAAC+sB,EAAT,GAAc9xB,CAAC,CAAC8xB,EAAF,GAAO/sB,CAAC,CAAC8sB,EAJ9B,EAKGzsB,CAAC,GAAGpF,CAAC,CAAC6xB,EAAF,GAAO9sB,CAAC,CAAC8sB,EAAT,GAAc7xB,CAAC,CAAC8xB,EAAF,GAAO,CAAC/sB,CAAC,CAAC+sB,EAL/B,EAMGjR,CAAC,GAAG/e,IAAI,CAACmwB,IAAL,CAAU/sB,CAAV,CANP,EAOGoc,CAAC,GAAG,CAPP,EAQGvB,CAAC,GAAG,CAAC,CARR,EASE3a,CAAC,GAAG,CAAJ,GACIyb,CAAC,GAAG,CAAJ,GACGA,CAAC,GAAG/e,IAAI,CAACC,EAAL,GAAU8e,CADjB,IAEIA,CAAC,GAAG/e,IAAI,CAACC,EAAL,GAAU8e,CAAf,EAAoBS,CAAC,GAAG,CAAC,CAAzB,EAA8BvB,CAAC,GAAG,CAAC,CAFtC,CADJ,GAIIc,CAAC,GAAG,CAAJ,KAAWS,CAAC,GAAG,CAAC,CAAN,EAAWvB,CAAC,GAAG,CAAC,CAA1B,CAbN,EAcGrN,CAAC,GAAGmO,CAAC,GAAG,CAdX,EAeE,CAACO,CAAC,GAAGtf,IAAI,CAACoG,GAAL,CAAUpG,IAAI,CAAC+qB,GAAL,CAASna,CAAT,IAAcjX,CAAf,GAAoBqG,IAAI,CAAC8qB,GAAL,CAASla,CAAT,CAA7B,CAAL,IACA5Q,IAAI,CAACgF,GAAL,CAAS9G,CAAC,CAAC4xB,GAAF,GAAQ,CAAjB,EAAoB7sB,CAAC,CAAC6sB,GAAF,GAAQ,CAA5B,CADA,IAEMxQ,CAAC,GAAGtf,IAAI,CAACgF,GAAL,CAAS9G,CAAC,CAAC4xB,GAAF,GAAQ,CAAjB,EAAoB7sB,CAAC,CAAC6sB,GAAF,GAAQ,CAA5B,CAAL,EACA7pB,CAAC,GAAGjG,IAAI,CAACoG,GAAL,CAAUkZ,CAAC,GAAGtf,IAAI,CAAC8qB,GAAL,CAASla,CAAT,CAAL,GAAoB5Q,IAAI,CAAC+qB,GAAL,CAASna,CAAT,CAA7B,CAHT,IAIK3K,CAAC,GAAGtM,CAnBX,EAoBGU,CAAC,GAAGwC,CAAC,CAACmJ,CAAF,GAAM/C,CAAC,CAAC8sB,EAAF,GAAOzQ,CApBpB,EAqBGnjB,CAAC,GAAGU,CAAC,CAACoJ,CAAF,GAAMhD,CAAC,CAAC+sB,EAAF,GAAO1Q,CArBpB,EAsBGjlB,CAAC,IAAI,CAAC4I,CAAC,CAAC+sB,EAAH,GAAQ/pB,CAAR,GAAYuZ,CAtBpB,EAuBGrjB,CAAC,IAAI8G,CAAC,CAAC8sB,EAAF,GAAO9pB,CAAP,GAAWuZ,CAvBnB,EAwBEjoB,CAAC,CAAC64B,MAAF,CACE/1B,CADF,EAEE8B,CAFF,EAGE8J,CAHF,EAIE/H,CAAC,CAAC+xB,GAAF,GAASjwB,IAAI,CAACC,EAAL,GAAU,CAAX,GAAgBuf,CAJ1B,EAKEvc,CAAC,CAACgtB,GAAF,GAASjwB,IAAI,CAACC,EAAL,GAAU,CAAX,GAAgBuf,CAL1B,EAMEvB,CANF,CAxBF,EAgCGrhB,CAAC,GAAGC,CAhCP,EAiCGA,CAAC,GAAGc,CAjCP;;AAkCFpG,IAAAA,CAAC,CAAC84B,SAAF;AACD,GAlEA,EAmEE,KAAKW,cAAL,GAAsB,UAAUz5B,CAAV,EAAa;AAAEgN,IAAAA,KAAK,EAAEhL,CAAT;AAAYiL,IAAAA,MAAM,EAAE7K,CAApB;AAAuB8K,IAAAA,KAAK,EAAErK;AAA9B,GAAb,EAAgD;AACrE,AAAEb,IAAAA,CAAC,GAAGyG,IAAI,CAACoG,GAAL,CAAS7M,CAAT,CAAL,EAAoBI,CAAC,GAAGqG,IAAI,CAACoG,GAAL,CAASzM,CAAT,CAAxB,EAAuCS,CAAC,GAAG4F,IAAI,CAACoG,GAAL,CAAShM,CAAT,CAA3C;AACD,UAAMC,CAAC,GAAG9C,CAAC,CAAC8O,QAAF,CAAW/B,UAArB;AACA,QAAInI,CAAJ,EAAOG,CAAP,EAAUM,CAAV;AACA,UAAMrD,CAAN,IAAYA,CAAC,GAAGc,CAAC,CAACkK,KAAP,EAAgBpI,CAAC,GAAG,CAA/B,IAAsCA,CAAC,GAAG5C,CAAC,GAAGc,CAAC,CAACkK,KAAhD,EACE,MAAM5K,CAAN,IAAYA,CAAC,GAAGU,CAAC,CAACmK,MAAP,EAAiBlI,CAAC,GAAG,CAAhC,IAAuCA,CAAC,GAAG3C,CAAC,GAAGU,CAAC,CAACmK,MADnD,EAEE,MAAMpK,CAAN,IAAYA,CAAC,GAAGC,CAAC,CAACoK,KAAP,EAAgB7H,CAAC,GAAG,CAA/B,IAAsCA,CAAC,GAAGxC,CAAC,GAAGC,CAAC,CAACoK,KAFlD,EAGElN,CAAC,CAAC4O,KAAF,CAAQhK,CAAR,EAAWG,CAAX,EAAcM,CAAd,CAHF,EAIGvC,CAAC,CAACkK,KAAF,GAAUhL,CAJb,EAKGc,CAAC,CAACmK,MAAF,GAAW7K,CALd,EAMGU,CAAC,CAACoK,KAAF,GAAUrK,CANb;AAOD,GA9EF,EA+EE,KAAK62B,uBAAL,GAA+B,UAAU15B,CAAV,EAAagC,CAAb,EAAgB;AAC9C,UAAMI,CAAC,GAAG,CACN,IAAI7G,KAAK,CAAC8S,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CADM,EAEN,IAAI9S,KAAK,CAAC8S,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAFM,EAGN,IAAI9S,KAAK,CAAC8S,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAHM,CAAV;AAAA,UAKExL,CAAC,GAAG7C,CAAC,CAAC6N,UAAF,CAAakB,QALnB;AAAA,UAMEjM,CAAC,GAAG,IAAIgO,YAAJ,CAAiB,IAAIjO,CAAC,CAACwH,KAAvB,CANN;;AAOA,SAAK,IAAIrK,IAAC,GAAG,CAAR,EAAWgC,IAAC,GAAGa,CAAC,CAACwH,KAAtB,EAA6BrK,IAAC,GAAGgC,IAAjC,EAAoChC,IAAC,EAArC,EAAyCoC,CAAC,CAACpC,IAAC,GAAG,CAAL,CAAD,CAASyU,OAAT,CAAiB3R,CAAjB,EAAoB,IAAI9C,IAAxB;;AACzCA,IAAAA,CAAC,CAACgO,YAAF,CAAehM,CAAf,EAAkB,IAAIzG,KAAK,CAAC8V,sBAAV,CAAiCvO,CAAjC,EAAoC,CAApC,CAAlB;AACD,GAzFF,EA0FE,KAAK62B,0BAAL,GAAkC,UAAU35B,CAAV,EAAagC,CAAb,EAAgB;AACjDhC,IAAAA,CAAC,CAAC45B,eAAF,CAAkB53B,CAAlB;AACD,GA5FF,EA6FE,KAAK63B,WAAL,GAAmB,UAAU75B,CAAV,EAAa;AAC/B,WAAO,IAAIiwB,OAAJ,CAAY,UAAUjuB,CAAV,EAAaI,CAAb,EAAgB;AACjC,UAAI7G,KAAK,CAACu+B,oBAAV,GAAiCvc,IAAjC,CAAsCvd,CAAtC,EAAyC,UAAUA,CAAV,EAAa;AACpDgC,QAAAA,CAAC,CAAChC,CAAD,CAAD;AACD,OAFD;AAGD,KAJM,CAAP;AAKD,GAnGF;AAoGF,CArGqB,EAzzBvB;;AA+5BD,MAAMmQ,MAAN,SAAqB5U,KAAK,CAACoV,QAA3B,CAAoC;AAClC5Q,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAC,GAAG,EAAR,EAAY;AACrB,aACG,KAAKqf,MAAL,GAAcrhB,CADjB,EAEG,KAAK8O,QAAL,CAAczL,IAAd,GAAqB,QAFxB,EAGG,KAAKyL,QAAL,CAAcirB,IAAd,GAAqB,CAAC,CAHzB,EAIE/5B,CAAC,CAACuS,yBAAF,CAA4B,CAAC,CAA7B,CAJF;AAKA,UAAMnQ,CAAC,GAAGpC,CAAC,CAACwS,kBAAF,CAAqBhE,OAArB,CAA6B,IAAIjT,KAAK,CAAC8S,OAAV,EAA7B,CAAV;AACE,SAAKtB,UAAL,GAAkB;AAClB1J,MAAAA,IAAI,EAAE,KAAK,CAAL,KAAWrB,CAAC,CAACqB,IAAb,GAAoBrB,CAAC,CAACqB,IAAtB,GAA6B,QADjB;AAElB22B,MAAAA,QAAQ,EAAE,KAAK,CAAL,KAAWh4B,CAAC,CAACg4B,QAAb,IAAyBh4B,CAAC,CAACg4B,QAFnB;AAGlB3vB,MAAAA,KAAK,EAAE,KAAK,CAAL,KAAWrI,CAAC,CAACqI,KAAb,GAAqBrI,CAAC,CAACqI,KAAvB,GAA+B,CAHpB;AAIlB4vB,MAAAA,SAAS,EAAE,KAAK,CAAL,KAAWj4B,CAAC,CAACi4B,SAAb,GAAyBj4B,CAAC,CAACi4B,SAA3B,GAAuC,IAAIxxB,IAAI,CAAC+E,GAAL,CAASpL,CAAC,CAACqM,CAAX,EAAcrM,CAAC,CAACsM,CAAhB,CAJpC;AAKlBwrB,MAAAA,aAAa,EAAE,KAAK,CAAL,KAAWl4B,CAAC,CAACk4B,aAAb,GAA6Bl4B,CAAC,CAACk4B,aAA/B,GAA+C,CAL5C;AAMlBC,MAAAA,WAAW,EAAE,KAAK,CAAL,KAAWn4B,CAAC,CAACm4B,WAAb,GAA2Bn4B,CAAC,CAACm4B,WAA7B,GAA2C,GANtC;AAOlBC,MAAAA,QAAQ,EAAE,KAAK,CAAL,KAAWp4B,CAAC,CAACo4B,QAAb,IAAyBp4B,CAAC,CAACo4B,QAPnB;AAQlBC,MAAAA,OAAO,EAAE,KAAK,CAAL,KAAWr4B,CAAC,CAACq4B,OAAb,GAAuBr4B,CAAC,CAACq4B,OAAzB,GAAmC,GAR1B;AASlBC,MAAAA,QAAQ,EACN,KAAK,CAAL,KAAWt4B,CAAC,CAACs4B,QAAb,GAAwBt4B,CAAC,CAACs4B,QAAF,CAAWvlB,KAAX,EAAxB,GAA6C,IAAIxZ,KAAK,CAAC8S,OAAV,EAV7B;AAWlBksB,MAAAA,WAAW,EACT,KAAK,CAAL,KAAWv4B,CAAC,CAACu4B,WAAb,GAA2Bv4B,CAAC,CAACu4B,WAAF,CAAcxlB,KAAd,EAA3B,GAAmD,IAAIxZ,KAAK,CAACymB,KAAV,EAZnC;AAalBwY,MAAAA,WAAW,EACT,KAAK,CAAL,KAAWx4B,CAAC,CAACw4B,WAAb,GAA2Bx4B,CAAC,CAACw4B,WAAF,CAAczlB,KAAd,EAA3B,GAAmD,IAAIxZ,KAAK,CAAC8S,OAAV,EAdnC;AAelBosB,MAAAA,QAAQ,EACN,KAAK,CAAL,KAAWz4B,CAAC,CAACy4B,QAAb,GAAwBz4B,CAAC,CAACy4B,QAAF,CAAW1lB,KAAX,EAAxB,GAA6C,IAAIxZ,KAAK,CAAC8S,OAAV,EAhB7B;AAiBlBqsB,MAAAA,WAAW,EACT,KAAK,CAAL,KAAW14B,CAAC,CAAC04B,WAAb,GAA2B14B,CAAC,CAAC04B,WAAF,CAAc3lB,KAAd,EAA3B,GAAmD,IAAIxZ,KAAK,CAACymB,KAAV,EAlBnC;AAmBlB2Y,MAAAA,WAAW,EACT,KAAK,CAAL,KAAW34B,CAAC,CAAC24B,WAAb,GACI34B,CAAC,CAAC24B,WAAF,CAAc5lB,KAAd,EADJ,GAEI,IAAIxZ,KAAK,CAAC8S,OAAV,CAAkBjM,CAAC,CAACqM,CAAF,GAAM,MAAMrM,CAAC,CAACqM,CAAhC,EAAmC,CAAnC,EAAsC,CAAtC,EAAyCynB,KAAzC,EAtBY;AAuBlB0E,MAAAA,QAAQ,EACN,KAAK,CAAL,KAAW54B,CAAC,CAAC44B,QAAb,GAAwB54B,CAAC,CAAC44B,QAAF,CAAW7lB,KAAX,EAAxB,GAA6C,IAAIxZ,KAAK,CAAC8S,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAxB7B;AAyBlBwsB,MAAAA,OAAO,EACL,KAAK,CAAL,KAAW74B,CAAC,CAAC64B,OAAb,GACI74B,CAAC,CAAC64B,OAAF,CAAU9lB,KAAV,EADJ,GAEI,IAAIxZ,KAAK,CAAC8S,OAAV,CACEjM,CAAC,CAACqM,CAAF,GAAM,MAAMrM,CAAC,CAACqM,CADhB,EAEErM,CAAC,CAACsM,CAAF,GAAM,MAAMtM,CAAC,CAACsM,CAFhB,EAGEtM,CAAC,CAACuM,CAAF,GAAM,MAAMvM,CAAC,CAACuM,CAHhB,EAIEunB,KAJF,EA5BY;AAiClB4E,MAAAA,aAAa,EAAE,KAAK,CAAL,KAAW94B,CAAC,CAAC84B,aAAb,IAA8B94B,CAAC,CAAC84B;AAjC7B,KAAnB,EAmCC,KAAK/a,MAAL,EAnCD,EAoCC,KAAKgb,WAAL,CAAiB,KAAKhuB,UAAL,CAAgBitB,QAAjC,CApCD;AAqCF;;AACDgB,EAAAA,eAAe,GAAG;AAChB,SAAK,IAAIh7B,CAAC,GAAG,CAAR,EAAWgC,CAAC,GAAG,KAAKwD,QAAL,CAAcvB,MAAlC,EAA0CjE,CAAC,GAAGgC,CAA9C,EAAiD,EAAEhC,CAAnD,EACE,KAAKwF,QAAL,CAAcxF,CAAd,EAAiB2P,QAAjB,GAA4B,KAAK0R,MAAL,CAAY1R,QAAxC;AACH;;AACDorB,EAAAA,WAAW,CAAC/6B,CAAD,EAAI;AACb,QAAI,KAAK,CAAL,KAAW,KAAKqhB,MAAL,CAAY1R,QAA3B,EAAqC;AACnC,UAAI,KAAKnK,QAAL,CAAcvB,MAAd,GAAuB,CAA3B,EACE,IAAM,KAAKod,MAAL,CAAY1R,QAAZ,CAAqBnE,OAArB,GAA+B,CAAC,CAAjC,EAAqC,CAAC,CAAD,KAAOxL,CAAjD,EAAqD;AACnD,cAAMA,IAAC,GAAG,KAAKqhB,MAAL,CAAY1R,QAAZ,CAAqBoF,KAArB,EAAV;;AACA,aAAK,IAAI/S,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAG,KAAKoD,QAAL,CAAcvB,MAAlC,EAA0CjC,CAAC,GAAGI,CAA9C,EAAiD,EAAEJ,CAAnD,EACE,KAAKwD,QAAL,CAAcxD,CAAd,EAAiB2N,QAAjB,GAA4B3P,IAA5B;AACH,OAJD,MAKE,KAAK,IAAIA,IAAC,GAAG,CAAR,EAAWgC,CAAC,GAAG,KAAKwD,QAAL,CAAcvB,MAAlC,EAA0CjE,IAAC,GAAGgC,CAA9C,EAAiD,EAAEhC,IAAnD,EACE,KAAKwF,QAAL,CAAcxF,IAAd,EAAiB2P,QAAjB,GAA4B,KAAK0R,MAAL,CAAY1R,QAAxC;AACJ,WAAK0R,MAAL,CAAY1R,QAAZ,CAAqBnE,OAArB,GAA+B,CAACxL,CAAjC,EAAsC,KAAK+M,UAAL,CAAgBitB,QAAhB,GAA2Bh6B,CAAjE;AACF;AACF;;AACD+f,EAAAA,MAAM,GAAG;AACP,YAAS,KAAKkb,YAAL,IAAqB,KAAKluB,UAAL,CAAgB1J,IAA9C;AACE,WAAK,QAAL;AACE,aAAK63B,aAAL;;AACA;;AACF,WAAK,QAAL;AACE,aAAKC,aAAL;;AACA;;AACF,WAAK,MAAL;AACE,aAAKC,WAAL;;AARJ;AAUD;;AACDH,EAAAA,YAAY,GAAG;AACb,UAAMj7B,CAAC,GAAG,KAAK+M,UAAf;AAAA,UACE/K,CAAC,GACC,WAAWhC,CAAC,CAACqD,IAAb,GAAoBrD,CAAC,CAAC46B,QAAF,CAAWnsB,CAAX,GAAezO,CAAC,CAAC46B,QAAF,CAAWlsB,CAA1B,GAA8B1O,CAAC,CAAC46B,QAAF,CAAWjsB,CAA7D,GAAiE3O,CAAC,CAACqK,KAFvE;AAGA,QAAI,KAAK7E,QAAL,CAAcvB,MAAd,KAAyBjC,CAA7B,EACE,IAAI,KAAKwD,QAAL,CAAcvB,MAAd,GAAuBjC,CAA3B,EACE,KAAK,IAAIhC,IAAC,GAAG,CAAR,EAAWoC,CAAC,GAAGJ,CAAC,GAAG,KAAKwD,QAAL,CAAcvB,MAAtC,EAA8CjE,IAAC,GAAGoC,CAAlD,EAAqD,EAAEpC,IAAvD,EAA0D;AACxD,YAAMA,IAAC,GAAG,KAAKqhB,MAAL,CAAYpO,YAAZ,CAAyB,CAAC,CAA1B,CAAV;;AACA,aAAOjT,IAAC,CAAC8O,QAAF,CAAWsE,QAAlB,EAA4B,KAAKxN,GAAL,CAAS5F,IAAT,CAA5B;AACD,KAJH,MAME,KAAK,IAAIA,IAAC,GAAG,CAAR,EAAWoC,CAAC,GAAG,KAAKoD,QAAL,CAAcvB,MAAd,GAAuBjC,CAA3C,EAA8ChC,IAAC,GAAGoC,CAAlD,EAAqD,EAAEpC,IAAvD,EACE,KAAKq7B,MAAL,CAAY,KAAK71B,QAAL,CAAc,CAAd,CAAZ;AACP;;AACD01B,EAAAA,aAAa,GAAG;AACd,UAAMl7B,CAAC,GAAG,KAAK+M,UAAf;AAAA,UACE/K,CAAC,GAAGhC,CAAC,CAACk6B,aAAF,GAAkB3+B,KAAK,CAACkN,IAAN,CAAW4mB,OADnC;AAAA,UAEEjtB,CAAC,GAAGJ,CAAC,GAAGhC,CAAC,CAACm6B,WAAF,GAAgB5+B,KAAK,CAACkN,IAAN,CAAW4mB,OAFrC;AAAA,UAGExsB,CAAC,GAAG,IAAItH,KAAK,CAACymB,KAAV,CACFhiB,CAAC,CAACu6B,WAAF,CAAc9rB,CAAd,GAAkBlT,KAAK,CAACkN,IAAN,CAAW4mB,OAD3B,EAEFrvB,CAAC,CAACu6B,WAAF,CAAc7rB,CAAd,GAAkBnT,KAAK,CAACkN,IAAN,CAAW4mB,OAF3B,EAGFrvB,CAAC,CAACu6B,WAAF,CAAc5rB,CAAd,GAAkBpT,KAAK,CAACkN,IAAN,CAAW4mB,OAH3B,CAHN;AAQA,QAAIvsB,CAAJ;AACA,WAAO9C,CAAC,CAACq6B,OAAT,KAAqBv3B,CAAC,GAAG,IAAIvH,KAAK,CAAC8S,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAzB,GACE,OAAOrO,CAAC,CAACq6B,OAAT,KAAqBv3B,CAAC,GAAG,IAAIvH,KAAK,CAAC8S,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAzB,CADF,EAEE,OAAOrO,CAAC,CAACq6B,OAAT,KAAqBv3B,CAAC,GAAG,IAAIvH,KAAK,CAAC8S,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAzB,CAFF;;AAGA,SAAK,IAAIzJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG5E,CAAC,CAACqK,KAAtB,EAA6BzF,CAAC,EAA9B,EAAkC;AAChC,YAAMG,CAAC,GAAG,KAAKS,QAAL,CAAcZ,CAAd,CAAV;AACAG,MAAAA,CAAC,CAACsK,YAAF,CAAeisB,QAAf,IACGv2B,CAAC,CAAC6J,KAAF,CAAQH,CAAR,GAAYzO,CAAC,CAACs6B,QAAF,CAAW7rB,CAAX,GAAe,CAD9B,EAEG1J,CAAC,CAAC6J,KAAF,CAAQF,CAAR,GAAY1O,CAAC,CAACs6B,QAAF,CAAW5rB,CAAX,GAAe,CAF9B,EAGG3J,CAAC,CAAC6J,KAAF,CAAQD,CAAR,GAAY3O,CAAC,CAACs6B,QAAF,CAAW3rB,CAAX,GAAe,CAH9B,EAIE5J,CAAC,CAACgK,QAAF,CAAWwsB,SAAX,CAAqB,CAArB,CAJF;AAKA,YAAMl2B,CAAC,GAAIjD,CAAC,GAAGpC,CAAC,CAACqK,KAAP,GAAgBzF,CAAhB,GAAoB5C,CAA9B;AACA,aAAOhC,CAAC,CAACq6B,OAAT,IAAoBt1B,CAAC,CAACqK,QAAF,CAAWwN,GAAX,CAAe,CAAf,EAAkBvX,CAAlB,EAAqB,CAArB,CAApB,EACE,OAAOrF,CAAC,CAACq6B,OAAT,IAAoBt1B,CAAC,CAACqK,QAAF,CAAWwN,GAAX,CAAe,CAAf,EAAkB,CAAlB,EAAqBvX,CAArB,CADtB,EAEE,OAAOrF,CAAC,CAACq6B,OAAT,IAAoBt1B,CAAC,CAACqK,QAAF,CAAWwN,GAAX,CAAevX,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAFtB,EAGEN,CAAC,CAACy2B,eAAF,CAAkB14B,CAAlB,EAAqB9C,CAAC,CAACi6B,SAAvB,CAHF,EAIEl1B,CAAC,CAACgK,QAAF,CAAWnJ,GAAX,CAAe5F,CAAC,CAACw6B,WAAjB,CAJF,EAKE,CAAC,CAAD,KAAOx6B,CAAC,CAACo6B,QAAT,IACMr1B,CAAC,CAACqK,QAAF,CAAWX,CAAX,IAAgB5L,CAAC,CAAC4L,CAAnB,EACA1J,CAAC,CAACqK,QAAF,CAAWV,CAAX,IAAgB7L,CAAC,CAAC6L,CADlB,EAEA3J,CAAC,CAACqK,QAAF,CAAWT,CAAX,IAAgB9L,CAAC,CAAC8L,CAHvB,IAII5J,CAAC,CAACqK,QAAF,CAAWJ,IAAX,CAAgBnM,CAAhB,CATN;AAUD;AACF;;AACDs4B,EAAAA,aAAa,GAAG;AACd,UAAMn7B,CAAC,GAAG,KAAK+M,UAAf;AAAA,UACE/K,CAAC,GAAG,IAAIzG,KAAK,CAACymB,KAAV,CACFhiB,CAAC,CAAC06B,WAAF,CAAcjsB,CAAd,GAAkBlT,KAAK,CAACkN,IAAN,CAAW4mB,OAD3B,EAEFrvB,CAAC,CAAC06B,WAAF,CAAchsB,CAAd,GAAkBnT,KAAK,CAACkN,IAAN,CAAW4mB,OAF3B,EAGFrvB,CAAC,CAAC06B,WAAF,CAAc/rB,CAAd,GAAkBpT,KAAK,CAACkN,IAAN,CAAW4mB,OAH3B,CADN;;AAMA,SAAK,IAAIjtB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpC,CAAC,CAACqK,KAAtB,EAA6BjI,CAAC,EAA9B,EAAkC;AAChC,YAAMS,CAAC,GAAG,KAAK2C,QAAL,CAAcpD,CAAd,CAAV;AACAS,MAAAA,CAAC,CAACwM,YAAF,CAAeisB,QAAf,IACGz4B,CAAC,CAAC+L,KAAF,CAAQH,CAAR,GAAYzO,CAAC,CAACy6B,QAAF,CAAWhsB,CAAX,GAAerM,CAAf,GAAmB,CADlC,EAEGS,CAAC,CAAC+L,KAAF,CAAQF,CAAR,GAAY1O,CAAC,CAACy6B,QAAF,CAAW/rB,CAAX,GAAetM,CAAf,GAAmB,CAFlC,EAGGS,CAAC,CAAC+L,KAAF,CAAQD,CAAR,GAAY3O,CAAC,CAACy6B,QAAF,CAAW9rB,CAAX,GAAevM,CAAf,GAAmB,CAHlC,EAIGS,CAAC,CAACuM,QAAF,CAAWX,CAAX,GAAezM,CAAC,CAACyM,CAAF,GAAMrM,CAJxB,EAKGS,CAAC,CAACuM,QAAF,CAAWV,CAAX,GAAe1M,CAAC,CAAC0M,CAAF,GAAMtM,CALxB,EAMGS,CAAC,CAACuM,QAAF,CAAWT,CAAX,GAAe3M,CAAC,CAAC2M,CAAF,GAAMvM,CANxB,EAOGS,CAAC,CAACkM,QAAF,CAAWN,CAAX,GAAezO,CAAC,CAAC26B,WAAF,CAAclsB,CAAd,GAAkBrM,CAPpC,EAQGS,CAAC,CAACkM,QAAF,CAAWL,CAAX,GAAe1O,CAAC,CAAC26B,WAAF,CAAcjsB,CAAd,GAAkBtM,CARpC,EASGS,CAAC,CAACkM,QAAF,CAAWJ,CAAX,GAAe3O,CAAC,CAAC26B,WAAF,CAAchsB,CAAd,GAAkBvM,CATpC;AAUD;AACF;;AACDg5B,EAAAA,WAAW,GAAG;AACZ,UAAMp7B,CAAC,GAAG,KAAK+M,UAAf;AACA,QAAI/K,CAAC,GAAG,CAAR;;AACA,QAAI,CAAC,CAAD,KAAOhC,CAAC,CAAC86B,aAAb,EAA4B;AAC1B,YAAM14B,CAAC,GAAG;AACNqM,QAAAA,CAAC,EAAEzO,CAAC,CAAC46B,QAAF,CAAWnsB,CAAX,GAAe,CAAf,IAAoB,CAApB,GAAwB,CAAxB,GAA4B,CADzB;AAENC,QAAAA,CAAC,EAAE1O,CAAC,CAAC46B,QAAF,CAAWlsB,CAAX,GAAe,CAAf,IAAoB,CAApB,GAAwB,CAAxB,GAA4B,CAFzB;AAGNC,QAAAA,CAAC,EAAE3O,CAAC,CAAC46B,QAAF,CAAWjsB,CAAX,GAAe,CAAf,IAAoB,CAApB,GAAwB,CAAxB,GAA4B;AAHzB,OAAV;AAAA,YAKE9L,CAAC,GAAG,IAAItH,KAAK,CAAC8S,OAAV,CACFrO,CAAC,CAAC66B,OAAF,CAAUpsB,CAAV,IAAezO,CAAC,CAAC46B,QAAF,CAAWnsB,CAAX,GAAerM,CAAC,CAACqM,CAAhC,IAAqC,GADnC,EAEFzO,CAAC,CAAC66B,OAAF,CAAUnsB,CAAV,IAAe1O,CAAC,CAAC46B,QAAF,CAAWlsB,CAAX,GAAetM,CAAC,CAACsM,CAAhC,IAAqC,GAFnC,EAGF1O,CAAC,CAAC66B,OAAF,CAAUlsB,CAAV,IAAe3O,CAAC,CAAC46B,QAAF,CAAWjsB,CAAX,GAAevM,CAAC,CAACuM,CAAhC,IAAqC,GAHnC,CALN;;AAUA,WAAK,IAAIvM,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGpC,CAAC,CAAC46B,QAAF,CAAWnsB,CAA/B,EAAkCrM,IAAC,EAAnC,EACE,KAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG9C,CAAC,CAAC46B,QAAF,CAAWlsB,CAA/B,EAAkC5L,CAAC,EAAnC,EACE,KAAK,IAAI8B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG5E,CAAC,CAAC46B,QAAF,CAAWjsB,CAA/B,EAAkC/J,CAAC,EAAnC,EAAuC;AACrC,cAAMG,CAAC,GAAG,KAAKS,QAAL,CAAcxD,CAAC,EAAf,CAAV;AACA+C,QAAAA,CAAC,CAACsK,YAAF,CAAeisB,QAAf,IACEv2B,CAAC,CAAC6J,KAAF,CAAQ2sB,SAAR,CAAkB,CAAlB,CADF,EAEEx2B,CAAC,CAACqK,QAAF,CAAWwN,GAAX,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAFF,EAGG7X,CAAC,CAACgK,QAAF,CAAWN,CAAX,GAAezO,CAAC,CAAC66B,OAAF,CAAUpsB,CAAV,GAAcrM,IAAd,GAAkBS,CAAC,CAAC4L,CAHtC,EAIG1J,CAAC,CAACgK,QAAF,CAAWL,CAAX,GAAe1O,CAAC,CAAC66B,OAAF,CAAUnsB,CAAV,GAAc5L,CAAd,GAAkBD,CAAC,CAAC6L,CAJtC,EAKG3J,CAAC,CAACgK,QAAF,CAAWJ,CAAX,GAAe3O,CAAC,CAAC66B,OAAF,CAAUlsB,CAAV,GAAc/J,CAAd,GAAkB/B,CAAC,CAAC8L,CALtC;AAMD;AACN,KAtBD,MAuBE,KAAK,IAAIvM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpC,CAAC,CAAC46B,QAAF,CAAWnsB,CAA/B,EAAkCrM,CAAC,EAAnC,EACE,KAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7C,CAAC,CAAC46B,QAAF,CAAWlsB,CAA/B,EAAkC7L,CAAC,EAAnC,EACE,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG9C,CAAC,CAAC46B,QAAF,CAAWjsB,CAA/B,EAAkC7L,CAAC,EAAnC,EAAuC;AACrC,YAAM8B,CAAC,GAAG,KAAKY,QAAL,CAAcxD,CAAC,EAAf,CAAV;AACA4C,MAAAA,CAAC,CAACyK,YAAF,CAAeisB,QAAf,IACE12B,CAAC,CAACgK,KAAF,CAAQ2sB,SAAR,CAAkB,CAAlB,CADF,EAEE32B,CAAC,CAACwK,QAAF,CAAWwN,GAAX,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAFF,EAGGhY,CAAC,CAACmK,QAAF,CAAWN,CAAX,GAAezO,CAAC,CAAC66B,OAAF,CAAUpsB,CAAV,GAAcrM,CAHhC,EAIGwC,CAAC,CAACmK,QAAF,CAAWL,CAAX,GAAe,CAAC1O,CAAC,CAAC66B,OAAF,CAAUnsB,CAAX,GAAe7L,CAJjC,EAKG+B,CAAC,CAACmK,QAAF,CAAWJ,CAAX,GAAe,CAAC3O,CAAC,CAAC66B,OAAF,CAAUlsB,CAAX,GAAe7L,CALjC;AAMD;AACR;;AACDuqB,EAAAA,MAAM,GAAG;AACP,UAAMrtB,CAAC,GAAG,KAAK+M,UAAf;AAAA,UACE/K,CAAC,GAAG,EADN;AAEA,WACGA,CAAC,CAAC+K,UAAF,GAAe;AACd1J,MAAAA,IAAI,EAAErD,CAAC,CAACqD,IADM;AAEd22B,MAAAA,QAAQ,EAAEh6B,CAAC,CAACg6B,QAFE;AAGd3vB,MAAAA,KAAK,EAAErK,CAAC,CAACqK,KAHK;AAId4vB,MAAAA,SAAS,EAAEj6B,CAAC,CAACi6B,SAJC;AAKdC,MAAAA,aAAa,EAAEl6B,CAAC,CAACk6B,aALH;AAMdC,MAAAA,WAAW,EAAEn6B,CAAC,CAACm6B,WAND;AAOdC,MAAAA,QAAQ,EAAEp6B,CAAC,CAACo6B,QAPE;AAQdC,MAAAA,OAAO,EAAEr6B,CAAC,CAACq6B,OARG;AASdC,MAAAA,QAAQ,EAAEt6B,CAAC,CAACs6B,QAAF,CAAW7lB,OAAX,EATI;AAUd8lB,MAAAA,WAAW,EAAEv6B,CAAC,CAACu6B,WAAF,CAAc9lB,OAAd,EAVC;AAWd+lB,MAAAA,WAAW,EAAEx6B,CAAC,CAACw6B,WAAF,CAAc/lB,OAAd,EAXC;AAYdgmB,MAAAA,QAAQ,EAAEz6B,CAAC,CAACy6B,QAAF,CAAWhmB,OAAX,EAZI;AAadimB,MAAAA,WAAW,EAAE16B,CAAC,CAAC06B,WAAF,CAAcjmB,OAAd,EAbC;AAcdkmB,MAAAA,WAAW,EAAE36B,CAAC,CAAC26B,WAAF,CAAclmB,OAAd,EAdC;AAedmmB,MAAAA,QAAQ,EAAE56B,CAAC,CAAC46B,QAAF,CAAWnmB,OAAX,EAfI;AAgBdomB,MAAAA,OAAO,EAAE76B,CAAC,CAAC66B,OAAF,CAAUpmB,OAAV,EAhBK;AAiBdqmB,MAAAA,aAAa,EAAE96B,CAAC,CAAC86B;AAjBH,KAAhB,EAmBA94B,CApBF;AAsBD;;AACD+B,EAAAA,QAAQ,CAAC/D,CAAD,EAAI;AACV,UAAMgC,CAAC,GAAGhC,CAAC,CAAC+M,UAAZ;AACA,WACG,KAAKA,UAAL,GAAkB;AACjB1J,MAAAA,IAAI,EAAErB,CAAC,CAACqB,IADS;AAEjB22B,MAAAA,QAAQ,EAAEh4B,CAAC,CAACg4B,QAFK;AAGjB3vB,MAAAA,KAAK,EAAErI,CAAC,CAACqI,KAHQ;AAIjB4vB,MAAAA,SAAS,EAAEj4B,CAAC,CAACi4B,SAJI;AAKjBC,MAAAA,aAAa,EAAEl4B,CAAC,CAACk4B,aALA;AAMjBC,MAAAA,WAAW,EAAEn4B,CAAC,CAACm4B,WANE;AAOjBC,MAAAA,QAAQ,EAAEp4B,CAAC,CAACo4B,QAPK;AAQjBC,MAAAA,OAAO,EAAEr4B,CAAC,CAACq4B,OARM;AASjBC,MAAAA,QAAQ,EAAE,IAAI/+B,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzB,CAAC,CAACs4B,QAAhC,CATO;AAUjBC,MAAAA,WAAW,EAAE,IAAIh/B,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzB,CAAC,CAACu4B,WAAhC,CAVI;AAWjBC,MAAAA,WAAW,EAAE,IAAIj/B,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzB,CAAC,CAACw4B,WAAhC,CAXI;AAYjBC,MAAAA,QAAQ,EAAE,IAAIl/B,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzB,CAAC,CAACy4B,QAAhC,CAZO;AAajBC,MAAAA,WAAW,EAAE,IAAIn/B,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzB,CAAC,CAAC04B,WAAhC,CAbI;AAcjBC,MAAAA,WAAW,EAAE,IAAIp/B,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzB,CAAC,CAAC24B,WAAhC,CAdI;AAejBC,MAAAA,QAAQ,EAAE,IAAIr/B,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzB,CAAC,CAAC44B,QAAhC,CAfO;AAgBjBC,MAAAA,OAAO,EAAE,IAAIt/B,KAAK,CAAC8S,OAAV,GAAoB5K,SAApB,CAA8BzB,CAAC,CAAC64B,OAAhC,CAhBQ;AAiBjBC,MAAAA,aAAa,EAAE94B,CAAC,CAAC84B;AAjBA,KAAnB,EAmBA,KAAK/a,MAAL,EAnBA,EAoBA,KAAKgb,WAAL,CAAiB,KAAKhuB,UAAL,CAAgBitB,QAAjC,CApBA,EAqBA,IAtBF;AAwBD;;AAzOiC;AA2OlCt+B,GAAG,CAAC+K,cAAJ,GAAqB,cAAclL,KAAK,CAACkgC,MAApB,CAA2B;AAChD17B,EAAAA,WAAW,CAACC,CAAC,GAAG,GAAL,EAAUgC,CAAC,GAAG,GAAd,EAAmBI,CAAC,GAAG,EAAvB,EAA2BS,CAAC,GAAG,GAA/B,EAAoCC,CAAC,GAAG,GAAxC,EAA6C;AACtD,aACG9C,CAAC,GAAG1E,MAAM,CAACwiB,UADd,EAEG9b,CAAC,GAAG1G,MAAM,CAAC0iB,WAFd,EAGG,KAAK+S,WAAL,GAAmB,IAAIx1B,KAAK,CAACmgC,kBAAV,CAClB,CAAC,GAAD,GAAO17B,CADW,EAElB,MAAMA,CAFY,EAGlB,MAAMgC,CAHY,EAIlB,CAAC,GAAD,GAAOA,CAJW,EAKlBa,CALkB,EAMlBC,CANkB,CAHtB,EAWG,KAAKguB,WAAL,GAAmB,IAAIv1B,KAAK,CAACogC,iBAAV,CAA4Bv5B,CAA5B,EAA+BpC,CAAC,GAAGgC,CAAnC,EAAsCa,CAAtC,EAAyCC,CAAzC,CAXtB,EAYG,KAAK+E,IAAL,GAAY,KAAKkpB,WAAL,CAAiBlpB,IAZhC,EAaG,KAAKF,KAAL,GAAa,KAAKopB,WAAL,CAAiBppB,KAbjC,EAcG,KAAKI,GAAL,GAAW,KAAKgpB,WAAL,CAAiBhpB,GAd/B,EAeG,KAAKE,MAAL,GAAc,KAAK8oB,WAAL,CAAiB9oB,MAflC,EAgBG,KAAK2zB,IAAL,GAAY,KAAK7K,WAAL,CAAiB6K,IAhBhC,EAiBG,KAAK51B,GAAL,GAAW,KAAK+qB,WAAL,CAAiB/qB,GAjB/B,EAkBG,KAAKqkB,oBAAL,GAA4B,CAAC,CAlBhC,EAmBG,KAAKzI,KAAL,GAAa,oBAnBhB,EAoBG,KAAK1B,MAAL,GAAc,KAAK4Q,WAAL,CAAiB5Q,MApBlC,EAqBG,KAAKrX,GAAL,GAAW,KAAKioB,WAAL,CAAiBjoB,GArB/B,EAsBG,KAAKuiB,KAAL,GAAa,KAAK0F,WAAL,CAAiB1F,KAtBjC,EAuBG,KAAKyQ,SAAL,GAAiB,KAAK/K,WAAL,CAAiB+K,SAvBrC,EAwBG,KAAKC,UAAL,GAAkB,KAAKhL,WAAL,CAAiBgL,UAxBtC,EAyBG,KAAKC,YAAL,GAAoB,GAzBvB,EA0BG,KAAKjtB,QAAL,GAAgB;AACfzL,MAAAA,IAAI,EAAE3H,GAAG,CAAC+K,cAAJ,CAAmB2K,IADV;AAEfgC,MAAAA,QAAQ,EAAE,CAAC,CAFI;AAGfE,MAAAA,IAAI,EAAE,CAAC,CAHQ;AAIf0oB,MAAAA,SAAS,EAAE,CAAC,CAJG;AAKfC,MAAAA,YAAY,EAAE,CAAC,CALA;AAMf5sB,MAAAA,YAAY,EAAE,IAAI9T,KAAK,CAAC+T,OAAV;AANC,KA1BnB,EAkCG,KAAK4sB,YAAL,GAAoB,CAAC,CAlCxB,EAmCG,KAAKpqB,YAAL,GAAoB,IAAIpW,GAAG,CAACygC,oBAAR,CAA6B,IAA7B,CAnCvB,EAoCG,KAAK/2B,WAAL,GAAmB,IAAInD,WAAJ,CAAgB,IAAhB,CApCtB,EAqCE,KAAK+E,cAAL,EArCF;AAsCD;;AACD,MAAIqI,YAAJ,GAAmB;AACjB,WAAO,KAAKP,QAAL,CAAcO,YAArB;AACD;;AACD,MAAIA,YAAJ,CAAiBrP,CAAjB,EAAoB;AAClB,SAAK8O,QAAL,CAAcO,YAAd,CAA2BL,IAA3B,CAAgChP,CAAhC;AACD;;AACD,MAAIo8B,cAAJ,GAAqB;AACnB,WAAO1gC,GAAG,CAACygC,oBAAJ,CAAyBC,cAAhC;AACD;;AACD,MAAIxqB,UAAJ,CAAe5R,CAAf,EAAkB;AAChB,AAAE,SAAKwL,OAAL,GAAexL,CAAhB,EAAqB,KAAK8R,YAAL,CAAkBtG,OAAlB,GAA4BxL,CAAjD;;AACD,SAAK,IAAIgC,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAG,KAAKoD,QAAL,CAAcvB,MAAlC,EAA0CjC,CAAC,GAAGI,CAA9C,EAAiD,EAAEJ,CAAnD,EACE,KAAK,CAAL,KAAW,KAAKwD,QAAL,CAAcxD,CAAd,EAAiB6P,cAA5B,IACE,KAAKrM,QAAL,CAAcxD,CAAd,EAAiB6P,cAAjB,CAAgC,UAAU7P,CAAV,EAAa;AAC3C,WAAK,CAAL,KAAWA,CAAC,CAAC8P,YAAb,IACE,CAAC,CAAD,KAAO9P,CAAC,CAACwJ,OADX,KAEGxJ,CAAC,CAAC8P,YAAF,CAAetG,OAAf,GAAyBxL,CAF5B;AAGD,KAJD,CADF;AAMH;;AACD,MAAI4R,UAAJ,GAAiB;AACf,WAAO,KAAKpG,OAAZ;AACD;;AACD,MAAInI,IAAJ,GAAW;AACT,WAAO,KAAKue,KAAZ;AACD;;AACD,MAAIve,IAAJ,CAASrD,CAAT,EAAY;AACV,4BAAwBA,CAAxB,GACI,KAAK0G,aAAL,EADJ,GAEI,yBAAyB1G,CAAzB,IAA8B,KAAKgH,cAAL,EAFlC;AAGD;;AACD,MAAIjB,IAAJ,GAAW;AACT,WAAO,KAAKmkB,mBAAL,GACH,KAAK4G,WAAL,CAAiB/qB,IADd,GAEH,KAAKskB,oBAAL,GACA,KAAK0G,WAAL,CAAiBhrB,IADjB,GAEA,KAAK,CAJT;AAKD;;AACD,MAAIA,IAAJ,CAAS/F,CAAT,EAAY;AACV,SAAKkqB,mBAAL,GACK,KAAK4G,WAAL,CAAiB/qB,IAAjB,GAAwB/F,CAD7B,GAEI,KAAKqqB,oBAAL,KAA8B,KAAK0G,WAAL,CAAiBhrB,IAAjB,GAAwB/F,CAAtD,CAFJ;AAGD;;AACD,MAAI4G,IAAJ,GAAW;AACT,WAAO,KAAKsjB,mBAAL,GACH,KAAK4G,WAAL,CAAiBlqB,IADd,GAEH,KAAKyjB,oBAAL,GACA,KAAK0G,WAAL,CAAiBnqB,IADjB,GAEA,KAAK,CAJT;AAKD;;AACD,MAAIA,IAAJ,CAAS5G,CAAT,EAAY;AACVA,IAAAA,CAAC,GAAG,CAAJ,KACG,KAAKkqB,mBAAL,GACI,KAAK4G,WAAL,CAAiBlqB,IAAjB,GAAwB5G,CAD5B,GAEG,KAAKqqB,oBAAL,KAA8B,KAAK0G,WAAL,CAAiBnqB,IAAjB,GAAwB5G,CAAtD,CAHN;AAID;;AACDq8B,EAAAA,SAAS,CAACr8B,CAAD,EAAIgC,CAAJ,EAAO;AACd,QAAII,CAAJ;AACA,WACE,KAAK,CAAL,KAAWpC,CAAX,KACGiH,OAAO,CAACC,IAAR,CACC,yDADD,GAGAlH,CAAC,GAAG,IAAIzE,KAAK,CAAC8S,OAAV,EAJP,GAKCjM,CAAC,GACA,KAAK,CAAL,KAAWJ,CAAX,GACI,KAAKs6B,iBAAL,CAAuB,IAAI/gC,KAAK,CAAC8S,OAAV,EAAvB,EAA4CyZ,cAA5C,CACE,KAAKiU,YADP,CADJ,GAII/5B,CAAC,CAAC+S,KAAF,GAAU+S,cAAV,CAAyB,KAAKiU,YAA9B,CAVN,EAWA/7B,CAAC,CAACgP,IAAF,CAAO,KAAKD,QAAZ,EAAsBnJ,GAAtB,CAA0BxD,CAA1B,CAXA,EAYApC,CAbF;AAeD;;AACDu8B,EAAAA,oBAAoB,CAACv8B,CAAD,EAAI;AACtB,UAAMgC,CAAC,GAAGhC,CAAC,CAACw8B,gBAAF,CAAmB,IAAIjhC,KAAK,CAAC8S,OAAV,EAAnB,CAAV;AAAA,UACEjM,CAAC,GAAGpC,CAAC,CACFs8B,iBADC,CACiB,IAAI/gC,KAAK,CAAC8S,OAAV,EADjB,EAEDyZ,cAFC,CAEc,KAAKiU,YAFnB,CADN;AAIA,WAAO;AAAEhtB,MAAAA,QAAQ,EAAE/M,CAAC,CAAC+S,KAAF,GAAUnP,GAAV,CAAcxD,CAAd,CAAZ;AAA8B8H,MAAAA,MAAM,EAAElI;AAAtC,KAAP;AACD;;AACDy6B,EAAAA,eAAe,CAACz8B,CAAD,EAAI;AACjB,UAAMgC,CAAC,GAAGhC,CAAC,CAACw8B,gBAAF,CAAmB,IAAIjhC,KAAK,CAAC8S,OAAV,EAAnB,CAAV;AAAA,UACEjM,CAAC,GAAG,KAAKk6B,iBAAL,CAAuB,IAAI/gC,KAAK,CAAC8S,OAAV,EAAvB,EAA4CyZ,cAA5C,CACF,KAAKiU,YADH,CADN;AAIA,WAAO;AAAEhtB,MAAAA,QAAQ,EAAE/M,CAAC,CAAC+S,KAAF,GAAUqS,GAAV,CAAchlB,CAAd,CAAZ;AAA8B8H,MAAAA,MAAM,EAAElI;AAAtC,KAAP;AACD;;AACD06B,EAAAA,gBAAgB,CAAC18B,CAAD,EAAIgC,CAAJ,EAAO;AACrB,AAAE,SAAK6F,IAAL,GAAY,MAAM,CAAC7H,CAApB,EACE,KAAK2H,KAAL,GAAa,MAAM3H,CADrB,EAEE,KAAK+H,GAAL,GAAW,MAAM/F,CAFnB,EAGE,KAAKiG,MAAL,GAAc,MAAM,CAACjG,CAHvB,EAIE,KAAKke,MAAL,GAAclgB,CAAC,GAAGgC,CAJpB,EAKC,KAAKme,sBAAL,EALD;AAMF;;AACDnZ,EAAAA,cAAc,CAAChH,CAAD,EAAI;AAChB,AAAE,SAAK+wB,WAAL,CAAiBlpB,IAAjB,GAAwB,KAAKA,IAA9B,EACE,KAAKkpB,WAAL,CAAiBppB,KAAjB,GAAyB,KAAKA,KADhC,EAEE,KAAKopB,WAAL,CAAiBhpB,GAAjB,GAAuB,KAAKA,GAF9B,EAGE,KAAKgpB,WAAL,CAAiB9oB,MAAjB,GAA0B,KAAKA,MAHjC,EAIE,KAAK8oB,WAAL,CAAiB6K,IAAjB,GAAwB,KAAKA,IAJ/B,EAKE,KAAK7K,WAAL,CAAiB/qB,GAAjB,GAAuB,KAAKA,GAL9B,EAMC,KAAK+qB,WAAL,CAAiB5Q,sBAAjB,EAND,EAOE,KAAKwc,gBAAL,GAAwB,KAAK5L,WAAL,CAAiB4L,gBAP3C,EAQE,KAAKC,uBAAL,GAA+B,KAAK7L,WAAL,CAAiB6L,uBARlD,EASC,OAAO,KAAK1S,mBATb,EAUE,KAAKG,oBAAL,GAA4B,CAAC,CAV/B,EAWE,KAAKzI,KAAL,GAAa,oBAXf,EAYE,CAAC,CAAD,KAAO,KAAKsa,YAAZ,IAA4B,CAAC,CAAD,KAAOl8B,CAApC,IAA0C,KAAK8R,YAAL,CAAkBiO,MAAlB,EAZ3C;AAaF;;AACDrZ,EAAAA,aAAa,CAAC1G,CAAD,EAAI;AACf,AAAE,SAAK8wB,WAAL,CAAiB5Q,MAAjB,GAA0B,KAAKA,MAAhC,EACE,KAAK4Q,WAAL,CAAiBjoB,GAAjB,GAAuB,KAAKA,GAD9B,EAEE,KAAKioB,WAAL,CAAiB8K,IAAjB,GAAwB,KAAKA,IAF/B,EAGE,KAAK9K,WAAL,CAAiB9qB,GAAjB,GAAuB,KAAKA,GAH9B,EAIC,KAAK8qB,WAAL,CAAiB3Q,sBAAjB,EAJD,EAKE,KAAKwc,gBAAL,GAAwB,KAAK7L,WAAL,CAAiB6L,gBAL3C,EAME,KAAKC,uBAAL,GAA+B,KAAK9L,WAAL,CAAiB8L,uBANlD,EAOC,OAAO,KAAKvS,oBAPb,EAQE,KAAKH,mBAAL,GAA2B,CAAC,CAR9B,EASE,KAAKtI,KAAL,GAAa,mBATf,EAUE,CAAC,CAAD,KAAO,KAAKsa,YAAZ,IAA4B,CAAC,CAAD,KAAOl8B,CAApC,IAA0C,KAAK8R,YAAL,CAAkBiO,MAAlB,EAV3C;AAWF;;AACD8c,EAAAA,cAAc,CAAC78B,CAAD,EAAI;AAChB,SAAK8wB,WAAL,CAAiB+L,cAAjB,CAAgC78B,CAAhC,GAAoC,KAAK0G,aAAL,EAApC;AACD;;AACDo2B,EAAAA,cAAc,GAAG;AACf,WAAO,KAAKhM,WAAL,CAAiBgM,cAAjB,EAAP;AACD;;AACDC,EAAAA,eAAe,GAAG;AAChB,WAAO,KAAKjM,WAAL,CAAiBiM,eAAjB,EAAP;AACD;;AACDC,EAAAA,YAAY,GAAG;AACb,WAAO,KAAKlM,WAAL,CAAiBkM,YAAjB,EAAP;AACD;;AACDC,EAAAA,aAAa,GAAG;AACd,WAAO,KAAKnM,WAAL,CAAiBmM,aAAjB,EAAP;AACD;;AACDC,EAAAA,aAAa,CAACl9B,CAAD,EAAIgC,CAAJ,EAAOI,CAAP,EAAUS,CAAV,EAAaC,CAAb,EAAgB8B,CAAhB,EAAmB;AAC9B,SAAKslB,mBAAL,IACK,KAAK4G,WAAL,CAAiBoM,aAAjB,CAA+Bl9B,CAA/B,EAAkCgC,CAAlC,EAAqCI,CAArC,EAAwCS,CAAxC,EAA2CC,CAA3C,EAA8C8B,CAA9C,GAAkD,KAAK8B,aAAL,EADvD,IAEI,KAAK2jB,oBAAL,KACC,KAAK0G,WAAL,CAAiBmM,aAAjB,CAA+Bl9B,CAA/B,EAAkCgC,CAAlC,EAAqCI,CAArC,EAAwCS,CAAxC,EAA2CC,CAA3C,EAA8C8B,CAA9C,GACD,KAAKoC,cAAL,EAFA,CAFJ;AAKD;;AACDm2B,EAAAA,eAAe,GAAG;AAChB,SAAKjT,mBAAL,IACK,KAAK4G,WAAL,CAAiBqM,eAAjB,IAAoC,KAAKz2B,aAAL,EADzC,IAEI,KAAK2jB,oBAAL,KACC,KAAK0G,WAAL,CAAiBoM,eAAjB,IAAoC,KAAKn2B,cAAL,EADrC,CAFJ;AAID;;AACDmZ,EAAAA,sBAAsB,CAACngB,CAAD,EAAI;AACxB,SAAKkqB,mBAAL,GACI,KAAKxjB,aAAL,CAAmB1G,CAAnB,CADJ,GAEI,KAAKqqB,oBAAL,IAA6B,KAAKrjB,cAAL,CAAoBhH,CAApB,CAFjC;AAGD;;AACDyS,EAAAA,iBAAiB,CAACzS,CAAD,EAAI;AACnB,SAAK0S,gBAAL,IAAyB,KAAK9O,YAAL,EAAzB,EACE,CAAC,KAAK+O,sBAAL,IAA+B3S,CAAhC,MACG,SAAS,KAAK4S,MAAd,GACG,KAAKC,WAAL,CAAiBC,gBAAjB,CACE,KAAKhE,QAAL,CAAcO,YADhB,EAEE,KAAK0D,MAFP,CADH,IAKI,KAAKF,WAAL,CAAiBC,gBAAjB,CACC,KAAKF,MAAL,CAAYC,WADb,EAEC,KAAK/D,QAAL,CAAcO,YAFf,GAID,KAAKwD,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKD,WAAvC,EAAoD,KAAKE,MAAzD,CATH,GAUA,KAAKJ,sBAAL,GAA8B,CAAC,CAV/B,EAWA3S,CAAC,GAAG,CAAC,CAZR,CADF;;AAcA,SAAK,IAAIgC,CAAC,GAAG,KAAKwD,QAAb,EAAuBpD,CAAC,GAAG,CAA3B,EAA8BS,CAAC,GAAGb,CAAC,CAACiC,MAAzC,EAAiD7B,CAAC,GAAGS,CAArD,EAAwDT,CAAC,EAAzD,EACEJ,CAAC,CAACI,CAAD,CAAD,CAAKqQ,iBAAL,CAAuBzS,CAAvB;;AACF,SAAKo9B,kBAAL,CAAwBpuB,IAAxB,CAA6B,KAAK6D,WAAlC,EAA+CsU,MAA/C;AACD;;AACDnU,EAAAA,iBAAiB,CAAChT,CAAD,EAAIgC,CAAJ,EAAO;AACtB,QAAII,CAAC,GAAG,KAAKwQ,MAAb;AACA,QACG,CAAC,CAAD,KAAO5S,CAAP,IAAY,SAASoC,CAArB,IAA0BA,CAAC,CAAC4Q,iBAAF,CAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB,CAA1B,EACD,KAAKN,gBAAL,IAAyB,KAAK9O,YAAL,EADxB,EAED,SAAS,KAAKgP,MAAd,GACI,KAAKC,WAAL,CAAiBC,gBAAjB,CACE,KAAKhE,QAAL,CAAcO,YADhB,EAEE,KAAK0D,MAFP,CADJ,IAKK,KAAKF,WAAL,CAAiBC,gBAAjB,CACC,KAAKF,MAAL,CAAYC,WADb,EAEC,KAAK/D,QAAL,CAAcO,YAFf,GAID,KAAKwD,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKD,WAAvC,EAAoD,KAAKE,MAAzD,CATJ,CAFC,EAYD,CAAC,CAAD,KAAO/Q,CAbT,EAeE,KAAK,IAAIa,CAAC,GAAG,KAAK2C,QAAb,EAAuB1C,CAAC,GAAG,CAA3B,EAA8B8B,CAAC,GAAG/B,CAAC,CAACoB,MAAzC,EAAiDnB,CAAC,GAAG8B,CAArD,EAAwD9B,CAAC,EAAzD,EACED,CAAC,CAACC,CAAD,CAAD,CAAKkQ,iBAAL,CAAuB,CAAC,CAAxB,EAA2B,CAAC,CAA5B;AACJ,SAAKoqB,kBAAL,CAAwBpuB,IAAxB,CAA6B,KAAK6D,WAAlC,EAA+CsU,MAA/C;AACD;;AACDkW,EAAAA,MAAM,CAACr9B,CAAD,EAAI;AACR,UAAMgC,CAAC,GAAG,IAAIzG,KAAK,CAAC+T,OAAV,EAAV;AACA,WACE,KAAK0D,iBAAL,CAAuB,CAAC,CAAxB,EAA2B,CAAC,CAA5B,GACAhR,CAAC,CAACgN,IAAF,CAAO,KAAK6D,WAAZ,EAAyBsU,MAAzB,EADA,EAEA,SAASnnB,CAAC,CAAC4S,MAAX,KACG5S,CAAC,CAAC4S,MAAF,CAASI,iBAAT,CAA2B,CAAC,CAA5B,EAA+B,CAAC,CAAhC,GAAoChR,CAAC,CAAC0vB,QAAF,CAAW1xB,CAAC,CAAC4S,MAAF,CAASC,WAApB,CADvC,CAFA,EAIA,KAAK,CAAL,KAAW7S,CAAC,CAAC8O,QAAF,CAAWO,YAAtB,GACIrP,CAAC,CAAC8O,QAAF,CAAWO,YAAX,CAAwBuiB,WAAxB,CAAoC5vB,CAApC,CADJ,GAEIhC,CAAC,CAACs9B,YAAF,CAAet7B,CAAf,CANJ,EAOAhC,CAAC,CAACgT,iBAAF,CAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB,CAPA,EAQA,KAAKpN,GAAL,CAAS5F,CAAT,CARA,EASA,IAVF;AAYD;;AACDiS,EAAAA,wBAAwB,GAAG;AACzB,SAAKC,iBAAL,KAA2B,KAAKA,iBAAL,GAAyB,IAAIxW,GAAG,CAACyW,IAAR,EAApD,GACE,KAAKD,iBAAL,CAAuBE,iBAAvB,CAAyC,IAAzC,EAA+C,CAAC,CAAhD,CADF,EAEE,KAAKF,iBAAL,CAAuBG,eAAvB,EAFF,EAGE,KAAKH,iBAAL,CAAuBI,YAAvB,EAHF;AAID;;AACDC,EAAAA,yBAAyB,CAACvS,CAAD,EAAI;AAC3B,SAAKwS,kBAAL,KAA4B,KAAKA,kBAAL,GAA0B,IAAI9W,GAAG,CAACyW,IAAR,EAAtD,GACE,KAAKK,kBAAL,CAAwBJ,iBAAxB,CAA0C,IAA1C,EAAgDpS,CAAhD,CADF;AAED;;AACDu9B,EAAAA,OAAO,CAACv9B,CAAD,EAAIgC,CAAJ,EAAO;AACZ,KAAC,CAAD,KAAO,KAAKk6B,YAAZ,IACE,CAAC,CAAD,KAAO,KAAKpqB,YAAL,CAAkBtG,OAD3B,IAEE,CAAC,CAAD,KAAO,KAAKsD,QAAL,CAAcmtB,YAFvB,IAGE,KAAKnqB,YAAL,CAAkByrB,OAAlB,CAA0Bv9B,CAA1B,EAA6BgC,CAA7B,CAHF;AAID;;AACDgN,EAAAA,IAAI,CAAChP,CAAD,EAAIgC,CAAJ,EAAO;AACT,UAAMI,CAAC,GAAGpC,CAAC,CAACwF,QAAZ;AACA,QACIxF,CAAC,CAACwF,QAAF,GAAa,EAAd,EACD,MAAMwJ,IAAN,CAAWhP,CAAX,CADC,EAEAA,CAAC,CAACwF,QAAF,GAAapD,CAFb,EAGD,KAAK+Q,gBAAL,CAAsB,KAAKrE,QAA3B,CAHC,EAIA,KAAKA,QAAL,CAAcmtB,YAAd,GAA6B,CAAC,CAJ9B,EAKA,KAAKntB,QAAL,CAAcsE,QAAd,GAAyB,CAAC,CAL1B,EAMD,OAAO,KAAKtE,QAAL,CAAc0uB,eANpB,EAOD,KAAKzM,WAAL,CAAiB/hB,IAAjB,CAAsBhP,CAAC,CAAC+wB,WAAxB,CAPC,EAQD,KAAKD,WAAL,CAAiB9hB,IAAjB,CAAsBhP,CAAC,CAAC8wB,WAAxB,CARC,EASA,KAAKjpB,IAAL,GAAY7H,CAAC,CAAC6H,IATd,EAUA,KAAKF,KAAL,GAAa3H,CAAC,CAAC2H,KAVf,EAWA,KAAKI,GAAL,GAAW/H,CAAC,CAAC+H,GAXb,EAYA,KAAKE,MAAL,GAAcjI,CAAC,CAACiI,MAZhB,EAaA,KAAKjC,GAAL,GAAWhG,CAAC,CAACgG,GAbb,EAcA,KAAK41B,IAAL,GAAY,SAAS57B,CAAC,CAAC47B,IAAX,GAAkB,IAAlB,GAAyBv5B,MAAM,CAACo7B,MAAP,CAAc,EAAd,EAAkBz9B,CAAC,CAAC47B,IAApB,CAdrC,EAeA,KAAKvR,oBAAL,GAA4BrqB,CAAC,CAACqqB,oBAf9B,EAgBA,KAAKzI,KAAL,GAAa5hB,CAAC,CAAC4hB,KAhBf,EAiBA,KAAK1B,MAAL,GAAclgB,CAAC,CAACkgB,MAjBhB,EAkBA,KAAKrX,GAAL,GAAW7I,CAAC,CAAC6I,GAlBb,EAmBA,KAAKuiB,KAAL,GAAaprB,CAAC,CAACorB,KAnBf,EAoBA,KAAKyQ,SAAL,GAAiB77B,CAAC,CAAC67B,SApBnB,EAqBA,KAAKC,UAAL,GAAkB97B,CAAC,CAAC87B,UArBpB,EAsBA,KAAK5R,mBAAL,GAA2BlqB,CAAC,CAACkqB,mBAtB7B,EAuBA,KAAK6R,YAAL,GAAoB/7B,CAAC,CAAC+7B,YAvBtB,EAwBD,KAAK,CAAL,KAAW/7B,CAAC,CAACk8B,YAAb,KAA8B,KAAKA,YAAL,GAAoBl8B,CAAC,CAACk8B,YAApD,CAxBC,EAyBD,KAAK,CAAL,KAAWl8B,CAAC,CAAC8R,YAAb,KACG,KAAKA,YAAL,CAAkBtG,OAAlB,GAA4BxL,CAAC,CAAC8R,YAAF,CAAetG,OAD9C,CAzBC,EA2BD,KAAK,CAAL,KAAWxL,CAAC,CAACoF,WAAb,IAA4B,KAAKA,WAAL,CAAiB4J,IAAjB,CAAsBhP,CAAC,CAACoF,WAAxB,CA3B3B,EA4BD,CAAC,CAAD,KAAOpD,CA7BT,EA+BE,KAAK,IAAIA,IAAC,GAAG,CAAR,EAAWa,CAAC,GAAGT,CAAC,CAAC6B,MAAtB,EAA8BjC,IAAC,GAAGa,CAAlC,EAAqC,EAAEb,IAAvC,EAA0C;AACxC,YAAMI,IAAC,GAAGpC,CAAC,CAACwF,QAAF,CAAWxD,IAAX,CAAV;AACA,OAAC,CAAD,KAAOI,IAAC,CAAC0M,QAAF,CAAWsE,QAAlB,IAA8B,KAAKxN,GAAL,CAASxD,IAAC,CAAC2S,KAAF,EAAT,CAA9B;AACD;AACH,WAAO,KAAKoL,sBAAL,IAA+B,IAAtC;AACD;;AACDtO,EAAAA,cAAc,CAAC7R,CAAD,EAAI;AAChB,KAAE,SAASgC,CAAT,CAAWI,CAAX,EAAc;AACd,UAAI,CAACA,CAAC,CAAC0M,QAAF,CAAWsE,QAAhB,EAA0B;AAC1BpT,MAAAA,CAAC,CAACoC,CAAD,CAAD;AACA,YAAMS,CAAC,GAAGT,CAAC,CAACoD,QAAZ;;AACA,WAAK,IAAIxF,CAAC,GAAG,CAAR,EAAWoC,IAAC,GAAGS,CAAC,CAACoB,MAAtB,EAA8BjE,CAAC,GAAGoC,IAAlC,EAAqC,EAAEpC,CAAvC,EAA0CgC,CAAC,CAACa,CAAC,CAAC7C,CAAD,CAAF,CAAD;AAC3C,KALA,CAKE,IALF,CAAD;AAMD;;AACDmT,EAAAA,gBAAgB,CAACnT,CAAD,EAAI;AAClB,AAAE,SAAK8O,QAAL,GAAgB9O,CAAjB,EACE,KAAK8O,QAAL,CAAcuE,gBAAd,GAAiC,IAAI9X,KAAK,CAAC8S,OAAV,EADnC,EAEE,KAAKS,QAAL,CAAcO,YAAd,GAA6B,IAAI9T,KAAK,CAAC+T,OAAV,EAF/B,EAGC,KAAK,CAAL,KAAWtP,CAAC,CAACqP,YAAb,IACE,KAAKP,QAAL,CAAcO,YAAd,CAA2B5L,SAA3B,CAAqCzD,CAAC,CAACqP,YAAF,CAAemB,QAApD,CAJH,EAKC,KAAK,CAAL,KAAWxQ,CAAC,CAACsT,IAAb,KAAsB,KAAKxE,QAAL,CAAcwE,IAAd,GAAqB,CAAC,CAA5C,CALD;AAMF;;AACDvP,EAAAA,QAAQ,CAAC/D,CAAD,EAAI;AACV,WACG,KAAK6H,IAAL,GAAY7H,CAAC,CAAC6H,IAAf,EACC,KAAKF,KAAL,GAAa3H,CAAC,CAAC2H,KADhB,EAEC,KAAKI,GAAL,GAAW/H,CAAC,CAAC+H,GAFd,EAGC,KAAKE,MAAL,GAAcjI,CAAC,CAACiI,MAHjB,EAIA,KAAK,CAAL,KAAWjI,CAAC,CAAC47B,IAAb,KAAsB,KAAKA,IAAL,GAAYv5B,MAAM,CAACo7B,MAAP,CAAc,EAAd,EAAkBz9B,CAAC,CAAC47B,IAApB,CAAlC,CAJA,EAKA,KAAK,CAAL,KAAW57B,CAAC,CAACswB,SAAb,KAA2B,KAAKS,WAAL,CAAiBnqB,IAAjB,GAAwB5G,CAAC,CAACswB,SAArD,CALA,EAMA,KAAK,CAAL,KAAWtwB,CAAC,CAAC09B,SAAb,KAA2B,KAAK3M,WAAL,CAAiBhrB,IAAjB,GAAwB/F,CAAC,CAAC09B,SAArD,CANA,EAOC,KAAK13B,GAAL,GAAWhG,CAAC,CAACgG,GAPd,EAQC,KAAK4b,KAAL,GAAa5hB,CAAC,CAACqD,IARhB,EASArD,CAAC,CAACqqB,oBAAF,KACG,KAAKA,oBAAL,GAA4BrqB,CAAC,CAACqqB,oBADjC,CATA,EAWC,KAAKnK,MAAL,GAAclgB,CAAC,CAACkgB,MAXjB,EAYC,KAAKrX,GAAL,GAAW7I,CAAC,CAAC6I,GAZd,EAaC,KAAKuiB,KAAL,GAAaprB,CAAC,CAACorB,KAbhB,EAcC,KAAKyQ,SAAL,GAAiB77B,CAAC,CAAC67B,SAdpB,EAeC,KAAKC,UAAL,GAAkB97B,CAAC,CAAC87B,UAfrB,EAgBA,KAAK,CAAL,KAAW97B,CAAC,CAACqwB,SAAb,KAA2B,KAAKS,WAAL,CAAiBlqB,IAAjB,GAAwB5G,CAAC,CAACqwB,SAArD,CAhBA,EAiBA,KAAK,CAAL,KAAWrwB,CAAC,CAAC29B,SAAb,KAA2B,KAAK7M,WAAL,CAAiB/qB,IAAjB,GAAwB/F,CAAC,CAAC29B,SAArD,CAjBA,EAkBA39B,CAAC,CAACkqB,mBAAF,KACG,KAAKA,mBAAL,GAA2BlqB,CAAC,CAACkqB,mBADhC,CAlBA,EAoBA,KAAK,CAAL,KAAWlqB,CAAC,CAAC+7B,YAAb,KAA8B,KAAKA,YAAL,GAAoB/7B,CAAC,CAAC+7B,YAApD,CApBA,EAqBA,KAAK5oB,gBAAL,CAAsB,KAAKrE,QAA3B,CArBA,EAsBA,KAAKqR,sBAAL,EAtBA,EAuBA,IAxBF;AA0BD;;AACDkN,EAAAA,MAAM,CAACrtB,CAAD,EAAI;AACR,QAAIgC,CAAJ;AACA,UAAMI,CAAC,GAAG,KAAK0M,QAAf;AACA,WACE,OAAO,KAAKA,QAAZ,EACC9M,CAAC,GAAG,MAAMqrB,MAAN,CAAartB,CAAb,CADL,EAEC,KAAK8O,QAAL,GAAgB1M,CAFjB,EAGCJ,CAAC,CAACqf,MAAF,CAASxZ,IAAT,GAAgB,KAAKA,IAHtB,EAIC7F,CAAC,CAACqf,MAAF,CAAS1Z,KAAT,GAAiB,KAAKA,KAJvB,EAKC3F,CAAC,CAACqf,MAAF,CAAStZ,GAAT,GAAe,KAAKA,GALrB,EAMC/F,CAAC,CAACqf,MAAF,CAASpZ,MAAT,GAAkB,KAAKA,MANxB,EAOA,SAAS,KAAK2zB,IAAd,KAAuB55B,CAAC,CAACqf,MAAF,CAASua,IAAT,GAAgBv5B,MAAM,CAACo7B,MAAP,CAAc,EAAd,EAAkB,KAAK7B,IAAvB,CAAvC,CAPA,EAQC55B,CAAC,CAACqf,MAAF,CAASiP,SAAT,GAAqB,KAAKS,WAAL,CAAiBnqB,IARvC,EASC5E,CAAC,CAACqf,MAAF,CAASqc,SAAT,GAAqB,KAAK3M,WAAL,CAAiBhrB,IATvC,EAUC/D,CAAC,CAACqf,MAAF,CAASrb,GAAT,GAAe,KAAKA,GAVrB,EAWChE,CAAC,CAACqf,MAAF,CAAShe,IAAT,GAAgB,KAAKue,KAXtB,EAYA,KAAKyI,oBAAL,KACGroB,CAAC,CAACqf,MAAF,CAASgJ,oBAAT,GAAgC,KAAKA,oBADxC,CAZA,EAcCroB,CAAC,CAACqf,MAAF,CAASnB,MAAT,GAAkB,KAAKA,MAdxB,EAeCle,CAAC,CAACqf,MAAF,CAASxY,GAAT,GAAe,KAAKA,GAfrB,EAgBC7G,CAAC,CAACqf,MAAF,CAAS+J,KAAT,GAAiB,KAAKA,KAhBvB,EAiBCppB,CAAC,CAACqf,MAAF,CAASwa,SAAT,GAAqB,KAAKA,SAjB3B,EAkBC75B,CAAC,CAACqf,MAAF,CAASya,UAAT,GAAsB,KAAKA,UAlB5B,EAmBC95B,CAAC,CAACqf,MAAF,CAASgP,SAAT,GAAqB,KAAKS,WAAL,CAAiBlqB,IAnBvC,EAoBC5E,CAAC,CAACqf,MAAF,CAASsc,SAAT,GAAqB,KAAK7M,WAAL,CAAiB/qB,IApBvC,EAqBA,KAAKmkB,mBAAL,KACGloB,CAAC,CAACqf,MAAF,CAAS6I,mBAAT,GAA+B,KAAKA,mBADvC,CArBA,EAuBCloB,CAAC,CAACqf,MAAF,CAAS0a,YAAT,GAAwB,KAAKA,YAvB9B,EAwBC/5B,CAAC,CAACqf,MAAF,CAASvS,QAAT,GAAoB;AACnBzL,MAAAA,IAAI,EAAE3H,GAAG,CAAC+K,cAAJ,CAAmB2K,IADN;AAEnBgC,MAAAA,QAAQ,EAAEhR,CAAC,CAACgR,QAFO;AAGnBE,MAAAA,IAAI,EAAElR,CAAC,CAACkR,IAHW;AAInB0oB,MAAAA,SAAS,EAAE55B,CAAC,CAAC45B,SAJM;AAKnBC,MAAAA,YAAY,EAAE75B,CAAC,CAAC65B,YALG;AAMnB5sB,MAAAA,YAAY,EAAE;AAAEmB,QAAAA,QAAQ,EAAEpO,CAAC,CAACiN,YAAF,CAAeoF,OAAf;AAAZ;AANK,KAxBrB,EAgCCzS,CAAC,CAACqf,MAAF,CAAS6a,YAAT,GAAwB,KAAKA,YAhC9B,EAiCCl6B,CAAC,CAACqf,MAAF,CAASjc,WAAT,GAAuB,KAAKA,WAAL,CAAiBioB,MAAjB,CAAwBrtB,CAAxB,CAjCxB,EAkCAgC,CAnCF;AAqCD;;AAvY+C,CAAjD,EAyYEtG,GAAG,CAACygC,oBAAJ,GAA2B,cAAc5gC,KAAK,CAACqiC,YAApB,CAAiC;AAC3D79B,EAAAA,WAAW,CAACC,CAAD,EAAI;AACb,UAAMA,CAAN;AACA,UAAMgC,CAAC,GAAG,IAAIzG,KAAK,CAACgD,cAAV,CAAyB,EAAzB,EAA6B,CAA7B,EAAgC,CAAhC,CAAV;AAAA,UACE6D,CAAC,GAAG,IAAI7G,KAAK,CAACsiC,iBAAV,CAA4B;AAC9BpyB,MAAAA,SAAS,EAAE,CAAC,CADkB;AAE9B5F,MAAAA,GAAG,EAAE,CAAC,CAFwB;AAG9Bi4B,MAAAA,UAAU,EAAE,CAAC;AAHiB,KAA5B,CADN;AAAA,UAMEj7B,CAAC,GAAG,IAAItH,KAAK,CAACkW,IAAV,CAAezP,CAAf,EAAkBI,CAAlB,CANN;AAOA,SAAKwD,GAAL,CAAS/C,CAAT,GACG,KAAKk7B,cAAL,GAAsB,CAAC,CAD1B,EAEG,KAAK3sB,IAAL,GAAa,yBAAwBpR,CAAC,CAACuP,IAAK,EAF/C;AAGD;;AACDguB,EAAAA,OAAO,CAACv9B,CAAD,EAAIgC,CAAJ,EAAO;AACZ,QAAII,CAAC,GAAG1G,GAAG,CAACygC,oBAAJ,CAAyB6B,IAAjC;AAAA,QACEn7B,CAAC,GAAGnH,GAAG,CAACygC,oBAAJ,CAAyB8B,OAD/B;AAAA,QAEEn7B,CAAC,GAAGpH,GAAG,CAACygC,oBAAJ,CAAyB+B,cAF/B;AAAA,QAGEt5B,CAAC,GAAGlJ,GAAG,CAACygC,oBAAJ,CAAyBC,cAH/B;AAAA,QAIEr3B,CAAC,GAAG,KAAK2C,MAAL,CAAYmL,WAJlB;;AAKA,QACG,SAASjO,CAAC,CAACu5B,cAAX,IAA6Bv5B,CAAC,CAACw5B,qBAAF,EAA7B,EACDv7B,CAAC,CAACmM,IAAF,CAAOpK,CAAC,CAACu5B,cAAT,CADC,EAEDt7B,CAAC,CAACy6B,YAAF,CAAev4B,CAAf,CAFC,EAGD,CAAC,CAAD,KAAO/E,CAAC,CAACq+B,GAAF,CAAMC,gBAAN,CAAuBz7B,CAAvB,CAAP,KACGC,CAAC,CAACkM,IAAF,CAAOjK,CAAP,EAAUoiB,MAAV,IACD/kB,CAAC,CAAC4M,IAAF,CAAOhP,CAAC,CAACq+B,GAAT,EAAcf,YAAd,CAA2Bx6B,CAA3B,CADC,EAED,SAAS8B,CAAC,CAAC2J,WAAX,IAA0B,CAAC,CAAD,KAAOnM,CAAC,CAACm8B,aAAF,CAAgB35B,CAAC,CAAC2J,WAAlB,CAHnC,CAJF,EAQE;AACA,UAAIlJ,CAAJ;AAAA,UACEC,CADF;AAAA,UAEEc,CAFF;AAAA,UAGEO,CAHF;AAAA,UAIE+E,CAJF;AAAA,UAKEG,CALF;AAAA,UAMEE,CAAC,GAAGnH,CAAC,CAAC45B,KANR;AAAA,UAOEvW,CAAC,GAAGrjB,CAAC,CAACiJ,UAAF,CAAakB,QAPnB;AAAA,UAQE2X,CAAC,GAAG9hB,CAAC,CAAC65B,SARR;;AASA,WACE/yB,CAAC,GAAGjD,IAAI,CAAC+E,GAAL,CAAS,CAAT,EAAYkZ,CAAC,CAACvY,KAAd,CAAJ,EAA0BtC,CAAC,GAAGpD,IAAI,CAACgF,GAAL,CAAS1B,CAAC,CAAC1B,KAAX,EAAkBqc,CAAC,CAACvY,KAAF,GAAUuY,CAAC,CAACrc,KAA9B,CADhC,EAEEqB,CAAC,GAAGG,CAFN,EAGEH,CAAC,IAAI,CAHP,EAKGpG,CAAC,GAAGyG,CAAC,CAAC2yB,IAAF,CAAOhzB,CAAP,CAAL,EACGtF,CAAC,GAAG2F,CAAC,CAAC2yB,IAAF,CAAOhzB,CAAC,GAAG,CAAX,CADP,EAEG/E,CAAC,GAAGoF,CAAC,CAAC2yB,IAAF,CAAOhzB,CAAC,GAAG,CAAX,CAFP,EAGE,CAACrG,CAAC,GAAGmiB,CAAC,CAAC,KAAK9f,MAAN,EAAc1H,CAAd,EAAiBoC,CAAjB,EAAoB6lB,CAApB,EAAuB3iB,CAAvB,EAA0Bc,CAA1B,EAA6BO,CAA7B,CAAN,MACItB,CAAC,CAACs5B,SAAF,GAAcl2B,IAAI,CAACyP,KAAL,CAAWxM,CAAC,GAAG,CAAf,CAAf,EAAmC1J,CAAC,CAACyD,IAAF,CAAOJ,CAAP,CADtC,CAHF;AAKH;;AACD,aAASmiB,CAAT,CAAWxnB,CAAX,EAAcgC,CAAd,EAAiBI,CAAjB,EAAoBS,CAApB,EAAuBC,CAAvB,EAA0B8B,CAA1B,EAA6BG,CAA7B,EAAgC;AAC9B,UAAIM,CAAC,GAAG,IAAI9J,KAAK,CAAC8S,OAAV,EAAR;AAAA,UACE/I,CAAC,GAAG,IAAI/J,KAAK,CAAC8S,OAAV,EADN;AAAA,UAEEjI,CAAC,GAAG,IAAI7K,KAAK,CAAC8S,OAAV,EAFN;AAAA,UAGE1H,CAAC,GAAG,IAAIpL,KAAK,CAAC8S,OAAV,EAHN;AAAA,UAIE3C,CAAC,GAAG,IAAInQ,KAAK,CAAC8S,OAAV,EAJN;AAKA,UACGhJ,CAAC,CAACu5B,mBAAF,CAAsB/7B,CAAtB,EAAyBC,CAAzB,GACDwC,CAAC,CAACs5B,mBAAF,CAAsB/7B,CAAtB,EAAyB+B,CAAzB,CADC,EAEDwB,CAAC,CAACw4B,mBAAF,CAAsB/7B,CAAtB,EAAyBkC,CAAzB,CAFC,EAGD,SAAS3C,CAAC,CAACy8B,iBAAF,CAAoBx5B,CAApB,EAAuBC,CAAvB,EAA0Bc,CAA1B,EAA6B,CAAC,CAA9B,EAAiCO,CAAjC,CAJX,EAME,OAAO,IAAP;AACF+E,MAAAA,CAAC,CAACsD,IAAF,CAAOrI,CAAP,GAAW+E,CAAC,CAAC4xB,YAAF,CAAet9B,CAAC,CAAC6S,WAAjB,CAAX;AACA,UAAIhH,CAAC,GAAG7J,CAAC,CAACq8B,GAAF,CAAM5nB,MAAN,CAAa2f,UAAb,CAAwB1qB,CAAxB,CAAR;AACA,aAAOG,CAAC,GAAG7J,CAAC,CAAC+D,IAAN,IAAc8F,CAAC,GAAG7J,CAAC,CAACgE,GAApB,GACH,IADG,GAEH;AAAE84B,QAAAA,QAAQ,EAAEjzB,CAAZ;AAAekzB,QAAAA,KAAK,EAAErzB,CAAC,CAACqJ,KAAF,EAAtB;AAAiCsM,QAAAA,MAAM,EAAErhB;AAAzC,OAFJ;AAGD;AACF;;AApE0D,CAzY9D,EA+cEtE,GAAG,CAACygC,oBAAJ,CAAyB6B,IAAzB,GAAgC,IAAIziC,KAAK,CAACyjC,GAAV,EA/clC,EAgdEtjC,GAAG,CAACygC,oBAAJ,CAAyB8B,OAAzB,GAAmC,IAAI1iC,KAAK,CAAC0jC,MAAV,EAhdrC,EAidEvjC,GAAG,CAACygC,oBAAJ,CAAyB+B,cAAzB,GAA0C,IAAI3iC,KAAK,CAAC+T,OAAV,EAjd5C,EAkdE5T,GAAG,CAACygC,oBAAJ,CAAyBC,cAAzB,GAA0C,IAAI7gC,KAAK,CAAC63B,iBAAV,CACzC,EADyC,EAEzC,EAFyC,EAGzC,EAHyC,CAld5C,EAudE13B,GAAG,CAACkN,SAAJ,GAAgB,cAAcrN,KAAK,CAAC2jC,SAApB,CAA8B;AAC7Cn/B,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAOI,CAAP,EAAUS,CAAV,EAAaC,CAAb,EAAgB8B,CAAhB,EAAmB;AAC5B,UAAM5E,CAAN,EAASgC,CAAT,EAAYI,CAAZ,EAAeS,CAAf,EAAkBC,CAAlB,EAAqB8B,CAArB,GACG,KAAK6C,MAAL,CAAY03B,OAAZ,CAAoBnyB,KAApB,GAA4B,IAD/B,EAEG,KAAKvF,MAAL,CAAY03B,OAAZ,CAAoBlyB,MAApB,GAA6B,IAFhC,EAGG,KAAK6B,QAAL,GAAgB;AACfzL,MAAAA,IAAI,EAAE3H,GAAG,CAACkN,SAAJ,CAAcwI,IADL;AAEfgC,MAAAA,QAAQ,EAAE,CAAC,CAFI;AAGfE,MAAAA,IAAI,EAAE,CAAC,CAHQ;AAIf0oB,MAAAA,SAAS,EAAE,CAAC,CAJG;AAKf3sB,MAAAA,YAAY,EAAE,IAAI9T,KAAK,CAAC+T,OAAV;AALC,KAHnB,EAUG,KAAK4sB,YAAL,GAAoB,CAAC,CAVxB,EAWG,KAAKpqB,YAAL,GAAoB,IAAIpW,GAAG,CAAC0jC,eAAR,CAAwB,IAAxB,CAXvB,EAYG,KAAKh6B,WAAL,GAAmB,IAAInD,WAAJ,CAAgB,IAAhB,CAZtB,EAaG,KAAKo9B,OAAL,GAAe,EAblB;AAcA,UAAMt6B,CAAC,GAAG,KAAK0C,MAAL,CAAYC,MAAtB;AACE3C,IAAAA,CAAC,CAAC8D,GAAF,GAAQ,IAAItN,KAAK,CAACwN,SAAN,CAAgBC,OAApB,GAA8B,KAAKuP,KAA5C,EACExT,CAAC,CAACmb,MAAF,GAAW,CADb,EAEEnb,CAAC,CAACgB,IAAF,GAAS,GAFX,EAGEhB,CAAC,CAACiB,GAAF,GAAQ,IAHV;AAID,UAAMX,CAAC,GAAG,IAAI9J,KAAK,CAACqiC,YAAV,CAAuB,KAAKn2B,MAAL,CAAYC,MAAnC,CAAV;AACErC,IAAAA,CAAC,CAACmG,OAAF,GAAY,CAAC,CAAd,EAAmB,KAAK6zB,OAAL,CAAaC,SAAb,GAAyBj6B,CAA5C,EAAgD,KAAK0a,MAAL,EAAhD;AACF;;AACD,MAAI1Q,YAAJ,GAAmB;AACjB,WAAO,KAAKP,QAAL,CAAcO,YAArB;AACD;;AACD,MAAIA,YAAJ,CAAiBrP,CAAjB,EAAoB;AAClB,SAAK8O,QAAL,CAAcO,YAAd,CAA2BL,IAA3B,CAAgChP,CAAhC;AACD;;AACD,MAAIo8B,cAAJ,GAAqB;AACnB,WAAO1gC,GAAG,CAAC0jC,eAAJ,CAAoBhD,cAA3B;AACD;;AACD,MAAImD,MAAJ,GAAa;AACX,WAAO,KAAKF,OAAZ;AACD;;AACD,MAAIztB,UAAJ,CAAe5R,CAAf,EAAkB;AAChB,AAAE,SAAKwL,OAAL,GAAexL,CAAhB,EAAqB,KAAK8R,YAAL,CAAkBtG,OAAlB,GAA4BxL,CAAjD;;AACD,SAAK,IAAIgC,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAG,KAAKoD,QAAL,CAAcvB,MAAlC,EAA0CjC,CAAC,GAAGI,CAA9C,EAAiD,EAAEJ,CAAnD,EACE,KAAK,CAAL,KAAW,KAAKwD,QAAL,CAAcxD,CAAd,EAAiB6P,cAA5B,IACE,KAAKrM,QAAL,CAAcxD,CAAd,EAAiB6P,cAAjB,CAAgC,UAAU7P,CAAV,EAAa;AAC3C,WAAK,CAAL,KAAWA,CAAC,CAAC8P,YAAb,IACE,CAAC,CAAD,KAAO9P,CAAC,CAACwJ,OADX,KAEGxJ,CAAC,CAAC8P,YAAF,CAAetG,OAAf,GAAyBxL,CAF5B;AAGD,KAJD,CADF;AAMH;;AACD,MAAI4R,UAAJ,GAAiB;AACf,WAAO,KAAKpG,OAAZ;AACD;;AACDg0B,EAAAA,UAAU,GAAG;AACX,SAAK,MAAM,CAACx/B,CAAD,EAAIgC,CAAJ,CAAX,IAAqBK,MAAM,CAACC,OAAP,CAAe,KAAK+8B,OAApB,CAArB,EACEr9B,CAAC,YAAYzG,KAAK,CAACqiC,YAAnB,KAAoC57B,CAAC,CAACwJ,OAAF,GAAY,CAAC,CAAjD;AACH;;AACDi0B,EAAAA,UAAU,GAAG;AACX,SAAK,MAAM,CAACz/B,CAAD,EAAIgC,CAAJ,CAAX,IAAqBK,MAAM,CAACC,OAAP,CAAe,KAAK+8B,OAApB,CAArB,EACEr9B,CAAC,YAAYzG,KAAK,CAACqiC,YAAnB,KAAoC57B,CAAC,CAACwJ,OAAF,GAAY,CAAC,CAAjD;AACH;;AACDuU,EAAAA,MAAM,GAAG;AACP,SAAKtY,MAAL,CAAYC,MAAZ,CAAmByY,sBAAnB;;AACA,SAAK,MAAM,CAACngB,CAAD,EAAIgC,CAAJ,CAAX,IAAqBK,MAAM,CAACC,OAAP,CAAe,KAAK+8B,OAApB,CAArB,EACEr9B,CAAC,YAAYzG,KAAK,CAACqiC,YAAnB,IAAmC57B,CAAC,CAAC+d,MAAF,EAAnC;AACH;;AACDtN,EAAAA,iBAAiB,CAACzS,CAAD,EAAI;AACnB,SAAK0S,gBAAL,IAAyB,KAAK9O,YAAL,EAAzB,EACE,CAAC,KAAK+O,sBAAL,IAA+B3S,CAAhC,MACG,SAAS,KAAK4S,MAAd,GACG,KAAKC,WAAL,CAAiBC,gBAAjB,CACE,KAAKhE,QAAL,CAAcO,YADhB,EAEE,KAAK0D,MAFP,CADH,IAKI,KAAKF,WAAL,CAAiBC,gBAAjB,CACC,KAAKF,MAAL,CAAYC,WADb,EAEC,KAAK/D,QAAL,CAAcO,YAFf,GAID,KAAKwD,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKD,WAAvC,EAAoD,KAAKE,MAAzD,CATH,GAUA,KAAKJ,sBAAL,GAA8B,CAAC,CAV/B,EAWA3S,CAAC,GAAG,CAAC,CAZR,CADF,EAcE,CAAC,CAAD,KAAO,KAAKk8B,YAAZ,IACE,CAAC,CAAD,KAAO,KAAKpqB,YAAL,CAAkB4tB,OAD3B,IAEE,KAAK5tB,YAAL,CAAkBiO,MAAlB,EAhBJ;;AAiBA,SAAK,IAAI/d,CAAC,GAAG,KAAKwD,QAAb,EAAuBpD,CAAC,GAAG,CAA3B,EAA8BS,CAAC,GAAGb,CAAC,CAACiC,MAAzC,EAAiD7B,CAAC,GAAGS,CAArD,EAAwDT,CAAC,EAAzD,EACEJ,CAAC,CAACI,CAAD,CAAD,CAAKqQ,iBAAL,CAAuBzS,CAAvB;AACH;;AACDgT,EAAAA,iBAAiB,CAAChT,CAAD,EAAIgC,CAAJ,EAAO;AACtB,QAAII,CAAC,GAAG,KAAKwQ,MAAb;AACA,QACG,CAAC,CAAD,KAAO5S,CAAP,IAAY,SAASoC,CAArB,IAA0BA,CAAC,CAAC4Q,iBAAF,CAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB,CAA1B,EACD,KAAKN,gBAAL,IAAyB,KAAK9O,YAAL,EADxB,EAED,SAAS,KAAKgP,MAAd,GACI,KAAKC,WAAL,CAAiBC,gBAAjB,CACE,KAAKhE,QAAL,CAAcO,YADhB,EAEE,KAAK0D,MAFP,CADJ,IAKK,KAAKF,WAAL,CAAiBC,gBAAjB,CACC,KAAKF,MAAL,CAAYC,WADb,EAEC,KAAK/D,QAAL,CAAcO,YAFf,GAID,KAAKwD,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKD,WAAvC,EAAoD,KAAKE,MAAzD,CATJ,CAFC,EAYD,CAAC,CAAD,KAAO/Q,CAbT,EAeE,KAAK,IAAIa,CAAC,GAAG,KAAK2C,QAAb,EAAuB1C,CAAC,GAAG,CAA3B,EAA8B8B,CAAC,GAAG/B,CAAC,CAACoB,MAAzC,EAAiDnB,CAAC,GAAG8B,CAArD,EAAwD9B,CAAC,EAAzD,EACED,CAAC,CAACC,CAAD,CAAD,CAAKkQ,iBAAL,CAAuB,CAAC,CAAxB,EAA2B,CAAC,CAA5B;AACL;;AACDqqB,EAAAA,MAAM,CAACr9B,CAAD,EAAI;AACR,UAAMgC,CAAC,GAAG,IAAIzG,KAAK,CAAC+T,OAAV,EAAV;AACA,WACE,KAAK0D,iBAAL,CAAuB,CAAC,CAAxB,EAA2B,CAAC,CAA5B,GACAhR,CAAC,CAACgN,IAAF,CAAO,KAAK6D,WAAZ,EAAyBsU,MAAzB,EADA,EAEA,SAASnnB,CAAC,CAAC4S,MAAX,KACG5S,CAAC,CAAC4S,MAAF,CAASI,iBAAT,CAA2B,CAAC,CAA5B,EAA+B,CAAC,CAAhC,GACDhR,CAAC,CAAC0vB,QAAF,CAAW1xB,CAAC,CAAC4S,MAAF,CAASC,WAApB,CAFF,CAFA,EAKA,KAAK,CAAL,KAAW7S,CAAC,CAAC8O,QAAF,CAAWO,YAAtB,GACIrP,CAAC,CAAC8O,QAAF,CAAWO,YAAX,CAAwBuiB,WAAxB,CAAoC5vB,CAApC,CADJ,GAEIhC,CAAC,CAACs9B,YAAF,CAAet7B,CAAf,CAPJ,EAQAhC,CAAC,CAACgT,iBAAF,CAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB,CARA,EASA,KAAKpN,GAAL,CAAS5F,CAAT,CATA,EAUA,IAXF;AAaD;;AACDiS,EAAAA,wBAAwB,GAAG;AACzB,SAAKC,iBAAL,KAA2B,KAAKA,iBAAL,GAAyB,IAAIxW,GAAG,CAACyW,IAAR,EAApD,GACE,KAAKD,iBAAL,CAAuBE,iBAAvB,CAAyC,IAAzC,EAA+C,CAAC,CAAhD,CADF,EAEE,KAAKF,iBAAL,CAAuBG,eAAvB,EAFF,EAGE,KAAKH,iBAAL,CAAuBI,YAAvB,EAHF;AAID;;AACDC,EAAAA,yBAAyB,CAACvS,CAAD,EAAI;AAC3B,SAAKwS,kBAAL,KAA4B,KAAKA,kBAAL,GAA0B,IAAI9W,GAAG,CAACyW,IAAR,EAAtD,GACE,KAAKK,kBAAL,CAAwBJ,iBAAxB,CAA0C,IAA1C,EAAgDpS,CAAhD,CADF;AAED;;AACDu9B,EAAAA,OAAO,CAACv9B,CAAD,EAAIgC,CAAJ,EAAO;AACZ,SAAK8P,YAAL,CAAkByrB,OAAlB,CAA0Bv9B,CAA1B,EAA6BgC,CAA7B;AACD;;AACDgN,EAAAA,IAAI,CAAChP,CAAD,EAAIgC,CAAJ,EAAO;AACT,UAAMI,CAAC,GAAGpC,CAAC,CAACwF,QAAZ;AACA,QACIxF,CAAC,CAACwF,QAAF,GAAa,EAAd,EACD,MAAMwJ,IAAN,CAAWhP,CAAX,CADC,EAEAA,CAAC,CAACwF,QAAF,GAAapD,CAFb,EAGD,KAAK+Q,gBAAL,CAAsB,KAAKrE,QAA3B,CAHC,EAID,KAAK,CAAL,KAAW9O,CAAC,CAACk8B,YAAb,KAA8B,KAAKA,YAAL,GAAoBl8B,CAAC,CAACk8B,YAApD,CAJC,EAKD,KAAK,CAAL,KAAWl8B,CAAC,CAAC8R,YAAb,KACG,KAAKA,YAAL,CAAkBtG,OAAlB,GAA4BxL,CAAC,CAAC8R,YAAF,CAAetG,OAD9C,CALC,EAOD,KAAK,CAAL,KAAWxL,CAAC,CAACoF,WAAb,IAA4B,KAAKA,WAAL,CAAiB4J,IAAjB,CAAsBhP,CAAC,CAACoF,WAAxB,CAP3B,EAQD,CAAC,CAAD,KAAOpD,CATT,EAWE,KAAK,IAAIA,IAAC,GAAG,CAAR,EAAWa,CAAC,GAAGT,CAAC,CAAC6B,MAAtB,EAA8BjC,IAAC,GAAGa,CAAlC,EAAqC,EAAEb,IAAvC,EAA0C;AACxC,YAAMI,IAAC,GAAGpC,CAAC,CAACwF,QAAF,CAAWxD,IAAX,CAAV;AACA,OAAC,CAAD,KAAOI,IAAC,CAAC0M,QAAF,CAAWsE,QAAlB,IAA8B,KAAKxN,GAAL,CAASxD,IAAC,CAAC2S,KAAF,EAAT,CAA9B;AACD;AACH,WAAO,IAAP;AACD;;AACDlD,EAAAA,cAAc,CAAC7R,CAAD,EAAI;AAChB,KAAE,SAASgC,CAAT,CAAWI,CAAX,EAAc;AACd,UAAI,CAACA,CAAC,CAAC0M,QAAF,CAAWsE,QAAhB,EAA0B;AAC1BpT,MAAAA,CAAC,CAACoC,CAAD,CAAD;AACA,YAAMS,CAAC,GAAGT,CAAC,CAACoD,QAAZ;;AACA,WAAK,IAAIxF,CAAC,GAAG,CAAR,EAAWoC,IAAC,GAAGS,CAAC,CAACoB,MAAtB,EAA8BjE,CAAC,GAAGoC,IAAlC,EAAqC,EAAEpC,CAAvC,EAA0CgC,CAAC,CAACa,CAAC,CAAC7C,CAAD,CAAF,CAAD;AAC3C,KALA,CAKE,IALF,CAAD;AAMD;;AACDmT,EAAAA,gBAAgB,CAACnT,CAAD,EAAI;AAClB,AAAE,SAAK8O,QAAL,GAAgB9O,CAAjB,EACC,KAAK,CAAL,KAAWA,CAAC,CAACqP,YAAb,KACG,KAAKP,QAAL,CAAcO,YAAd,GAA6B,IAAI9T,KAAK,CAAC+T,OAAV,GAAoB7L,SAApB,CAC5BzD,CAAC,CAACqP,YAAF,CAAemB,QADa,CADhC,CADD,EAKC,KAAK,CAAL,KAAWxQ,CAAC,CAACsT,IAAb,KAAsB,KAAKxE,QAAL,CAAcwE,IAAd,GAAqB,CAAC,CAA5C,CALD;AAMF;;AACD+Z,EAAAA,MAAM,CAACrtB,CAAD,EAAI;AACR,UAAMgC,CAAC,GAAG,KAAK8M,QAAf;AACA,WAAO,KAAKA,QAAZ;AACA,UAAM1M,CAAC,GAAG,MAAMirB,MAAN,CAAartB,CAAb,CAAV;AACA,WACGoC,CAAC,CAACif,MAAF,CAASvS,QAAT,GAAoB;AACnBzL,MAAAA,IAAI,EAAE3H,GAAG,CAACkN,SAAJ,CAAcwI,IADD;AAEnBgC,MAAAA,QAAQ,EAAEpR,CAAC,CAACoR,QAFO;AAGnBE,MAAAA,IAAI,EAAEtR,CAAC,CAACsR,IAHW;AAInB0oB,MAAAA,SAAS,EAAEh6B,CAAC,CAACg6B,SAJM;AAKnB3sB,MAAAA,YAAY,EAAE;AAAEmB,QAAAA,QAAQ,EAAExO,CAAC,CAACqN,YAAF,CAAeoF,OAAf;AAAZ;AALK,KAArB,EAOCrS,CAAC,CAACif,MAAF,CAAS6a,YAAT,GAAwB,KAAKA,YAP9B,EAQC95B,CAAC,CAACif,MAAF,CAASjc,WAAT,GAAuB,KAAKA,WAAL,CAAiBioB,MAAjB,CAAwBrtB,CAAxB,CARxB,EASC,KAAK8O,QAAL,GAAgB9M,CATjB,EAUAI,CAXF;AAaD;;AAxL4C,CAvdhD,EAipBE1G,GAAG,CAAC6M,UAAJ,GAAiB,cAAchN,KAAK,CAACokC,UAApB,CAA+B;AAC/C5/B,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAOI,CAAP,EAAUS,CAAV,EAAa;AACtB,UAAM7C,CAAN,EAASgC,CAAT,EAAYI,CAAZ,EAAeS,CAAf,GACG,KAAK4E,MAAL,CAAY03B,OAAZ,CAAoBnyB,KAApB,GAA4B,IAD/B,EAEG,KAAKvF,MAAL,CAAY03B,OAAZ,CAAoBlyB,MAApB,GAA6B,IAFhC,EAGG,KAAK6B,QAAL,GAAgB;AACfzL,MAAAA,IAAI,EAAE3H,GAAG,CAAC6M,UAAJ,CAAe6I,IADN;AAEfgC,MAAAA,QAAQ,EAAE,CAAC,CAFI;AAGfE,MAAAA,IAAI,EAAE,CAAC,CAHQ;AAIf0oB,MAAAA,SAAS,EAAE,CAAC,CAJG;AAKf3sB,MAAAA,YAAY,EAAE,IAAI9T,KAAK,CAAC+T,OAAV;AALC,KAHnB,EAUG,KAAK4sB,YAAL,GAAoB,CAAC,CAVxB,EAWG,KAAKpqB,YAAL,GAAoB,IAAIpW,GAAG,CAACkkC,gBAAR,CAAyB,IAAzB,CAXvB,EAYG,KAAKx6B,WAAL,GAAmB,IAAInD,WAAJ,CAAgB,IAAhB,CAZtB,EAaG,KAAKo9B,OAAL,GAAe,EAblB;AAcA,UAAMv8B,CAAC,GAAG,KAAK2E,MAAL,CAAYC,MAAtB;AACE5E,IAAAA,CAAC,CAAC+F,GAAF,GAAQ,EAAT,EAAe/F,CAAC,CAACod,MAAF,GAAW,CAA1B,EAA+Bpd,CAAC,CAACiD,IAAF,GAAS,GAAxC,EAA+CjD,CAAC,CAACkD,GAAF,GAAQ,IAAvD;AACD,UAAMpB,CAAC,GAAG,IAAIrJ,KAAK,CAAC8S,OAAV,CACN,CAACvL,CAAC,CAACkD,GAAH,GAAS,KAAK+I,QAAL,CAAcN,CADjB,EAEN,CAAC3L,CAAC,CAACkD,GAAH,GAAS,KAAK+I,QAAL,CAAcL,CAFjB,EAGN,CAAC5L,CAAC,CAACkD,GAAH,GAAS,KAAK+I,QAAL,CAAcJ,CAHjB,CAAV;AAAA,UAKE5J,CAAC,GAAG,IAAIxJ,KAAK,CAAC8S,OAAV,CACFvL,CAAC,CAACkD,GAAF,GAAQ,KAAK+I,QAAL,CAAcN,CADpB,EAEF3L,CAAC,CAACkD,GAAF,GAAQ,KAAK+I,QAAL,CAAcL,CAFpB,EAGF5L,CAAC,CAACkD,GAAF,GAAQ,KAAK+I,QAAL,CAAcJ,CAHpB,CALN;AAAA,UAUEtJ,CAAC,GAAG,IAAI9J,KAAK,CAAC4W,IAAV,CAAevN,CAAf,EAAkBG,CAAlB,CAVN;AAAA,UAWEO,CAAC,GAAG,IAAI/J,KAAK,CAACskC,UAAV,CAAqBx6B,CAArB,EAAwB,IAAI9J,KAAK,CAAC6F,KAAV,CAAgB,QAAhB,CAAxB,CAXN;AAYEkE,IAAAA,CAAC,CAACkG,OAAF,GAAY,CAAC,CAAd,EAAmB,KAAK6zB,OAAL,CAAaC,SAAb,GAAyBh6B,CAA5C,EAAgD,KAAKya,MAAL,EAAhD;AACF;;AACD,MAAI1Q,YAAJ,GAAmB;AACjB,WAAO,KAAKP,QAAL,CAAcO,YAArB;AACD;;AACD,MAAIA,YAAJ,CAAiBrP,CAAjB,EAAoB;AAClB,SAAK8O,QAAL,CAAcO,YAAd,CAA2BL,IAA3B,CAAgChP,CAAhC;AACD;;AACD,MAAIo8B,cAAJ,GAAqB;AACnB,WAAO1gC,GAAG,CAACkkC,gBAAJ,CAAqBxD,cAA5B;AACD;;AACD,MAAImD,MAAJ,GAAa;AACX,WAAO,KAAKF,OAAZ;AACD;;AACD,MAAIztB,UAAJ,CAAe5R,CAAf,EAAkB;AAChB,AAAE,SAAKwL,OAAL,GAAexL,CAAhB,EAAqB,KAAK8R,YAAL,CAAkBtG,OAAlB,GAA4BxL,CAAjD;;AACD,SAAK,IAAIgC,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAG,KAAKoD,QAAL,CAAcvB,MAAlC,EAA0CjC,CAAC,GAAGI,CAA9C,EAAiD,EAAEJ,CAAnD,EACE,KAAK,CAAL,KAAW,KAAKwD,QAAL,CAAcxD,CAAd,EAAiB6P,cAA5B,IACE,KAAKrM,QAAL,CAAcxD,CAAd,EAAiB6P,cAAjB,CAAgC,UAAU7P,CAAV,EAAa;AAC3C,WAAK,CAAL,KAAWA,CAAC,CAAC8P,YAAb,IACE,CAAC,CAAD,KAAO9P,CAAC,CAACwJ,OADX,KAEGxJ,CAAC,CAAC8P,YAAF,CAAetG,OAAf,GAAyBxL,CAF5B;AAGD,KAJD,CADF;AAMH;;AACD,MAAI4R,UAAJ,GAAiB;AACf,WAAO,KAAKpG,OAAZ;AACD;;AACDg0B,EAAAA,UAAU,GAAG;AACX,SAAK,MAAM,CAACx/B,CAAD,EAAIgC,CAAJ,CAAX,IAAqBK,MAAM,CAACC,OAAP,CAAe,KAAK+8B,OAApB,CAArB,EACEr9B,CAAC,YAAYzG,KAAK,CAACskC,UAAnB,KAAkC79B,CAAC,CAACwJ,OAAF,GAAY,CAAC,CAA/C;AACH;;AACDi0B,EAAAA,UAAU,GAAG;AACX,SAAK,MAAM,CAACz/B,CAAD,EAAIgC,CAAJ,CAAX,IAAqBK,MAAM,CAACC,OAAP,CAAe,KAAK+8B,OAApB,CAArB,EACEr9B,CAAC,YAAYzG,KAAK,CAACskC,UAAnB,KAAkC79B,CAAC,CAACwJ,OAAF,GAAY,CAAC,CAA/C;AACH;;AACDuU,EAAAA,MAAM,GAAG;AACP,QACE,KAAKtY,MAAL,KACC,KAAKA,MAAL,CAAYC,MAAZ,CAAmByY,sBAAnB,IAA6C,KAAKkf,OADnD,CADF,EAIE,KAAK,MAAM,CAACr/B,CAAD,EAAIgC,CAAJ,CAAX,IAAqBK,MAAM,CAACC,OAAP,CAAe,KAAK+8B,OAApB,CAArB,EACE,IAAIr9B,CAAC,YAAYzG,KAAK,CAACskC,UAAvB,EAAmC;AACjC,YAAM7/B,IAAC,GAAG,KAAKyH,MAAL,CAAYC,MAAtB;AAAA,YACEtF,CAAC,GAAG,IAAI7G,KAAK,CAAC8S,OAAV,CACF,CAACrO,IAAC,CAACgG,GAAH,GAAS,KAAK+I,QAAL,CAAcN,CADrB,EAEF,CAACzO,IAAC,CAACgG,GAAH,GAAS,KAAK+I,QAAL,CAAcL,CAFrB,EAGF,CAAC1O,IAAC,CAACgG,GAAH,GAAS,KAAK+I,QAAL,CAAcJ,CAHrB,CADN;AAAA,YAME9L,CAAC,GAAG,IAAItH,KAAK,CAAC8S,OAAV,CACFrO,IAAC,CAACgG,GAAF,GAAQ,KAAK+I,QAAL,CAAcN,CADpB,EAEFzO,IAAC,CAACgG,GAAF,GAAQ,KAAK+I,QAAL,CAAcL,CAFpB,EAGF1O,IAAC,CAACgG,GAAF,GAAQ,KAAK+I,QAAL,CAAcJ,CAHpB,CANN;AAWA3M,MAAAA,CAAC,CAAC89B,GAAF,CAAMljB,GAAN,CAAUxa,CAAV,EAAaS,CAAb,GAAiBb,CAAC,CAACyQ,iBAAF,CAAoB,CAAC,CAArB,CAAjB;AACD;AACN;;AACDA,EAAAA,iBAAiB,CAACzS,CAAD,EAAI;AACnB,SAAK0S,gBAAL,IAAyB,KAAK9O,YAAL,EAAzB,EACE,CAAC,KAAK+O,sBAAL,IAA+B3S,CAAhC,MACG,SAAS,KAAK4S,MAAd,GACG,KAAKC,WAAL,CAAiBC,gBAAjB,CACE,KAAKhE,QAAL,CAAcO,YADhB,EAEE,KAAK0D,MAFP,CADH,IAKI,KAAKF,WAAL,CAAiBC,gBAAjB,CACC,KAAKF,MAAL,CAAYC,WADb,EAEC,KAAK/D,QAAL,CAAcO,YAFf,GAID,KAAKwD,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKD,WAAvC,EAAoD,KAAKE,MAAzD,CATH,GAUA,KAAKJ,sBAAL,GAA8B,CAAC,CAV/B,EAWA3S,CAAC,GAAG,CAAC,CAZR,CADF;;AAcA,SAAK,IAAIgC,CAAC,GAAG,KAAKwD,QAAb,EAAuBpD,CAAC,GAAG,CAA3B,EAA8BS,CAAC,GAAGb,CAAC,CAACiC,MAAzC,EAAiD7B,CAAC,GAAGS,CAArD,EAAwDT,CAAC,EAAzD,EACEJ,CAAC,CAACI,CAAD,CAAD,CAAKqQ,iBAAL,CAAuBzS,CAAvB;;AACF,SAAK+f,MAAL;AACD;;AACD/M,EAAAA,iBAAiB,CAAChT,CAAD,EAAIgC,CAAJ,EAAO;AACtB,QAAII,CAAC,GAAG,KAAKwQ,MAAb;AACA,QACG,CAAC,CAAD,KAAO5S,CAAP,IAAY,SAASoC,CAArB,IAA0BA,CAAC,CAAC4Q,iBAAF,CAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB,CAA1B,EACD,KAAKN,gBAAL,IAAyB,KAAK9O,YAAL,EADxB,EAED,SAAS,KAAKgP,MAAd,GACI,KAAKC,WAAL,CAAiBC,gBAAjB,CACE,KAAKhE,QAAL,CAAcO,YADhB,EAEE,KAAK0D,MAFP,CADJ,IAKK,KAAKF,WAAL,CAAiBC,gBAAjB,CACC,KAAKF,MAAL,CAAYC,WADb,EAEC,KAAK/D,QAAL,CAAcO,YAFf,GAID,KAAKwD,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKD,WAAvC,EAAoD,KAAKE,MAAzD,CATJ,CAFC,EAYD,CAAC,CAAD,KAAO/Q,CAbT,EAeE,KAAK,IAAIa,CAAC,GAAG,KAAK2C,QAAb,EAAuB1C,CAAC,GAAG,CAA3B,EAA8B8B,CAAC,GAAG/B,CAAC,CAACoB,MAAzC,EAAiDnB,CAAC,GAAG8B,CAArD,EAAwD9B,CAAC,EAAzD,EACED,CAAC,CAACC,CAAD,CAAD,CAAKkQ,iBAAL,CAAuB,CAAC,CAAxB,EAA2B,CAAC,CAA5B;AACL;;AACDqqB,EAAAA,MAAM,CAACr9B,CAAD,EAAI;AACR,UAAMgC,CAAC,GAAG,IAAIzG,KAAK,CAAC+T,OAAV,EAAV;AACA,WACE,KAAK0D,iBAAL,CAAuB,CAAC,CAAxB,EAA2B,CAAC,CAA5B,GACAhR,CAAC,CAACgN,IAAF,CAAO,KAAK6D,WAAZ,EAAyBsU,MAAzB,EADA,EAEA,SAASnnB,CAAC,CAAC4S,MAAX,KACG5S,CAAC,CAAC4S,MAAF,CAASI,iBAAT,CAA2B,CAAC,CAA5B,EAA+B,CAAC,CAAhC,GACDhR,CAAC,CAAC0vB,QAAF,CAAW1xB,CAAC,CAAC4S,MAAF,CAASC,WAApB,CAFF,CAFA,EAKA,KAAK,CAAL,KAAW7S,CAAC,CAAC8O,QAAF,CAAWO,YAAtB,GACIrP,CAAC,CAAC8O,QAAF,CAAWO,YAAX,CAAwBuiB,WAAxB,CAAoC5vB,CAApC,CADJ,GAEIhC,CAAC,CAACs9B,YAAF,CAAet7B,CAAf,CAPJ,EAQAhC,CAAC,CAACgT,iBAAF,CAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB,CARA,EASA,KAAKpN,GAAL,CAAS5F,CAAT,CATA,EAUA,IAXF;AAaD;;AACDiS,EAAAA,wBAAwB,GAAG;AACzB,SAAKC,iBAAL,KAA2B,KAAKA,iBAAL,GAAyB,IAAIxW,GAAG,CAACyW,IAAR,EAApD,GACE,KAAKD,iBAAL,CAAuBE,iBAAvB,CAAyC,IAAzC,EAA+C,CAAC,CAAhD,CADF,EAEE,KAAKF,iBAAL,CAAuBG,eAAvB,EAFF,EAGE,KAAKH,iBAAL,CAAuBI,YAAvB,EAHF;AAID;;AACDC,EAAAA,yBAAyB,CAACvS,CAAD,EAAI;AAC3B,SAAKwS,kBAAL,KAA4B,KAAKA,kBAAL,GAA0B,IAAI9W,GAAG,CAACyW,IAAR,EAAtD,GACE,KAAKK,kBAAL,CAAwBJ,iBAAxB,CAA0C,IAA1C,EAAgDpS,CAAhD,CADF;AAED;;AACDu9B,EAAAA,OAAO,CAACv9B,CAAD,EAAIgC,CAAJ,EAAO;AACZ,SAAK8P,YAAL,CAAkByrB,OAAlB,CAA0Bv9B,CAA1B,EAA6BgC,CAA7B;AACD;;AACDgN,EAAAA,IAAI,CAAChP,CAAD,EAAIgC,CAAJ,EAAO;AACT,UAAMI,CAAC,GAAGpC,CAAC,CAACwF,QAAZ;AACA,QACIxF,CAAC,CAACwF,QAAF,GAAa,EAAd,EACD,MAAMwJ,IAAN,CAAWhP,CAAX,CADC,EAEAA,CAAC,CAACwF,QAAF,GAAapD,CAFb,EAGD,KAAK+Q,gBAAL,CAAsB,KAAKrE,QAA3B,CAHC,EAID,KAAK,CAAL,KAAW9O,CAAC,CAACk8B,YAAb,KAA8B,KAAKA,YAAL,GAAoBl8B,CAAC,CAACk8B,YAApD,CAJC,EAKD,KAAK,CAAL,KAAWl8B,CAAC,CAAC8R,YAAb,KACG,KAAKA,YAAL,CAAkBtG,OAAlB,GAA4BxL,CAAC,CAAC8R,YAAF,CAAetG,OAD9C,CALC,EAOD,KAAK,CAAL,KAAWxL,CAAC,CAACoF,WAAb,IAA4B,KAAKA,WAAL,CAAiB4J,IAAjB,CAAsBhP,CAAC,CAACoF,WAAxB,CAP3B,EAQD,CAAC,CAAD,KAAOpD,CATT,EAWE,KAAK,IAAIA,IAAC,GAAG,CAAR,EAAWa,CAAC,GAAGT,CAAC,CAAC6B,MAAtB,EAA8BjC,IAAC,GAAGa,CAAlC,EAAqC,EAAEb,IAAvC,EAA0C;AACxC,YAAMI,IAAC,GAAGpC,CAAC,CAACwF,QAAF,CAAWxD,IAAX,CAAV;AACA,OAAC,CAAD,KAAOI,IAAC,CAAC0M,QAAF,CAAWsE,QAAlB,IAA8B,KAAKxN,GAAL,CAASxD,IAAC,CAAC2S,KAAF,EAAT,CAA9B;AACD;AACH,WAAO,IAAP;AACD;;AACDlD,EAAAA,cAAc,CAAC7R,CAAD,EAAI;AAChB,KAAE,SAASgC,CAAT,CAAWI,CAAX,EAAc;AACd,UAAI,CAACA,CAAC,CAAC0M,QAAF,CAAWsE,QAAhB,EAA0B;AAC1BpT,MAAAA,CAAC,CAACoC,CAAD,CAAD;AACA,YAAMS,CAAC,GAAGT,CAAC,CAACoD,QAAZ;;AACA,WAAK,IAAIxF,CAAC,GAAG,CAAR,EAAWoC,IAAC,GAAGS,CAAC,CAACoB,MAAtB,EAA8BjE,CAAC,GAAGoC,IAAlC,EAAqC,EAAEpC,CAAvC,EAA0CgC,CAAC,CAACa,CAAC,CAAC7C,CAAD,CAAF,CAAD;AAC3C,KALA,CAKE,IALF,CAAD;AAMD;;AACDmT,EAAAA,gBAAgB,CAACnT,CAAD,EAAI;AAClB,AAAE,SAAK8O,QAAL,GAAgB9O,CAAjB,EACE,KAAK8O,QAAL,CAAcuE,gBAAd,GAAiC,IAAI9X,KAAK,CAAC8S,OAAV,EADnC,EAEC,KAAK,CAAL,KAAWrO,CAAC,CAACqP,YAAb,KACG,KAAKP,QAAL,CAAcO,YAAd,GAA6B,IAAI9T,KAAK,CAAC+T,OAAV,GAAoB7L,SAApB,CAC5BzD,CAAC,CAACqP,YAAF,CAAemB,QADa,CADhC,CAFD,EAMC,KAAK,CAAL,KAAWxQ,CAAC,CAACsT,IAAb,KAAsB,KAAKxE,QAAL,CAAcwE,IAAd,GAAqB,CAAC,CAA5C,CAND;AAOF;;AACD+Z,EAAAA,MAAM,CAACrtB,CAAD,EAAI;AACR,UAAMgC,CAAC,GAAG,KAAK8M,QAAf;AACA,WAAO,KAAKA,QAAZ;AACA,UAAM1M,CAAC,GAAG,MAAMirB,MAAN,CAAartB,CAAb,CAAV;AACA,WACGoC,CAAC,CAACif,MAAF,CAASvS,QAAT,GAAoB;AACnBzL,MAAAA,IAAI,EAAE3H,GAAG,CAAC6M,UAAJ,CAAe6I,IADF;AAEnBgC,MAAAA,QAAQ,EAAEpR,CAAC,CAACoR,QAFO;AAGnBE,MAAAA,IAAI,EAAEtR,CAAC,CAACsR,IAHW;AAInB0oB,MAAAA,SAAS,EAAEh6B,CAAC,CAACg6B,SAJM;AAKnB3sB,MAAAA,YAAY,EAAE;AAAEmB,QAAAA,QAAQ,EAAExO,CAAC,CAACqN,YAAF,CAAeoF,OAAf;AAAZ;AALK,KAArB,EAOCrS,CAAC,CAACif,MAAF,CAAS6a,YAAT,GAAwB,KAAKA,YAP9B,EAQC95B,CAAC,CAACif,MAAF,CAASjc,WAAT,GAAuB,KAAKA,WAAL,CAAiBioB,MAAjB,CAAwBrtB,CAAxB,CARxB,EASC,KAAK8O,QAAL,GAAgB9M,CATjB,EAUAI,CAXF;AAaD;;AA/M8C,CAjpBlD,EAk2BE1G,GAAG,CAAC4L,gBAAJ,GAAuB,cAAc/L,KAAK,CAACwkC,gBAApB,CAAqC;AAC3DhgC,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAJ,EAAO;AAChB,UAAMhC,CAAN,EAASgC,CAAT,GACG,KAAKyF,MAAL,CAAY03B,OAAZ,CAAoBnyB,KAApB,GAA4B,IAD/B,EAEG,KAAKvF,MAAL,CAAY03B,OAAZ,CAAoBlyB,MAApB,GAA6B,IAFhC,EAGG,KAAK6B,QAAL,GAAgB;AACfzL,MAAAA,IAAI,EAAE3H,GAAG,CAAC4L,gBAAJ,CAAqB8J,IADZ;AAEfgC,MAAAA,QAAQ,EAAE,CAAC,CAFI;AAGfE,MAAAA,IAAI,EAAE,CAAC,CAHQ;AAIf0oB,MAAAA,SAAS,EAAE,CAAC,CAJG;AAKf3sB,MAAAA,YAAY,EAAE,IAAI9T,KAAK,CAAC+T,OAAV;AALC,KAHnB,EAUG,KAAK4sB,YAAL,GAAoB,CAAC,CAVxB,EAWG,KAAKpqB,YAAL,GAAoB,IAAIpW,GAAG,CAACskC,sBAAR,CAA+B,IAA/B,CAXvB,EAYG,KAAK56B,WAAL,GAAmB,IAAInD,WAAJ,CAAgB,IAAhB,CAZtB,EAaG,KAAKo9B,OAAL,GAAe,EAblB;AAcA,UAAMj9B,CAAC,GAAG,KAAKqF,MAAL,CAAYC,MAAtB;AACEtF,IAAAA,CAAC,CAAC2F,GAAF,GAAQ,IAAT,EACE3F,CAAC,CAAC6F,MAAF,GAAW,CAAC,IADd,EAEE7F,CAAC,CAACuF,KAAF,GAAU,IAFZ,EAGEvF,CAAC,CAACyF,IAAF,GAAS,CAAC,IAHZ,EAIEzF,CAAC,CAAC2D,IAAF,GAAS,CAJX,EAKE3D,CAAC,CAAC4D,GAAF,GAAQ,IALV;AAMD,UAAMnD,CAAC,GAAG,IAAItH,KAAK,CAACqiC,YAAV,CAAuB,KAAKn2B,MAAL,CAAYC,MAAnC,CAAV;AACE7E,IAAAA,CAAC,CAAC2I,OAAF,GAAY,CAAC,CAAd,EAAmB,KAAK6zB,OAAL,CAAaC,SAAb,GAAyBz8B,CAA5C,EAAgD,KAAKkd,MAAL,EAAhD;AACF;;AACD,MAAI1Q,YAAJ,GAAmB;AACjB,WAAO,KAAKP,QAAL,CAAcO,YAArB;AACD;;AACD,MAAIA,YAAJ,CAAiBrP,CAAjB,EAAoB;AAClB,SAAK8O,QAAL,CAAcO,YAAd,CAA2BL,IAA3B,CAAgChP,CAAhC;AACD;;AACD,MAAIo8B,cAAJ,GAAqB;AACnB,WAAO1gC,GAAG,CAACskC,sBAAJ,CAA2B5D,cAAlC;AACD;;AACD,MAAImD,MAAJ,GAAa;AACX,WAAO,KAAKF,OAAZ;AACD;;AACD,MAAIztB,UAAJ,CAAe5R,CAAf,EAAkB;AAChB,AAAE,SAAKwL,OAAL,GAAexL,CAAhB,EAAqB,KAAK8R,YAAL,CAAkBtG,OAAlB,GAA4BxL,CAAjD;;AACD,SAAK,IAAIgC,CAAC,GAAG,CAAR,EAAWI,CAAC,GAAG,KAAKoD,QAAL,CAAcvB,MAAlC,EAA0CjC,CAAC,GAAGI,CAA9C,EAAiD,EAAEJ,CAAnD,EACE,KAAK,CAAL,KAAW,KAAKwD,QAAL,CAAcxD,CAAd,EAAiB6P,cAA5B,IACE,KAAKrM,QAAL,CAAcxD,CAAd,EAAiB6P,cAAjB,CAAgC,UAAU7P,CAAV,EAAa;AAC3C,WAAK,CAAL,KAAWA,CAAC,CAAC8P,YAAb,IACE,CAAC,CAAD,KAAO9P,CAAC,CAACwJ,OADX,KAEGxJ,CAAC,CAAC8P,YAAF,CAAetG,OAAf,GAAyBxL,CAF5B;AAGD,KAJD,CADF;AAMH;;AACD,MAAI4R,UAAJ,GAAiB;AACf,WAAO,KAAKpG,OAAZ;AACD;;AACDg0B,EAAAA,UAAU,GAAG;AACX,SAAK,MAAM,CAACx/B,CAAD,EAAIgC,CAAJ,CAAX,IAAqBK,MAAM,CAACC,OAAP,CAAe,KAAK+8B,OAApB,CAArB,EACEr9B,CAAC,YAAYzG,KAAK,CAACqiC,YAAnB,KAAoC57B,CAAC,CAACwJ,OAAF,GAAY,CAAC,CAAjD;AACH;;AACDi0B,EAAAA,UAAU,GAAG;AACX,SAAK,MAAM,CAACz/B,CAAD,EAAIgC,CAAJ,CAAX,IAAqBK,MAAM,CAACC,OAAP,CAAe,KAAK+8B,OAApB,CAArB,EACEr9B,CAAC,YAAYzG,KAAK,CAACqiC,YAAnB,KAAoC57B,CAAC,CAACwJ,OAAF,GAAY,CAAC,CAAjD;AACH;;AACDuU,EAAAA,MAAM,GAAG;AACP,SAAKtY,MAAL,CAAYC,MAAZ,CAAmByY,sBAAnB;;AACA,SAAK,MAAM,CAACngB,CAAD,EAAIgC,CAAJ,CAAX,IAAqBK,MAAM,CAACC,OAAP,CAAe,KAAK+8B,OAApB,CAArB,EACEr9B,CAAC,YAAYzG,KAAK,CAACqiC,YAAnB,IAAmC57B,CAAC,CAAC+d,MAAF,EAAnC;AACH;;AACDtN,EAAAA,iBAAiB,CAACzS,CAAD,EAAI;AACnB,SAAK0S,gBAAL,IAAyB,KAAK9O,YAAL,EAAzB,EACE,CAAC,KAAK+O,sBAAL,IAA+B3S,CAAhC,MACG,SAAS,KAAK4S,MAAd,GACG,KAAKC,WAAL,CAAiBC,gBAAjB,CACE,KAAKhE,QAAL,CAAcO,YADhB,EAEE,KAAK0D,MAFP,CADH,IAKI,KAAKF,WAAL,CAAiBC,gBAAjB,CACC,KAAKF,MAAL,CAAYC,WADb,EAEC,KAAK/D,QAAL,CAAcO,YAFf,GAID,KAAKwD,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKD,WAAvC,EAAoD,KAAKE,MAAzD,CATH,GAUA,KAAKJ,sBAAL,GAA8B,CAAC,CAV/B,EAWA3S,CAAC,GAAG,CAAC,CAZR,CADF,EAcE,CAAC,CAAD,KAAO,KAAKk8B,YAAZ,IAA4B,KAAKpqB,YAAL,CAAkBiO,MAAlB,EAd9B;;AAeA,SAAK,IAAI/d,CAAC,GAAG,KAAKwD,QAAb,EAAuBpD,CAAC,GAAG,CAA3B,EAA8BS,CAAC,GAAGb,CAAC,CAACiC,MAAzC,EAAiD7B,CAAC,GAAGS,CAArD,EAAwDT,CAAC,EAAzD,EACEJ,CAAC,CAACI,CAAD,CAAD,CAAKqQ,iBAAL,CAAuBzS,CAAvB;AACH;;AACDgT,EAAAA,iBAAiB,CAAChT,CAAD,EAAIgC,CAAJ,EAAO;AACtB,QAAII,CAAC,GAAG,KAAKwQ,MAAb;AACA,QACG,CAAC,CAAD,KAAO5S,CAAP,IAAY,SAASoC,CAArB,IAA0BA,CAAC,CAAC4Q,iBAAF,CAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB,CAA1B,EACD,KAAKN,gBAAL,IAAyB,KAAK9O,YAAL,EADxB,EAED,SAAS,KAAKgP,MAAd,GACI,KAAKC,WAAL,CAAiBC,gBAAjB,CACE,KAAKhE,QAAL,CAAcO,YADhB,EAEE,KAAK0D,MAFP,CADJ,IAKK,KAAKF,WAAL,CAAiBC,gBAAjB,CACC,KAAKF,MAAL,CAAYC,WADb,EAEC,KAAK/D,QAAL,CAAcO,YAFf,GAID,KAAKwD,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKD,WAAvC,EAAoD,KAAKE,MAAzD,CATJ,CAFC,EAYD,CAAC,CAAD,KAAO/Q,CAbT,EAeE,KAAK,IAAIa,CAAC,GAAG,KAAK2C,QAAb,EAAuB1C,CAAC,GAAG,CAA3B,EAA8B8B,CAAC,GAAG/B,CAAC,CAACoB,MAAzC,EAAiDnB,CAAC,GAAG8B,CAArD,EAAwD9B,CAAC,EAAzD,EACED,CAAC,CAACC,CAAD,CAAD,CAAKkQ,iBAAL,CAAuB,CAAC,CAAxB,EAA2B,CAAC,CAA5B;AACL;;AACDqqB,EAAAA,MAAM,CAACr9B,CAAD,EAAI;AACR,UAAMgC,CAAC,GAAG,IAAIzG,KAAK,CAAC+T,OAAV,EAAV;AACA,WACE,KAAK0D,iBAAL,CAAuB,CAAC,CAAxB,EAA2B,CAAC,CAA5B,GACAhR,CAAC,CAACgN,IAAF,CAAO,KAAK6D,WAAZ,EAAyBsU,MAAzB,EADA,EAEA,SAASnnB,CAAC,CAAC4S,MAAX,KACG5S,CAAC,CAAC4S,MAAF,CAASI,iBAAT,CAA2B,CAAC,CAA5B,EAA+B,CAAC,CAAhC,GACDhR,CAAC,CAAC0vB,QAAF,CAAW1xB,CAAC,CAAC4S,MAAF,CAASC,WAApB,CAFF,CAFA,EAKA,KAAK,CAAL,KAAW7S,CAAC,CAAC8O,QAAF,CAAWO,YAAtB,GACIrP,CAAC,CAAC8O,QAAF,CAAWO,YAAX,CAAwBuiB,WAAxB,CAAoC5vB,CAApC,CADJ,GAEIhC,CAAC,CAACs9B,YAAF,CAAet7B,CAAf,CAPJ,EAQAhC,CAAC,CAACgT,iBAAF,CAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB,CARA,EASA,KAAKpN,GAAL,CAAS5F,CAAT,CATA,EAUA,IAXF;AAaD;;AACDiS,EAAAA,wBAAwB,GAAG;AACzB,SAAKC,iBAAL,KAA2B,KAAKA,iBAAL,GAAyB,IAAIxW,GAAG,CAACyW,IAAR,EAApD,GACE,KAAKD,iBAAL,CAAuBE,iBAAvB,CAAyC,IAAzC,EAA+C,CAAC,CAAhD,CADF,EAEE,KAAKF,iBAAL,CAAuBG,eAAvB,EAFF,EAGE,KAAKH,iBAAL,CAAuBI,YAAvB,EAHF;AAID;;AACDC,EAAAA,yBAAyB,CAACvS,CAAD,EAAI;AAC3B,SAAKwS,kBAAL,KAA4B,KAAKA,kBAAL,GAA0B,IAAI9W,GAAG,CAACyW,IAAR,EAAtD,GACE,KAAKK,kBAAL,CAAwBJ,iBAAxB,CAA0C,IAA1C,EAAgDpS,CAAhD,CADF;AAED;;AACDu9B,EAAAA,OAAO,CAACv9B,CAAD,EAAIgC,CAAJ,EAAO;AACZ,SAAK8P,YAAL,CAAkByrB,OAAlB,CAA0Bv9B,CAA1B,EAA6BgC,CAA7B;AACD;;AACDgN,EAAAA,IAAI,CAAChP,CAAD,EAAIgC,CAAJ,EAAO;AACT,UAAMI,CAAC,GAAGpC,CAAC,CAACwF,QAAZ;AACA,QACIxF,CAAC,CAACwF,QAAF,GAAa,EAAd,EACD,MAAMwJ,IAAN,CAAWhP,CAAX,CADC,EAEAA,CAAC,CAACwF,QAAF,GAAapD,CAFb,EAGD,KAAK+Q,gBAAL,CAAsB,KAAKrE,QAA3B,CAHC,EAID,KAAK,CAAL,KAAW9O,CAAC,CAACk8B,YAAb,KAA8B,KAAKA,YAAL,GAAoBl8B,CAAC,CAACk8B,YAApD,CAJC,EAKD,KAAK,CAAL,KAAWl8B,CAAC,CAAC8R,YAAb,KACG,KAAKA,YAAL,CAAkBtG,OAAlB,GAA4BxL,CAAC,CAAC8R,YAAF,CAAetG,OAD9C,CALC,EAOD,KAAK,CAAL,KAAWxL,CAAC,CAACoF,WAAb,IAA4B,KAAKA,WAAL,CAAiB4J,IAAjB,CAAsBhP,CAAC,CAACoF,WAAxB,CAP3B,EAQD,CAAC,CAAD,KAAOpD,CATT,EAWE,KAAK,IAAIA,IAAC,GAAG,CAAR,EAAWa,CAAC,GAAGT,CAAC,CAAC6B,MAAtB,EAA8BjC,IAAC,GAAGa,CAAlC,EAAqC,EAAEb,IAAvC,EAA0C;AACxC,YAAMI,IAAC,GAAGpC,CAAC,CAACwF,QAAF,CAAWxD,IAAX,CAAV;AACA,OAAC,CAAD,KAAOI,IAAC,CAAC0M,QAAF,CAAWsE,QAAlB,IAA8B,KAAKxN,GAAL,CAASxD,IAAC,CAAC2S,KAAF,EAAT,CAA9B;AACD;AACH,WAAO,IAAP;AACD;;AACDlD,EAAAA,cAAc,CAAC7R,CAAD,EAAI;AAChB,KAAE,SAASgC,CAAT,CAAWI,CAAX,EAAc;AACd,UAAI,CAACA,CAAC,CAAC0M,QAAF,CAAWsE,QAAhB,EAA0B;AAC1BpT,MAAAA,CAAC,CAACoC,CAAD,CAAD;AACA,YAAMS,CAAC,GAAGT,CAAC,CAACoD,QAAZ;;AACA,WAAK,IAAIxF,CAAC,GAAG,CAAR,EAAWoC,IAAC,GAAGS,CAAC,CAACoB,MAAtB,EAA8BjE,CAAC,GAAGoC,IAAlC,EAAqC,EAAEpC,CAAvC,EAA0CgC,CAAC,CAACa,CAAC,CAAC7C,CAAD,CAAF,CAAD;AAC3C,KALA,CAKE,IALF,CAAD;AAMD;;AACDmT,EAAAA,gBAAgB,CAACnT,CAAD,EAAI;AAClB,AAAE,SAAK8O,QAAL,GAAgB9O,CAAjB,EACC,KAAK,CAAL,KAAWA,CAAC,CAACqP,YAAb,KACG,KAAKP,QAAL,CAAcO,YAAd,GAA6B,IAAI9T,KAAK,CAAC+T,OAAV,GAAoB7L,SAApB,CAC5BzD,CAAC,CAACqP,YAAF,CAAemB,QADa,CADhC,CADD,EAKC,KAAK,CAAL,KAAWxQ,CAAC,CAACsT,IAAb,KAAsB,KAAKxE,QAAL,CAAcwE,IAAd,GAAqB,CAAC,CAA5C,CALD;AAMF;;AACD+Z,EAAAA,MAAM,CAACrtB,CAAD,EAAI;AACR,UAAMgC,CAAC,GAAG,KAAK8M,QAAf;AACA,WAAO,KAAKA,QAAZ;AACA,UAAM1M,CAAC,GAAG,MAAMirB,MAAN,CAAartB,CAAb,CAAV;AACA,WACGoC,CAAC,CAACif,MAAF,CAASvS,QAAT,GAAoB;AACnBzL,MAAAA,IAAI,EAAE3H,GAAG,CAAC4L,gBAAJ,CAAqB8J,IADR;AAEnBgC,MAAAA,QAAQ,EAAEpR,CAAC,CAACoR,QAFO;AAGnBE,MAAAA,IAAI,EAAEtR,CAAC,CAACsR,IAHW;AAInB0oB,MAAAA,SAAS,EAAEh6B,CAAC,CAACg6B,SAJM;AAKnB3sB,MAAAA,YAAY,EAAE;AAAEmB,QAAAA,QAAQ,EAAExO,CAAC,CAACqN,YAAF,CAAeoF,OAAf;AAAZ;AALK,KAArB,EAOCrS,CAAC,CAACif,MAAF,CAAS6a,YAAT,GAAwB,KAAKA,YAP9B,EAQC95B,CAAC,CAACif,MAAF,CAASjc,WAAT,GAAuB,KAAKA,WAAL,CAAiBioB,MAAjB,CAAwBrtB,CAAxB,CARxB,EASC,KAAK8O,QAAL,GAAgB9M,CATjB,EAUAI,CAXF;AAaD;;AAxL0D,CAl2B9D,EA4hCE1G,GAAG,CAAC0jC,eAAJ,GAAsB,cAAc7jC,KAAK,CAAC6jC,eAApB,CAAoC;AACzDr/B,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAC,GAAG,OAAR,EAAiB;AAC1B,UAAMhC,CAAN,EAASgC,CAAT,GACG,KAAK+7B,cAAL,GAAsB,CAAC,CAD1B,EAEG,KAAK3sB,IAAL,GAAa,oBAAmBpR,CAAC,CAACuP,IAAK,EAF1C;AAGD;;AACDwQ,EAAAA,MAAM,GAAG;AACP,UAAM/f,CAAC,GAAGtE,GAAG,CAAC0jC,eAAJ,CAAoBa,OAA9B;AAAA,UACEj+B,CAAC,GAAG,KAAKsO,KAAL,CAAWwuB,QAAX,GAAsB,KAAKxuB,KAAL,CAAWwuB,QAAjC,GAA4C,GADlD;AAAA,UAEE18B,CAAC,GAAGJ,CAAC,GAAGyG,IAAI,CAAC0hB,GAAL,CAAS,KAAK7Z,KAAL,CAAWiI,KAApB,CAFV;AAGA,SAAK2nB,IAAL,CAAUtxB,KAAV,CAAgBgO,GAAhB,CAAoBxa,CAApB,EAAuBA,CAAvB,EAA0BJ,CAA1B,GACEhC,CAAC,CAACmgC,qBAAF,CAAwB,KAAK7vB,KAAL,CAAWpG,MAAX,CAAkB2I,WAA1C,CADF,EAEE,KAAKqtB,IAAL,CAAUpc,MAAV,CAAiB9jB,CAAjB,CAFF,EAGE,KAAK,CAAL,KAAW,KAAK8F,KAAhB,GACI,KAAKo6B,IAAL,CAAUvwB,QAAV,CAAmB7J,KAAnB,CAAyB8W,GAAzB,CAA6B,KAAK9W,KAAlC,CADJ,GAEI,KAAKo6B,IAAL,CAAUvwB,QAAV,CAAmB7J,KAAnB,CAAyBkJ,IAAzB,CAA8B,KAAKsB,KAAL,CAAWxK,KAAzC,CALN;AAMD;;AACDy3B,EAAAA,OAAO,CAACv9B,CAAD,EAAIgC,CAAJ,EAAO;AACZ,QAAII,CAAC,GAAG1G,GAAG,CAAC0jC,eAAJ,CAAoBpB,IAA5B;AAAA,QACEn7B,CAAC,GAAGnH,GAAG,CAAC0jC,eAAJ,CAAoBnB,OAD1B;AAAA,QAEEn7B,CAAC,GAAGpH,GAAG,CAAC0jC,eAAJ,CAAoBlB,cAF1B;AAAA,QAGEt5B,CAAC,GAAGlJ,GAAG,CAAC0jC,eAAJ,CAAoBhD,cAH1B;AAAA,QAIEr3B,CAAC,GAAG,KAAKuL,KAAL,CAAWuC,WAJjB;;AAKA,QACG,SAASjO,CAAC,CAACu5B,cAAX,IAA6Bv5B,CAAC,CAACw5B,qBAAF,EAA7B,EACDv7B,CAAC,CAACmM,IAAF,CAAOpK,CAAC,CAACu5B,cAAT,CADC,EAEDt7B,CAAC,CAACy6B,YAAF,CAAev4B,CAAf,CAFC,EAGD,CAAC,CAAD,KAAO/E,CAAC,CAACq+B,GAAF,CAAMC,gBAAN,CAAuBz7B,CAAvB,CAAP,KACGC,CAAC,CAACkM,IAAF,CAAOjK,CAAP,EAAUoiB,MAAV,IACD/kB,CAAC,CAAC4M,IAAF,CAAOhP,CAAC,CAACq+B,GAAT,EAAcf,YAAd,CAA2Bx6B,CAA3B,CADC,EAED,SAAS8B,CAAC,CAAC2J,WAAX,IAA0B,CAAC,CAAD,KAAOnM,CAAC,CAACm8B,aAAF,CAAgB35B,CAAC,CAAC2J,WAAlB,CAHnC,CAJF,EAQE;AACA,UAAIlJ,CAAJ;AAAA,UACEC,CADF;AAAA,UAEEc,CAFF;AAAA,UAGEO,CAHF;AAAA,UAIE+E,CAJF;AAAA,UAKEG,CALF;AAAA,UAMEE,CAAC,GAAGnH,CAAC,CAAC45B,KANR;AAAA,UAOEvW,CAAC,GAAGrjB,CAAC,CAACiJ,UAAF,CAAakB,QAPnB;AAAA,UAQE2X,CAAC,GAAG9hB,CAAC,CAAC65B,SARR;;AASA,WACE/yB,CAAC,GAAGjD,IAAI,CAAC+E,GAAL,CAAS,CAAT,EAAYkZ,CAAC,CAACvY,KAAd,CAAJ,EAA0BtC,CAAC,GAAGpD,IAAI,CAACgF,GAAL,CAAS1B,CAAC,CAAC1B,KAAX,EAAkBqc,CAAC,CAACvY,KAAF,GAAUuY,CAAC,CAACrc,KAA9B,CADhC,EAEEqB,CAAC,GAAGG,CAFN,EAGEH,CAAC,IAAI,CAHP,EAKGpG,CAAC,GAAGyG,CAAC,CAAC2yB,IAAF,CAAOhzB,CAAP,CAAL,EACGtF,CAAC,GAAG2F,CAAC,CAAC2yB,IAAF,CAAOhzB,CAAC,GAAG,CAAX,CADP,EAEG/E,CAAC,GAAGoF,CAAC,CAAC2yB,IAAF,CAAOhzB,CAAC,GAAG,CAAX,CAFP,EAGE,CAACrG,CAAC,GAAGmiB,CAAC,CAAC,KAAKlX,KAAN,EAAatQ,CAAb,EAAgBoC,CAAhB,EAAmB6lB,CAAnB,EAAsB3iB,CAAtB,EAAyBc,CAAzB,EAA4BO,CAA5B,CAAN,MACItB,CAAC,CAACs5B,SAAF,GAAcl2B,IAAI,CAACyP,KAAL,CAAWxM,CAAC,GAAG,CAAf,CAAf,EAAmC1J,CAAC,CAACyD,IAAF,CAAOJ,CAAP,CADtC,CAHF;AAKH;;AACD,aAASmiB,CAAT,CAAWxnB,CAAX,EAAcgC,CAAd,EAAiBI,CAAjB,EAAoBS,CAApB,EAAuBC,CAAvB,EAA0B8B,CAA1B,EAA6BG,CAA7B,EAAgC;AAC9B,UAAIM,CAAC,GAAG,IAAI9J,KAAK,CAAC8S,OAAV,EAAR;AAAA,UACE/I,CAAC,GAAG,IAAI/J,KAAK,CAAC8S,OAAV,EADN;AAAA,UAEEjI,CAAC,GAAG,IAAI7K,KAAK,CAAC8S,OAAV,EAFN;AAAA,UAGE1H,CAAC,GAAG,IAAIpL,KAAK,CAAC8S,OAAV,EAHN;AAAA,UAIE3C,CAAC,GAAG,IAAInQ,KAAK,CAAC8S,OAAV,EAJN;AAKA,UACGhJ,CAAC,CAACu5B,mBAAF,CAAsB/7B,CAAtB,EAAyBC,CAAzB,GACDwC,CAAC,CAACs5B,mBAAF,CAAsB/7B,CAAtB,EAAyB+B,CAAzB,CADC,EAEDwB,CAAC,CAACw4B,mBAAF,CAAsB/7B,CAAtB,EAAyBkC,CAAzB,CAFC,EAGD,SAAS3C,CAAC,CAACy8B,iBAAF,CAAoBx5B,CAApB,EAAuBC,CAAvB,EAA0Bc,CAA1B,EAA6B,CAAC,CAA9B,EAAiCO,CAAjC,CAJX,EAME,OAAO,IAAP;AACF+E,MAAAA,CAAC,CAACsD,IAAF,CAAOrI,CAAP,GAAW+E,CAAC,CAAC4xB,YAAF,CAAet9B,CAAC,CAAC6S,WAAjB,CAAX;AACA,UAAIhH,CAAC,GAAG7J,CAAC,CAACq8B,GAAF,CAAM5nB,MAAN,CAAa2f,UAAb,CAAwB1qB,CAAxB,CAAR;AACA,aAAOG,CAAC,GAAG7J,CAAC,CAAC+D,IAAN,IAAc8F,CAAC,GAAG7J,CAAC,CAACgE,GAApB,GACH,IADG,GAEH;AAAE84B,QAAAA,QAAQ,EAAEjzB,CAAZ;AAAekzB,QAAAA,KAAK,EAAErzB,CAAC,CAACqJ,KAAF,EAAtB;AAAiCsM,QAAAA,MAAM,EAAErhB;AAAzC,OAFJ;AAGD;AACF;;AAvEwD,CA5hC5D,EAqmCEtE,GAAG,CAAC0jC,eAAJ,CAAoBa,OAApB,GAA8B,IAAI1kC,KAAK,CAAC8S,OAAV,EArmChC,EAsmCE3S,GAAG,CAAC0jC,eAAJ,CAAoBpB,IAApB,GAA2B,IAAIziC,KAAK,CAACyjC,GAAV,EAtmC7B,EAumCEtjC,GAAG,CAAC0jC,eAAJ,CAAoBnB,OAApB,GAA8B,IAAI1iC,KAAK,CAAC0jC,MAAV,EAvmChC,EAwmCEvjC,GAAG,CAAC0jC,eAAJ,CAAoBlB,cAApB,GAAqC,IAAI3iC,KAAK,CAAC+T,OAAV,EAxmCvC,EAymCE5T,GAAG,CAAC0jC,eAAJ,CAAoBhD,cAApB,GAAqC,IAAI7gC,KAAK,CAAC63B,iBAAV,CACpC,EADoC,EAEpC,EAFoC,EAGpC,EAHoC,CAzmCvC,EA8mCE13B,GAAG,CAACkkC,gBAAJ,GAAuB,cAAcrkC,KAAK,CAACqkC,gBAApB,CAAqC;AAC3D7/B,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAC,GAAG,EAAR,EAAYI,CAAC,GAAG,OAAhB,EAAyB;AAClC,UAAMpC,CAAN,EAASgC,CAAT,EAAYI,CAAZ,GACG,KAAK27B,cAAL,GAAsB,CAAC,CAD1B,EAEG,KAAK3sB,IAAL,GAAa,qBAAoBpR,CAAC,CAACuP,IAAK,EAF3C;AAGD;;AACDguB,EAAAA,OAAO,CAACv9B,CAAD,EAAIgC,CAAJ,EAAO;AACZ,QAAII,CAAC,GAAG1G,GAAG,CAACkkC,gBAAJ,CAAqB5B,IAA7B;AAAA,QACEn7B,CAAC,GAAGnH,GAAG,CAACkkC,gBAAJ,CAAqB3B,OAD3B;AAAA,QAEEn7B,CAAC,GAAGpH,GAAG,CAACkkC,gBAAJ,CAAqB1B,cAF3B;AAAA,QAGEt5B,CAAC,GAAGlJ,GAAG,CAACkkC,gBAAJ,CAAqBxD,cAH3B;AAAA,QAIEr3B,CAAC,GAAG,KAAKuL,KAAL,CAAWuC,WAJjB;;AAKA,QACG,SAASjO,CAAC,CAACu5B,cAAX,IAA6Bv5B,CAAC,CAACw5B,qBAAF,EAA7B,EACDv7B,CAAC,CAACmM,IAAF,CAAOpK,CAAC,CAACu5B,cAAT,CADC,EAEDt7B,CAAC,CAACy6B,YAAF,CAAev4B,CAAf,CAFC,EAGD,CAAC,CAAD,KAAO/E,CAAC,CAACq+B,GAAF,CAAMC,gBAAN,CAAuBz7B,CAAvB,CAAP,KACGC,CAAC,CAACkM,IAAF,CAAOjK,CAAP,EAAUoiB,MAAV,IACD/kB,CAAC,CAAC4M,IAAF,CAAOhP,CAAC,CAACq+B,GAAT,EAAcf,YAAd,CAA2Bx6B,CAA3B,CADC,EAED,SAAS8B,CAAC,CAAC2J,WAAX,IAA0B,CAAC,CAAD,KAAOnM,CAAC,CAACm8B,aAAF,CAAgB35B,CAAC,CAAC2J,WAAlB,CAHnC,CAJF,EAQE;AACA,UAAIlJ,CAAJ;AAAA,UACEC,CADF;AAAA,UAEEc,CAFF;AAAA,UAGEO,CAHF;AAAA,UAIE+E,CAJF;AAAA,UAKEG,CALF;AAAA,UAMEE,CAAC,GAAGnH,CAAC,CAAC45B,KANR;AAAA,UAOEvW,CAAC,GAAGrjB,CAAC,CAACiJ,UAAF,CAAakB,QAPnB;AAAA,UAQE2X,CAAC,GAAG9hB,CAAC,CAAC65B,SARR;;AASA,WACE/yB,CAAC,GAAGjD,IAAI,CAAC+E,GAAL,CAAS,CAAT,EAAYkZ,CAAC,CAACvY,KAAd,CAAJ,EAA0BtC,CAAC,GAAGpD,IAAI,CAACgF,GAAL,CAAS1B,CAAC,CAAC1B,KAAX,EAAkBqc,CAAC,CAACvY,KAAF,GAAUuY,CAAC,CAACrc,KAA9B,CADhC,EAEEqB,CAAC,GAAGG,CAFN,EAGEH,CAAC,IAAI,CAHP,EAKGpG,CAAC,GAAGyG,CAAC,CAAC2yB,IAAF,CAAOhzB,CAAP,CAAL,EACGtF,CAAC,GAAG2F,CAAC,CAAC2yB,IAAF,CAAOhzB,CAAC,GAAG,CAAX,CADP,EAEG/E,CAAC,GAAGoF,CAAC,CAAC2yB,IAAF,CAAOhzB,CAAC,GAAG,CAAX,CAFP,EAGE,CAACrG,CAAC,GAAGmiB,CAAC,CAAC,KAAKlX,KAAN,EAAatQ,CAAb,EAAgBoC,CAAhB,EAAmB6lB,CAAnB,EAAsB3iB,CAAtB,EAAyBc,CAAzB,EAA4BO,CAA5B,CAAN,MACItB,CAAC,CAACs5B,SAAF,GAAcl2B,IAAI,CAACyP,KAAL,CAAWxM,CAAC,GAAG,CAAf,CAAf,EAAmC1J,CAAC,CAACyD,IAAF,CAAOJ,CAAP,CADtC,CAHF;AAKH;;AACD,aAASmiB,CAAT,CAAWxnB,CAAX,EAAcgC,CAAd,EAAiBI,CAAjB,EAAoBS,CAApB,EAAuBC,CAAvB,EAA0B8B,CAA1B,EAA6BG,CAA7B,EAAgC;AAC9B,UAAIM,CAAC,GAAG,IAAI9J,KAAK,CAAC8S,OAAV,EAAR;AAAA,UACE/I,CAAC,GAAG,IAAI/J,KAAK,CAAC8S,OAAV,EADN;AAAA,UAEEjI,CAAC,GAAG,IAAI7K,KAAK,CAAC8S,OAAV,EAFN;AAAA,UAGE1H,CAAC,GAAG,IAAIpL,KAAK,CAAC8S,OAAV,EAHN;AAAA,UAIE3C,CAAC,GAAG,IAAInQ,KAAK,CAAC8S,OAAV,EAJN;AAKA,UACGhJ,CAAC,CAACu5B,mBAAF,CAAsB/7B,CAAtB,EAAyBC,CAAzB,GACDwC,CAAC,CAACs5B,mBAAF,CAAsB/7B,CAAtB,EAAyB+B,CAAzB,CADC,EAEDwB,CAAC,CAACw4B,mBAAF,CAAsB/7B,CAAtB,EAAyBkC,CAAzB,CAFC,EAGD,SAAS3C,CAAC,CAACy8B,iBAAF,CAAoBx5B,CAApB,EAAuBC,CAAvB,EAA0Bc,CAA1B,EAA6B,CAAC,CAA9B,EAAiCO,CAAjC,CAJX,EAME,OAAO,IAAP;AACF+E,MAAAA,CAAC,CAACsD,IAAF,CAAOrI,CAAP,GAAW+E,CAAC,CAAC4xB,YAAF,CAAet9B,CAAC,CAAC6S,WAAjB,CAAX;AACA,UAAIhH,CAAC,GAAG7J,CAAC,CAACq8B,GAAF,CAAM5nB,MAAN,CAAa2f,UAAb,CAAwB1qB,CAAxB,CAAR;AACA,aAAOG,CAAC,GAAG7J,CAAC,CAAC+D,IAAN,IAAc8F,CAAC,GAAG7J,CAAC,CAACgE,GAApB,GACH,IADG,GAEH;AAAE84B,QAAAA,QAAQ,EAAEjzB,CAAZ;AAAekzB,QAAAA,KAAK,EAAErzB,CAAC,CAACqJ,KAAF,EAAtB;AAAiCsM,QAAAA,MAAM,EAAErhB;AAAzC,OAFJ;AAGD;AACF;;AA5D0D,CA9mC9D,EA4qCEtE,GAAG,CAACkkC,gBAAJ,CAAqB5B,IAArB,GAA4B,IAAIziC,KAAK,CAACyjC,GAAV,EA5qC9B,EA6qCEtjC,GAAG,CAACkkC,gBAAJ,CAAqB3B,OAArB,GAA+B,IAAI1iC,KAAK,CAAC0jC,MAAV,EA7qCjC,EA8qCEvjC,GAAG,CAACkkC,gBAAJ,CAAqB1B,cAArB,GAAsC,IAAI3iC,KAAK,CAAC+T,OAAV,EA9qCxC,EA+qCE5T,GAAG,CAACkkC,gBAAJ,CAAqBxD,cAArB,GAAsC,IAAI7gC,KAAK,CAAC63B,iBAAV,CACrC,EADqC,EAErC,EAFqC,EAGrC,EAHqC,CA/qCxC,EAorCE13B,GAAG,CAACskC,sBAAJ,GAA6B,cAAczkC,KAAK,CAACykC,sBAApB,CAA2C;AACvEjgC,EAAAA,WAAW,CAACC,CAAD,EAAIgC,CAAC,GAAG,EAAR,EAAYI,CAAC,GAAG,QAAhB,EAA0B;AACnC,UAAMpC,CAAN,EAASgC,CAAT,EAAYI,CAAZ,GACG,KAAK27B,cAAL,GAAsB,CAAC,CAD1B,EAEG,KAAK3sB,IAAL,GAAa,2BAA0BpR,CAAC,CAACuP,IAAK,EAFjD;AAGD;;AACDguB,EAAAA,OAAO,CAACv9B,CAAD,EAAIgC,CAAJ,EAAO;AACZ,QAAII,CAAC,GAAG1G,GAAG,CAACskC,sBAAJ,CAA2BhC,IAAnC;AAAA,QACEn7B,CAAC,GAAGnH,GAAG,CAACskC,sBAAJ,CAA2B/B,OADjC;AAAA,QAEEn7B,CAAC,GAAGpH,GAAG,CAACskC,sBAAJ,CAA2B9B,cAFjC;AAAA,QAGEt5B,CAAC,GAAGlJ,GAAG,CAACskC,sBAAJ,CAA2B5D,cAHjC;AAAA,QAIEr3B,CAAC,GAAG,KAAKuL,KAAL,CAAWuC,WAJjB;;AAKA,QACG,SAASjO,CAAC,CAACu5B,cAAX,IAA6Bv5B,CAAC,CAACw5B,qBAAF,EAA7B,EACDv7B,CAAC,CAACmM,IAAF,CAAOpK,CAAC,CAACu5B,cAAT,CADC,EAEDt7B,CAAC,CAACy6B,YAAF,CAAev4B,CAAf,CAFC,EAGD,CAAC,CAAD,KAAO/E,CAAC,CAACq+B,GAAF,CAAMC,gBAAN,CAAuBz7B,CAAvB,CAAP,KACGC,CAAC,CAACkM,IAAF,CAAOjK,CAAP,EAAUoiB,MAAV,IACD/kB,CAAC,CAAC4M,IAAF,CAAOhP,CAAC,CAACq+B,GAAT,EAAcf,YAAd,CAA2Bx6B,CAA3B,CADC,EAED,SAAS8B,CAAC,CAAC2J,WAAX,IAA0B,CAAC,CAAD,KAAOnM,CAAC,CAACm8B,aAAF,CAAgB35B,CAAC,CAAC2J,WAAlB,CAHnC,CAJF,EAQE;AACA,UAAIlJ,CAAJ;AAAA,UACEC,CADF;AAAA,UAEEc,CAFF;AAAA,UAGEO,CAHF;AAAA,UAIE+E,CAJF;AAAA,UAKEG,CALF;AAAA,UAMEE,CAAC,GAAGnH,CAAC,CAAC45B,KANR;AAAA,UAOEvW,CAAC,GAAGrjB,CAAC,CAACiJ,UAAF,CAAakB,QAPnB;AAAA,UAQE2X,CAAC,GAAG9hB,CAAC,CAAC65B,SARR;;AASA,WACE/yB,CAAC,GAAGjD,IAAI,CAAC+E,GAAL,CAAS,CAAT,EAAYkZ,CAAC,CAACvY,KAAd,CAAJ,EAA0BtC,CAAC,GAAGpD,IAAI,CAACgF,GAAL,CAAS1B,CAAC,CAAC1B,KAAX,EAAkBqc,CAAC,CAACvY,KAAF,GAAUuY,CAAC,CAACrc,KAA9B,CADhC,EAEEqB,CAAC,GAAGG,CAFN,EAGEH,CAAC,IAAI,CAHP,EAKGpG,CAAC,GAAGyG,CAAC,CAAC2yB,IAAF,CAAOhzB,CAAP,CAAL,EACGtF,CAAC,GAAG2F,CAAC,CAAC2yB,IAAF,CAAOhzB,CAAC,GAAG,CAAX,CADP,EAEG/E,CAAC,GAAGoF,CAAC,CAAC2yB,IAAF,CAAOhzB,CAAC,GAAG,CAAX,CAFP,EAGE,CAACrG,CAAC,GAAGmiB,CAAC,CAAC,KAAKlX,KAAN,EAAatQ,CAAb,EAAgBoC,CAAhB,EAAmB6lB,CAAnB,EAAsB3iB,CAAtB,EAAyBc,CAAzB,EAA4BO,CAA5B,CAAN,MACItB,CAAC,CAACs5B,SAAF,GAAcl2B,IAAI,CAACyP,KAAL,CAAWxM,CAAC,GAAG,CAAf,CAAf,EAAmC1J,CAAC,CAACyD,IAAF,CAAOJ,CAAP,CADtC,CAHF;AAKH;;AACD,aAASmiB,CAAT,CAAWxnB,CAAX,EAAcgC,CAAd,EAAiBI,CAAjB,EAAoBS,CAApB,EAAuBC,CAAvB,EAA0B8B,CAA1B,EAA6BG,CAA7B,EAAgC;AAC9B,UAAIM,CAAC,GAAG,IAAI9J,KAAK,CAAC8S,OAAV,EAAR;AAAA,UACE/I,CAAC,GAAG,IAAI/J,KAAK,CAAC8S,OAAV,EADN;AAAA,UAEEjI,CAAC,GAAG,IAAI7K,KAAK,CAAC8S,OAAV,EAFN;AAAA,UAGE1H,CAAC,GAAG,IAAIpL,KAAK,CAAC8S,OAAV,EAHN;AAAA,UAIE3C,CAAC,GAAG,IAAInQ,KAAK,CAAC8S,OAAV,EAJN;AAKA,UACGhJ,CAAC,CAACu5B,mBAAF,CAAsB/7B,CAAtB,EAAyBC,CAAzB,GACDwC,CAAC,CAACs5B,mBAAF,CAAsB/7B,CAAtB,EAAyB+B,CAAzB,CADC,EAEDwB,CAAC,CAACw4B,mBAAF,CAAsB/7B,CAAtB,EAAyBkC,CAAzB,CAFC,EAGD,SAAS3C,CAAC,CAACy8B,iBAAF,CAAoBx5B,CAApB,EAAuBC,CAAvB,EAA0Bc,CAA1B,EAA6B,CAAC,CAA9B,EAAiCO,CAAjC,CAJX,EAME,OAAO,IAAP;AACF+E,MAAAA,CAAC,CAACsD,IAAF,CAAOrI,CAAP,GAAW+E,CAAC,CAAC4xB,YAAF,CAAet9B,CAAC,CAAC6S,WAAjB,CAAX;AACA,UAAIhH,CAAC,GAAG7J,CAAC,CAACq8B,GAAF,CAAM5nB,MAAN,CAAa2f,UAAb,CAAwB1qB,CAAxB,CAAR;AACA,aAAOG,CAAC,GAAG7J,CAAC,CAAC+D,IAAN,IAAc8F,CAAC,GAAG7J,CAAC,CAACgE,GAApB,GACH,IADG,GAEH;AAAE84B,QAAAA,QAAQ,EAAEjzB,CAAZ;AAAekzB,QAAAA,KAAK,EAAErzB,CAAC,CAACqJ,KAAF,EAAtB;AAAiCsM,QAAAA,MAAM,EAAErhB;AAAzC,OAFJ;AAGD;AACF;;AA5DsE,CAprC1E,EAkvCEtE,GAAG,CAACskC,sBAAJ,CAA2BhC,IAA3B,GAAkC,IAAIziC,KAAK,CAACyjC,GAAV,EAlvCpC,EAmvCEtjC,GAAG,CAACskC,sBAAJ,CAA2B/B,OAA3B,GAAqC,IAAI1iC,KAAK,CAAC0jC,MAAV,EAnvCvC,EAovCEvjC,GAAG,CAACskC,sBAAJ,CAA2B9B,cAA3B,GAA4C,IAAI3iC,KAAK,CAAC+T,OAAV,EApvC9C,EAqvCE5T,GAAG,CAACskC,sBAAJ,CAA2B5D,cAA3B,GAA4C,IAAI7gC,KAAK,CAAC63B,iBAAV,CAC3C,EAD2C,EAE3C,EAF2C,EAG3C,EAH2C,CArvC9C,EA0vCE13B,GAAG,CAACqnB,SAAJ,GAAgB,cAAcxnB,KAAK,CAACwnB,SAApB,CAA8B;AAC7CC,EAAAA,aAAa,CAAChjB,CAAD,EAAIgC,CAAJ,EAAO;AAClBA,IAAAA,CAAC,IAAIA,CAAC,CAACkoB,mBAAP,IACK,KAAKmU,GAAL,CAAS5nB,MAAT,CAAgB0pB,qBAAhB,CAAsCn+B,CAAC,CAAC6Q,WAAxC,GACD,KAAKwrB,GAAL,CAAS1P,SAAT,CACG/R,GADH,CACO5c,CAAC,CAACyO,CADT,EACYzO,CAAC,CAAC0O,CADd,EACiB,GADjB,EAEG0xB,SAFH,CAEap+B,CAFb,EAGGolB,GAHH,CAGO,KAAKiX,GAAL,CAAS5nB,MAHhB,EAIGud,SAJH,EADC,EAMA,KAAKtsB,MAAL,GAAc1F,CAPnB,IAQIA,CAAC,IAAIA,CAAC,CAACqoB,oBAAP,IACC,KAAKgU,GAAL,CAAS5nB,MAAT,CAAgBmG,GAAhB,CAAoB5c,CAAC,CAACyO,CAAtB,EAAyBzO,CAAC,CAAC0O,CAA3B,EAA8B,CAAC,CAA/B,EAAkC0xB,SAAlC,CAA4Cp+B,CAA5C,GACD,KAAKq8B,GAAL,CAAS1P,SAAT,CAAmB/R,GAAnB,CAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAAC,CAA9B,EAAiCyjB,kBAAjC,CAAoDr+B,CAAC,CAAC6Q,WAAtD,CADC,EAEA,KAAKnL,MAAL,GAAc1F,CAHf,IAIAiF,OAAO,CAACgC,KAAR,CAAc,2CAAd,CAZJ;AAaD;;AACDq3B,EAAAA,uBAAuB,GAAG;AACxB,UAAMtgC,CAAC,GAAG,IAAIzE,KAAK,CAACglC,iBAAV,CAA4B;AAAEz6B,MAAAA,KAAK,EAAE,QAAT;AAAmB06B,MAAAA,SAAS,EAAE;AAA9B,KAA5B,CAAV;AAAA,UACEx+B,CAAC,GAAG,IAAIzG,KAAK,CAAC05B,QAAV,EADN;AAAA,UAEE7yB,CAAC,GAAG,IAAI7G,KAAK,CAAC8S,OAAV,CACF,KAAKgwB,GAAL,CAAS5nB,MAAT,CAAgBhI,CADd,EAEF,KAAK4vB,GAAL,CAAS5nB,MAAT,CAAgB/H,CAFd,EAGF,KAAK2vB,GAAL,CAAS5nB,MAAT,CAAgB9H,CAHd,CAFN;AAAA,UAOE9L,CAAC,GAAG,IAAItH,KAAK,CAAC8S,OAAV,CACF,KAAKgwB,GAAL,CAAS1P,SAAT,CAAmBlgB,CADjB,EAEF,KAAK4vB,GAAL,CAAS1P,SAAT,CAAmBjgB,CAFjB,EAGF,KAAK2vB,GAAL,CAAS1P,SAAT,CAAmBhgB,CAHjB,CAPN;AAAA,UAYE7L,CAAC,GAAG,IAAIvH,KAAK,CAAC8S,OAAV,GAAoB+gB,WAApB,CAAgChtB,CAAhC,EAAmCS,CAAnC,EAAsC,GAAtC,CAZN;AAaA,WACEA,CAAC,CAACilB,cAAF,CAAiB,CAAjB,GACA9lB,CAAC,CAACy+B,QAAF,CAAWh7B,IAAX,CAAgBrD,CAAhB,CADA,EAEAJ,CAAC,CAACy+B,QAAF,CAAWh7B,IAAX,CAAgB3C,CAAhB,CAFA,EAGAd,CAAC,CAACy+B,QAAF,CAAWh7B,IAAX,CAAgB5C,CAAhB,CAHA,EAIA,IAAItH,KAAK,CAACmlC,IAAV,CAAe1+B,CAAf,EAAkBhC,CAAlB,CALF;AAOD;;AArC4C,CA1vChD,EAiyCEtE,GAAG,CAACyW,IAAJ,GAAW,UAAUnS,CAAV,EAAagC,CAAb,EAAgB;AAC1BzG,EAAAA,KAAK,CAAC4W,IAAN,CAAW+Z,IAAX,CAAgB,IAAhB,EAAsBlsB,CAAtB,EAAyBgC,CAAzB,GAA8B,KAAK2+B,SAAL,GAAiB,IAAIplC,KAAK,CAAC+T,OAAV,EAA/C;AACD,CAnyCF,EAoyCE5T,GAAG,CAACyW,IAAJ,CAAS2Z,SAAT,GAAqBzpB,MAAM,CAAC0pB,MAAP,CAAcxwB,KAAK,CAAC4W,IAAN,CAAW2Z,SAAzB,CApyCvB,EAqyCEpwB,GAAG,CAACyW,IAAJ,CAAS2Z,SAAT,CAAmB/rB,WAAnB,GAAiCrE,GAAG,CAACyW,IAryCvC,EAsyCEzW,GAAG,CAACyW,IAAJ,CAAS2Z,SAAT,CAAmB1Z,iBAAnB,GAAuC,UAAUpS,CAAV,EAAagC,CAAb,EAAgB;AACtDhC,EAAAA,CAAC,CAACgT,iBAAF,CAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB,GACE,KAAK4tB,SAAL,EADF,EAEG,KAAKD,SAAL,GAAiB3gC,CAAC,CAAC6S,WAFtB;AAGA,MAAIzQ,CAAC,GAAG,IAAI7G,KAAK,CAAC+T,OAAV,GAAoBN,IAApB,CAAyBhP,CAAC,CAAC6S,WAA3B,EAAwCsU,MAAxC,EAAR;AACA,SAAO,KAAK0Z,kBAAL,CAAwB7gC,CAAxB,EAA2BoC,CAA3B,EAA8BJ,CAA9B,CAAP;AACD,CA5yCF,EA6yCEtG,GAAG,CAACyW,IAAJ,CAAS2Z,SAAT,CAAmB+U,kBAAnB,GAAyC,YAAY;AACpD,MAAI7gC,CAAJ;AAAA,MACEgC,CADF;AAAA,MAEEI,CAAC,GAAG,IAAI7G,KAAK,CAAC8S,OAAV,EAFN;AAAA,MAGExL,CAAC,GAAG,IAAItH,KAAK,CAAC+T,OAAV,EAHN;AAIA,QAAMxM,CAAC,GAAG,IAAIvH,KAAK,CAAC4W,IAAV,EAAV;AAAA,QACEvN,CAAC,GAAG,IAAIrJ,KAAK,CAAC8S,OAAV,EADN;AAEA,MAAItJ,CAAJ;;AACA,WAASM,CAAT,CAAWA,CAAX,EAAc;AACZ,QAAI,KAAK,CAAL,KAAWA,CAAC,CAAC2M,QAAjB,EAA2B;AACzB,YAAMhS,CAAC,GAAGqF,CAAC,CAAC2M,QAAF,CAAWlD,QAAX,CAAoB/B,UAA9B;AACAjK,MAAAA,CAAC,CAACg+B,YAAF,CAAez7B,CAAC,CAAC2M,QAAF,CAAWmnB,YAAX,CAAwB,UAAxB,EAAoCC,KAAnD,GACEt2B,CAAC,CAACi+B,SAAF,CAAYn8B,CAAZ,CADF,EAEExC,CAAC,CAACwa,GAAF,CAAM5c,CAAC,CAACgN,KAAR,EAAehN,CAAC,CAACiN,MAAjB,EAAyBjN,CAAC,CAACkN,KAA3B,EAAkC4a,cAAlC,CAAiD,GAAjD,CAFF;AAGD,KALD,MAME,KAAK,CAAL,KAAWziB,CAAC,CAAC+2B,cAAb,IAA+B,CAAC,CAAD,KAAOr3B,CAAtC,IACKjC,CAAC,CAACg+B,YAAF,CAAez7B,CAAC,CAAC+2B,cAAF,CAAiBjD,YAAjB,CAA8B,UAA9B,EAA0CC,KAAzD,GACDt2B,CAAC,CAACi+B,SAAF,CAAYn8B,CAAZ,CADC,EAED9B,CAAC,CAAC0L,OAAF,CAAUpM,CAAV,EAAa0lB,cAAb,CAA4B,GAA5B,CAHJ,KAIKljB,CAAC,CAAC22B,SAAF,CAAY,CAAZ,GAAgBn5B,CAAC,CAACm5B,SAAF,CAAY,CAAZ,CAJrB;;AAKF14B,IAAAA,CAAC,CAACmM,IAAF,CAAOhP,CAAP,EAAU0xB,QAAV,CAAmBrsB,CAAC,CAACwN,WAArB,GACGxN,CAAC,CAACyJ,QAAF,CAAWuE,gBAAX,GAA8BzO,CADjC,EAEE,MAAMxC,CAAC,CAACqM,CAAR,IAAa,MAAMrM,CAAC,CAACsM,CAArB,IAA0B,MAAMtM,CAAC,CAACuM,CAAlC,GACI3M,CAAC,CAACyD,IAAF,CAAO,IAAIlK,KAAK,CAAC8S,OAAV,CAAkBzJ,CAAC,CAAC6J,CAApB,EAAuB7J,CAAC,CAAC8J,CAAzB,EAA4B9J,CAAC,CAAC+J,CAA9B,EAAiC2uB,YAAjC,CAA8Cz6B,CAA9C,CAAP,CADJ,GAEIb,CAAC,CAACyD,IAAF,CACE,IAAIlK,KAAK,CAAC8S,OAAV,CAAkB,CAACjM,CAAC,CAACqM,CAArB,EAAwBrM,CAAC,CAACsM,CAA1B,EAA6BtM,CAAC,CAACuM,CAA/B,EAAkC/I,GAAlC,CAAsChB,CAAtC,EAAyC04B,YAAzC,CAAsDz6B,CAAtD,CADF,EAEE,IAAItH,KAAK,CAAC8S,OAAV,CAAkB,CAACjM,CAAC,CAACqM,CAArB,EAAwB,CAACrM,CAAC,CAACsM,CAA3B,EAA8BtM,CAAC,CAACuM,CAAhC,EAAmC/I,GAAnC,CAAuChB,CAAvC,EAA0C04B,YAA1C,CAAuDz6B,CAAvD,CAFF,EAGE,IAAItH,KAAK,CAAC8S,OAAV,CAAkBjM,CAAC,CAACqM,CAApB,EAAuB,CAACrM,CAAC,CAACsM,CAA1B,EAA6BtM,CAAC,CAACuM,CAA/B,EAAkC/I,GAAlC,CAAsChB,CAAtC,EAAyC04B,YAAzC,CAAsDz6B,CAAtD,CAHF,EAIE,IAAItH,KAAK,CAAC8S,OAAV,CAAkBjM,CAAC,CAACqM,CAApB,EAAuBrM,CAAC,CAACsM,CAAzB,EAA4BtM,CAAC,CAACuM,CAA9B,EAAiC/I,GAAjC,CAAqChB,CAArC,EAAwC04B,YAAxC,CAAqDz6B,CAArD,CAJF,EAKE,IAAItH,KAAK,CAAC8S,OAAV,CAAkB,CAACjM,CAAC,CAACqM,CAArB,EAAwBrM,CAAC,CAACsM,CAA1B,EAA6B,CAACtM,CAAC,CAACuM,CAAhC,EAAmC/I,GAAnC,CAAuChB,CAAvC,EAA0C04B,YAA1C,CAAuDz6B,CAAvD,CALF,EAME,IAAItH,KAAK,CAAC8S,OAAV,CAAkB,CAACjM,CAAC,CAACqM,CAArB,EAAwB,CAACrM,CAAC,CAACsM,CAA3B,EAA8B,CAACtM,CAAC,CAACuM,CAAjC,EAAoC/I,GAApC,CAAwChB,CAAxC,EAA2C04B,YAA3C,CAAwDz6B,CAAxD,CANF,EAOE,IAAItH,KAAK,CAAC8S,OAAV,CAAkBjM,CAAC,CAACqM,CAApB,EAAuB,CAACrM,CAAC,CAACsM,CAA1B,EAA6B,CAACtM,CAAC,CAACuM,CAAhC,EAAmC/I,GAAnC,CAAuChB,CAAvC,EAA0C04B,YAA1C,CAAuDz6B,CAAvD,CAPF,EAQE,IAAItH,KAAK,CAAC8S,OAAV,CAAkBjM,CAAC,CAACqM,CAApB,EAAuBrM,CAAC,CAACsM,CAAzB,EAA4B,CAACtM,CAAC,CAACuM,CAA/B,EAAkC/I,GAAlC,CAAsChB,CAAtC,EAAyC04B,YAAzC,CAAsDz6B,CAAtD,CARF,CAJN;AAcD;;AACD,SAAO,UAAUT,CAAV,EAAaS,CAAb,EAAgBC,CAAhB,EAAmB;AACxB,WACE,AACC9C,CAAC,GAAG6C,CADL,EAECkC,CAAC,GAAG3C,CAAC,CAAC85B,YAFP,EAGCl6B,CAAC,GAAG,EAHL,EAIA,CAAC,CAAD,KAAOc,CAAP,IACKV,CAAC,CAACyP,cAAF,CAAiBxM,CAAjB,GAAqB,KAAK27B,aAAL,CAAmBh/B,CAAnB,CAD1B,KAEKqD,CAAC,CAACjD,CAAD,CAAD,EAAM,KAAK4+B,aAAL,CAAmBh/B,CAAnB,CAFX,CAJA,EAOA,IARF;AAUD,GAXD;AAYD,CA/CwC,EA7yC1C,EA61CEtG,GAAG,CAACyW,IAAJ,CAAS2Z,SAAT,CAAmBiV,SAAnB,GAA+B,UAAU/gC,CAAV,EAAa;AAC3C,SACE,CAACA,CAAC,GAAGzE,KAAK,CAAC4W,IAAN,CAAW2Z,SAAX,CAAqBiV,SAArB,CAA+B7U,IAA/B,CAAoC,IAApC,EAA0ClsB,CAA1C,CAAL,EAAmDs9B,YAAnD,CACE,KAAKqD,SADP,GAGA3gC,CAJF;AAMD,CAp2CF,EAq2CEtE,GAAG,CAACyW,IAAJ,CAAS2Z,SAAT,CAAmBmV,aAAnB,GAAmC,UAAUjhC,CAAV,EAAagC,CAAb,EAAgB;AAClD,SAAO,KAAK4+B,SAAL,IAAkB,KAAKM,cAAL,CAAoBlhC,CAApB,EAAuBgC,CAAvB,CAAzB;AACD,CAv2CF,EAw2CEtG,GAAG,CAACyW,IAAJ,CAAS2Z,SAAT,CAAmBoV,cAAnB,GAAqC,YAAY;AAChD,MAAIlhC,CAAJ;AAAA,MACEgC,CADF;AAAA,MAEEI,CAFF;AAAA,MAGES,CAHF;AAAA,MAIEC,CAAC,GAAG,IAAIvH,KAAK,CAAC8S,OAAV,EAJN;;AAKA,WAASzJ,CAAT,CAAWA,CAAX,EAAc;AACZ,QAAIG,CAAC,GAAGH,CAAC,CAACoN,QAAV;AACA,QAAI,KAAK,CAAL,KAAWjN,CAAf,EACE,IAAIA,CAAC,CAACo8B,UAAN,EAAkB;AAChB,UAAI97B,CAAC,GAAGN,CAAC,CAAC07B,QAAV;;AACA,WAAKz+B,CAAC,GAAG,CAAJ,EAAOI,CAAC,GAAGiD,CAAC,CAACpB,MAAlB,EAA0BjC,CAAC,GAAGI,CAA9B,EAAiCJ,CAAC,EAAlC,EACEc,CAAC,CAACkM,IAAF,CAAO3J,CAAC,CAACrD,CAAD,CAAR,GACEc,CAAC,CAACw6B,YAAF,CAAe14B,CAAC,CAACiO,WAAjB,CADF,EAEE,KAAK,CAAL,KAAWhQ,CAAX,IAAgBC,CAAC,CAACw6B,YAAF,CAAez6B,CAAf,CAFlB,EAGE7C,CAAC,CAACohC,aAAF,CAAgBt+B,CAAhB,CAHF;AAIH,KAPD,MAOO,IAAIiC,CAAC,CAACs8B,gBAAN,EAAwB;AAC7B,UAAI/7B,CAAC,GAAGP,CAAC,CAAC8I,UAAF,CAAakB,QAArB;AACA,UAAI,KAAK,CAAL,KAAWzJ,CAAf,EACE,KAAKtD,CAAC,GAAG,CAAJ,EAAOI,CAAC,GAAGkD,CAAC,CAAC+E,KAAlB,EAAyBrI,CAAC,GAAGI,CAA7B,EAAgCJ,CAAC,EAAjC,EACEc,CAAC,CAAC87B,mBAAF,CAAsBt5B,CAAtB,EAAyBtD,CAAzB,EAA4Bs7B,YAA5B,CAAyC14B,CAAC,CAACiO,WAA3C,GACE,KAAK,CAAL,KAAWhQ,CAAX,IAAgBC,CAAC,CAACw6B,YAAF,CAAez6B,CAAf,CADlB,EAEE7C,CAAC,CAACohC,aAAF,CAAgBt+B,CAAhB,CAFF;AAGL;AACJ;;AACD,SAAO,UAAUd,CAAV,EAAaI,CAAb,EAAgB;AACrB,WAAQpC,CAAC,GAAG,IAAL,EAAYgC,CAAC,CAACyQ,iBAAF,CAAoB,CAAC,CAArB,CAAZ,EAAsC5P,CAAC,GAAGT,CAA1C,EAA8CJ,CAAC,CAACs/B,QAAF,CAAW18B,CAAX,CAA9C,EAA6D,IAApE;AACD,GAFD;AAGD,CA5BoC,EAx2CtC,EAq4CElJ,GAAG,CAACyW,IAAJ,CAAS2Z,SAAT,CAAmBzZ,eAAnB,GAAqC,YAAY;AAChD,MAAIrS,CAAC,GAAG,KAAKwO,OAAL,CAAa,IAAIjT,KAAK,CAAC8S,OAAV,EAAb,EAAkCyZ,cAAlC,CAAiD,GAAjD,CAAR;AACA,MAAI9lB,CAAC,GAAG,KAAK++B,SAAL,CAAe,IAAIxlC,KAAK,CAAC8S,OAAV,EAAf,CAAR;AAAA,MACEjM,CAAC,GAAG,IAAI7G,KAAK,CAAC+T,OAAV,GAAoBN,IAApB,CAAyB,KAAK2xB,SAA9B,EAAyCY,WAAzC,CAAqDv/B,CAArD,CADN;AAEA,OAAKy+B,QAAL,GAAgB,CACd,IAAIllC,KAAK,CAAC8S,OAAV,CAAkB,CAACrO,CAAC,CAACyO,CAArB,EAAwBzO,CAAC,CAAC0O,CAA1B,EAA6B1O,CAAC,CAAC2O,CAA/B,EAAkC2uB,YAAlC,CAA+Cl7B,CAA/C,CADc,EAEd,IAAI7G,KAAK,CAAC8S,OAAV,CAAkB,CAACrO,CAAC,CAACyO,CAArB,EAAwB,CAACzO,CAAC,CAAC0O,CAA3B,EAA8B1O,CAAC,CAAC2O,CAAhC,EAAmC2uB,YAAnC,CAAgDl7B,CAAhD,CAFc,EAGd,IAAI7G,KAAK,CAAC8S,OAAV,CAAkBrO,CAAC,CAACyO,CAApB,EAAuB,CAACzO,CAAC,CAAC0O,CAA1B,EAA6B1O,CAAC,CAAC2O,CAA/B,EAAkC2uB,YAAlC,CAA+Cl7B,CAA/C,CAHc,EAId,IAAI7G,KAAK,CAAC8S,OAAV,CAAkBrO,CAAC,CAACyO,CAApB,EAAuBzO,CAAC,CAAC0O,CAAzB,EAA4B1O,CAAC,CAAC2O,CAA9B,EAAiC2uB,YAAjC,CAA8Cl7B,CAA9C,CAJc,EAKd,IAAI7G,KAAK,CAAC8S,OAAV,CAAkB,CAACrO,CAAC,CAACyO,CAArB,EAAwBzO,CAAC,CAAC0O,CAA1B,EAA6B,CAAC1O,CAAC,CAAC2O,CAAhC,EAAmC2uB,YAAnC,CAAgDl7B,CAAhD,CALc,EAMd,IAAI7G,KAAK,CAAC8S,OAAV,CAAkB,CAACrO,CAAC,CAACyO,CAArB,EAAwB,CAACzO,CAAC,CAAC0O,CAA3B,EAA8B,CAAC1O,CAAC,CAAC2O,CAAjC,EAAoC2uB,YAApC,CAAiDl7B,CAAjD,CANc,EAOd,IAAI7G,KAAK,CAAC8S,OAAV,CAAkBrO,CAAC,CAACyO,CAApB,EAAuB,CAACzO,CAAC,CAAC0O,CAA1B,EAA6B,CAAC1O,CAAC,CAAC2O,CAAhC,EAAmC2uB,YAAnC,CAAgDl7B,CAAhD,CAPc,EAQd,IAAI7G,KAAK,CAAC8S,OAAV,CAAkBrO,CAAC,CAACyO,CAApB,EAAuBzO,CAAC,CAAC0O,CAAzB,EAA4B,CAAC1O,CAAC,CAAC2O,CAA/B,EAAkC2uB,YAAlC,CAA+Cl7B,CAA/C,CARc,CAAhB;AAUD,CAn5CF,EAo5CE1G,GAAG,CAACyW,IAAJ,CAAS2Z,SAAT,CAAmBxZ,YAAnB,GAAkC,YAAY;AAC7C,OAAKmuB,QAAL,IAAiB,KAAKpuB,eAAL,EAAjB,EACG,KAAKmvB,KAAL,GAAa,CACZ,IAAIjmC,KAAK,CAACkmC,KAAV,GAAkB7kB,GAAlB,CAAsB,KAAK6jB,QAAL,CAAc,CAAd,CAAtB,EAAwC,KAAKA,QAAL,CAAc,CAAd,CAAxC,CADY,EAEZ,IAAIllC,KAAK,CAACkmC,KAAV,GAAkB7kB,GAAlB,CAAsB,KAAK6jB,QAAL,CAAc,CAAd,CAAtB,EAAwC,KAAKA,QAAL,CAAc,CAAd,CAAxC,CAFY,EAGZ,IAAIllC,KAAK,CAACkmC,KAAV,GAAkB7kB,GAAlB,CAAsB,KAAK6jB,QAAL,CAAc,CAAd,CAAtB,EAAwC,KAAKA,QAAL,CAAc,CAAd,CAAxC,CAHY,EAIZ,IAAIllC,KAAK,CAACkmC,KAAV,GAAkB7kB,GAAlB,CAAsB,KAAK6jB,QAAL,CAAc,CAAd,CAAtB,EAAwC,KAAKA,QAAL,CAAc,CAAd,CAAxC,CAJY,EAKZ,IAAIllC,KAAK,CAACkmC,KAAV,GAAkB7kB,GAAlB,CAAsB,KAAK6jB,QAAL,CAAc,CAAd,CAAtB,EAAwC,KAAKA,QAAL,CAAc,CAAd,CAAxC,CALY,EAMZ,IAAIllC,KAAK,CAACkmC,KAAV,GAAkB7kB,GAAlB,CAAsB,KAAK6jB,QAAL,CAAc,CAAd,CAAtB,EAAwC,KAAKA,QAAL,CAAc,CAAd,CAAxC,CANY,EAOZ,IAAIllC,KAAK,CAACkmC,KAAV,GAAkB7kB,GAAlB,CAAsB,KAAK6jB,QAAL,CAAc,CAAd,CAAtB,EAAwC,KAAKA,QAAL,CAAc,CAAd,CAAxC,CAPY,EAQZ,IAAIllC,KAAK,CAACkmC,KAAV,GAAkB7kB,GAAlB,CAAsB,KAAK6jB,QAAL,CAAc,CAAd,CAAtB,EAAwC,KAAKA,QAAL,CAAc,CAAd,CAAxC,CARY,EASZ,IAAIllC,KAAK,CAACkmC,KAAV,GAAkB7kB,GAAlB,CAAsB,KAAK6jB,QAAL,CAAc,CAAd,CAAtB,EAAwC,KAAKA,QAAL,CAAc,CAAd,CAAxC,CATY,EAUZ,IAAIllC,KAAK,CAACkmC,KAAV,GAAkB7kB,GAAlB,CAAsB,KAAK6jB,QAAL,CAAc,CAAd,CAAtB,EAAwC,KAAKA,QAAL,CAAc,CAAd,CAAxC,CAVY,EAWZ,IAAIllC,KAAK,CAACkmC,KAAV,GAAkB7kB,GAAlB,CAAsB,KAAK6jB,QAAL,CAAc,CAAd,CAAtB,EAAwC,KAAKA,QAAL,CAAc,CAAd,CAAxC,CAXY,EAYZ,IAAIllC,KAAK,CAACkmC,KAAV,GAAkB7kB,GAAlB,CAAsB,KAAK6jB,QAAL,CAAc,CAAd,CAAtB,EAAwC,KAAKA,QAAL,CAAc,CAAd,CAAxC,CAZY,CADhB;AAeD,CAp6CF,EAq6CE/kC,GAAG,CAACyW,IAAJ,CAAS2Z,SAAT,CAAmB4V,YAAnB,GAAkC,YAAY;AAC7C,OAAKjB,QAAL,IAAiB,KAAKpuB,eAAL,EAAjB,EACG,KAAKsvB,KAAL,GAAa,CACZ,IAAIpmC,KAAK,CAAC8S,OAAV,GACGW,IADH,CACQ,KAAKyxB,QAAL,CAAc,CAAd,CADR,EAEGrZ,GAFH,CAEO,KAAKqZ,QAAL,CAAc,CAAd,CAFP,EAGG3Y,cAHH,CAGkB,GAHlB,EAIGliB,GAJH,CAIO,KAAK66B,QAAL,CAAc,CAAd,CAJP,CADY,EAMZ,IAAIllC,KAAK,CAAC8S,OAAV,GACGW,IADH,CACQ,KAAKyxB,QAAL,CAAc,CAAd,CADR,EAEGrZ,GAFH,CAEO,KAAKqZ,QAAL,CAAc,CAAd,CAFP,EAGG3Y,cAHH,CAGkB,GAHlB,EAIGliB,GAJH,CAIO,KAAK66B,QAAL,CAAc,CAAd,CAJP,CANY,EAWZ,IAAIllC,KAAK,CAAC8S,OAAV,GACGW,IADH,CACQ,KAAKyxB,QAAL,CAAc,CAAd,CADR,EAEGrZ,GAFH,CAEO,KAAKqZ,QAAL,CAAc,CAAd,CAFP,EAGG3Y,cAHH,CAGkB,GAHlB,EAIGliB,GAJH,CAIO,KAAK66B,QAAL,CAAc,CAAd,CAJP,CAXY,EAgBZ,IAAIllC,KAAK,CAAC8S,OAAV,GACGW,IADH,CACQ,KAAKyxB,QAAL,CAAc,CAAd,CADR,EAEGrZ,GAFH,CAEO,KAAKqZ,QAAL,CAAc,CAAd,CAFP,EAGG3Y,cAHH,CAGkB,GAHlB,EAIGliB,GAJH,CAIO,KAAK66B,QAAL,CAAc,CAAd,CAJP,CAhBY,EAqBZ,IAAIllC,KAAK,CAAC8S,OAAV,GACGW,IADH,CACQ,KAAKyxB,QAAL,CAAc,CAAd,CADR,EAEGrZ,GAFH,CAEO,KAAKqZ,QAAL,CAAc,CAAd,CAFP,EAGG3Y,cAHH,CAGkB,GAHlB,EAIGliB,GAJH,CAIO,KAAK66B,QAAL,CAAc,CAAd,CAJP,CArBY,EA0BZ,IAAIllC,KAAK,CAAC8S,OAAV,GACGW,IADH,CACQ,KAAKyxB,QAAL,CAAc,CAAd,CADR,EAEGrZ,GAFH,CAEO,KAAKqZ,QAAL,CAAc,CAAd,CAFP,EAGG3Y,cAHH,CAGkB,GAHlB,EAIGliB,GAJH,CAIO,KAAK66B,QAAL,CAAc,CAAd,CAJP,CA1BY,CADhB;AAiCD,CAv8CF,EAw8CE/kC,GAAG,CAAC+M,IAAJ,GAAW,MAAM;AAChB,SAAO8mB,KAAP,CAAavvB,CAAb,EAAgBgC,CAAhB,EAAmBI,CAAnB,EAAsBS,CAAtB,EAAyB;AACvB,QAAI,MAAMA,CAAV,EAAa,OAAOT,CAAC,CAAC4M,IAAF,CAAOhP,CAAP,CAAP;AACb,QAAI,MAAM6C,CAAV,EAAa,OAAOT,CAAC,CAAC4M,IAAF,CAAOhN,CAAP,CAAP;AACb,QAAIc,CAAC,GAAG9C,CAAC,CAACwY,CAAF,GAAMxW,CAAC,CAACwW,CAAR,GAAYxY,CAAC,CAACyO,CAAF,GAAMzM,CAAC,CAACyM,CAApB,GAAwBzO,CAAC,CAAC0O,CAAF,GAAM1M,CAAC,CAAC0M,CAAhC,GAAoC1O,CAAC,CAAC2O,CAAF,GAAM3M,CAAC,CAAC2M,CAApD;AACA,QAAI7L,CAAC,IAAI,CAAT,EAAY,OAAOV,CAAC,CAAC4M,IAAF,CAAOhP,CAAP,CAAP;AACZ,QAAI4E,CAAC,GAAG,IAAI9B,CAAC,GAAGA,CAAhB;;AACA,QAAI8B,CAAC,IAAIsU,MAAM,CAAC0oB,OAAhB,EAAyB;AACvB,UAAI78B,CAAC,GAAG,IAAIlC,CAAZ;AACA,aACGT,CAAC,CAACoW,CAAF,GAAMzT,CAAC,GAAG/E,CAAC,CAACwY,CAAN,GAAU3V,CAAC,GAAGb,CAAC,CAACwW,CAAvB,EACCpW,CAAC,CAACqM,CAAF,GAAM1J,CAAC,GAAG/E,CAAC,CAACyO,CAAN,GAAU5L,CAAC,GAAGb,CAAC,CAACyM,CADvB,EAECrM,CAAC,CAACsM,CAAF,GAAM3J,CAAC,GAAG/E,CAAC,CAAC0O,CAAN,GAAU7L,CAAC,GAAGb,CAAC,CAAC0M,CAFvB,EAGCtM,CAAC,CAACuM,CAAF,GAAM5J,CAAC,GAAG/E,CAAC,CAAC2O,CAAN,GAAU9L,CAAC,GAAGb,CAAC,CAAC2M,CAHvB,EAIAvM,CAAC,CAAC4xB,SAAF,EAJA,EAKA5xB,CANF;AAQD;;AACD,QAAIiD,CAAC,GAAGoD,IAAI,CAACoiB,IAAL,CAAUjmB,CAAV,CAAR;AAAA,QACEU,CAAC,GAAGmD,IAAI,CAACkwB,KAAL,CAAWtzB,CAAX,EAAcvC,CAAd,CADN;AAAA,QAEEsD,CAAC,GAAGqC,IAAI,CAAC8qB,GAAL,CAAS,CAAC,IAAI1wB,CAAL,IAAUyC,CAAnB,IAAwBD,CAF9B;AAAA,QAGEsB,CAAC,GAAG8B,IAAI,CAAC8qB,GAAL,CAAS1wB,CAAC,GAAGyC,CAAb,IAAkBD,CAHxB;AAIA,WACGjD,CAAC,CAACoW,CAAF,GAAMxY,CAAC,CAACwY,CAAF,GAAMpS,CAAN,GAAUpE,CAAC,CAACwW,CAAF,GAAM7R,CAAvB,EACCvE,CAAC,CAACqM,CAAF,GAAMzO,CAAC,CAACyO,CAAF,GAAMrI,CAAN,GAAUpE,CAAC,CAACyM,CAAF,GAAM9H,CADvB,EAECvE,CAAC,CAACsM,CAAF,GAAM1O,CAAC,CAAC0O,CAAF,GAAMtI,CAAN,GAAUpE,CAAC,CAAC0M,CAAF,GAAM/H,CAFvB,EAGCvE,CAAC,CAACuM,CAAF,GAAM3O,CAAC,CAAC2O,CAAF,GAAMvI,CAAN,GAAUpE,CAAC,CAAC2M,CAAF,GAAMhI,CAHvB,EAIAvE,CALF;AAOD;;AACD,SAAOy/B,YAAP,CAAoB7hC,CAApB,EAAuBgC,CAAvB,EAA0B;AACxB,WACGhC,CAAC,GAAGyI,IAAI,CAAC0tB,IAAL,CAAUn2B,CAAV,CAAL,EACCgC,CAAC,GAAGyG,IAAI,CAACyP,KAAL,CAAWlW,CAAX,CADL,EAEAyG,IAAI,CAACyP,KAAL,CAAWzP,IAAI,CAACqR,MAAL,MAAiB9X,CAAC,GAAGhC,CAArB,IAA0BA,CAArC,CAHF;AAKD;;AACD,SAAO8hC,aAAP,CAAqB9hC,CAArB,EAAwBgC,CAAxB,EAA2BI,CAA3B,EAA8B;AAC5B,QAAIS,CAAC,GAAG7C,CAAC,CAAC+U,KAAF,GAAUqS,GAAV,CAAcplB,CAAd,CAAR;AAAA,QACEc,CAAC,GAAGV,CAAC,CAAC2S,KAAF,GAAUqS,GAAV,CAAcplB,CAAd,CADN;AAAA,QAEE4C,CAAC,GAAG5C,CAAC,CAACo0B,UAAF,CAAah0B,CAAb,CAFN;AAGA,WAAOS,CAAC,CAACqlB,GAAF,CAAMplB,CAAN,IAAW8B,CAAlB;AACD;;AACD,SAAOyvB,eAAP,CAAuBr0B,CAAvB,EAA0BgC,CAA1B,EAA6B;AAC3B,WAAOhC,CAAC,CAAC+U,KAAF,GAAUmT,GAAV,CAAclmB,CAAd,IAAmBA,CAAC,CAACiC,MAAF,EAA1B;AACD;;AACD,SAAO89B,OAAP,CAAe/hC,CAAf,EAAkBgC,CAAlB,EAAqBI,CAArB,EAAwBS,CAAxB,EAA2BC,CAAC,GAAG,CAAC,CAAhC,EAAmC;AACjC,QAAI8B,CAAC,GAAGxC,CAAC,GAAGpC,CAAZ;AAAA,QACE+E,CAAC,GAAGlC,CAAC,GAAGb,CADV;AAAA,QAEEqD,CAAC,GAAGoD,IAAI,CAACkwB,KAAL,CAAW5zB,CAAX,EAAcH,CAAd,CAFN;AAGA,WAAQS,CAAC,IAAI,MAAMoD,IAAI,CAACC,EAAjB,EAAsB5F,CAAC,IAAIuC,CAAC,GAAG,CAAT,KAAeA,CAAC,GAAG,MAAMA,CAAzB,CAAtB,EAAmDA,CAA1D;AACD;;AACD,SAAO28B,OAAP,CAAehiC,CAAf,EAAkBgC,CAAlB,EAAqBI,CAArB,EAAwB;AACtB,QAAIS,CAAC,GAAG7C,CAAC,CAAC+U,KAAF,GAAUqS,GAAV,CAAcplB,CAAd,CAAR;AAAA,QACEc,CAAC,GAAGV,CAAC,CAAC2S,KAAF,GAAUqS,GAAV,CAAcplB,CAAd,CADN;AAAA,QAEE4C,CAAC,GAAG5C,CAAC,CAACo0B,UAAF,CAAap2B,CAAb,CAFN;AAAA,QAGE+E,CAAC,GAAG/C,CAAC,CAACo0B,UAAF,CAAah0B,CAAb,CAHN;AAAA,QAIEiD,CAAC,GAAGxC,CAAC,CAACqlB,GAAF,CAAMplB,CAAN,KAAY8B,CAAC,GAAGG,CAAhB,CAJN;AAKA,WAAO0D,IAAI,CAACw5B,IAAL,CAAU58B,CAAV,CAAP;AACD;;AACD,SAAO68B,gBAAP,CAAwBliC,CAAxB,EAA2BgC,CAA3B,EAA8BI,CAA9B,EAAiC;AAC/B,WAAO;AACLqM,MAAAA,CAAC,EAAEzO,CAAC,GAAGyI,IAAI,CAAC+qB,GAAL,CAASpxB,CAAT,CAAJ,GAAkBJ,CAAC,GAAGyG,IAAI,CAAC8qB,GAAL,CAASnxB,CAAT,CADpB;AAELsM,MAAAA,CAAC,EAAE1O,CAAC,GAAGyI,IAAI,CAAC8qB,GAAL,CAASnxB,CAAT,CAAJ,GAAkBJ,CAAC,GAAGyG,IAAI,CAAC+qB,GAAL,CAASpxB,CAAT,CAFpB;AAGLuM,MAAAA,CAAC,EAAE;AAHE,KAAP;AAKD;;AACD,SAAOwzB,gBAAP,CAAwBniC,CAAxB,EAA2BgC,CAA3B,EAA8B;AAC5B,WAAOhC,CAAC,CAAC+U,KAAF,GAAUqtB,YAAV,CAAuB1mC,GAAG,CAAC+M,IAAJ,CAAS45B,eAAT,CAAyBrgC,CAAC,CAACyM,CAA3B,EAA8BzM,CAAC,CAAC0M,CAAhC,EAAmC1M,CAAC,CAAC2M,CAArC,CAAvB,CAAP;AACD;;AACD,SAAO0zB,eAAP,CAAuBriC,CAAvB,EAA0BgC,CAA1B,EAA6BI,CAA7B,EAAgC;AAC9B,QAAIS,CAAC,GAAG,IAAItH,KAAK,CAAC+mC,OAAV,EAAR;AAAA,QACEx/B,CAAC,GAAG,IAAIvH,KAAK,CAAC+mC,OAAV,EADN;AAAA,QAEE19B,CAAC,GAAG,IAAIrJ,KAAK,CAAC+mC,OAAV,EAFN;AAGA,WACEz/B,CAAC,CAAC+Z,GAAF,CACE,CADF,EAEE,CAFF,EAGE,CAHF,EAIE,CAJF,EAKEnU,IAAI,CAAC+qB,GAAL,CAASxzB,CAAT,CALF,EAME,CAACyI,IAAI,CAAC8qB,GAAL,CAASvzB,CAAT,CANH,EAOE,CAPF,EAQEyI,IAAI,CAAC8qB,GAAL,CAASvzB,CAAT,CARF,EASEyI,IAAI,CAAC+qB,GAAL,CAASxzB,CAAT,CATF,GAWA8C,CAAC,CAAC8Z,GAAF,CACEnU,IAAI,CAAC+qB,GAAL,CAASxxB,CAAT,CADF,EAEE,CAFF,EAGEyG,IAAI,CAAC8qB,GAAL,CAASvxB,CAAT,CAHF,EAIE,CAJF,EAKE,CALF,EAME,CANF,EAOE,CAACyG,IAAI,CAAC8qB,GAAL,CAASvxB,CAAT,CAPH,EAQE,CARF,EASEyG,IAAI,CAAC+qB,GAAL,CAASxxB,CAAT,CATF,CAXA,EAsBA4C,CAAC,CAACgY,GAAF,CACEnU,IAAI,CAAC+qB,GAAL,CAASpxB,CAAT,CADF,EAEE,CAACqG,IAAI,CAAC8qB,GAAL,CAASnxB,CAAT,CAFH,EAGE,CAHF,EAIEqG,IAAI,CAAC8qB,GAAL,CAASnxB,CAAT,CAJF,EAKEqG,IAAI,CAAC+qB,GAAL,CAASpxB,CAAT,CALF,EAME,CANF,EAOE,CAPF,EAQE,CARF,EASE,CATF,CAtBA,EAiCAS,CAAC,CAAC6uB,QAAF,CAAW5uB,CAAX,EAAc4uB,QAAd,CAAuB9sB,CAAvB,CAlCF;AAoCD;;AACD,SAAOsxB,KAAP,CAAal2B,CAAb,EAAgBgC,CAAhB,EAAmB;AACjB,QAAII,CAAC,GAAG,CAACpC,CAAC,GAAG,GAAL,EAAUuiC,KAAV,CAAgB,GAAhB,CAAR;AACA,WAAO,EACL,CAACngC,CAAC,GAAG,CAACqG,IAAI,CAACytB,KAAL,CAAW9zB,CAAC,CAAC,CAAD,CAAD,GAAO,GAAP,IAAc,CAACA,CAAC,CAAC,CAAD,CAAF,GAAQJ,CAAtB,CAAX,IAAuC,GAAxC,EAA6CugC,KAA7C,CAAmD,GAAnD,CAAL,EAA8D,CAA9D,IACA,GADA,IAEC,CAACngC,CAAC,CAAC,CAAD,CAAF,GAAQJ,CAFT,CADK,CAAP;AAKD;;AACD,SAAOgyB,SAAP,CAAiBh0B,CAAjB,EAAoBgC,CAApB,EAAuBI,CAAvB,EAA0B;AACxB,WAAO,CAACpC,CAAC,GAAGgC,CAAL,KAAWI,CAAC,GAAGJ,CAAf,CAAP;AACD;;AACD,SAAOwgC,IAAP,CAAYxiC,CAAZ,EAAegC,CAAf,EAAkBI,CAAlB,EAAqB;AACnB,WAAO,CAACA,CAAC,GAAGJ,CAAL,IAAUhC,CAAV,GAAcgC,CAArB;AACD;;AACD,SAAOgvB,GAAP,CAAWhxB,CAAX,EAAcgC,CAAd,EAAiBI,CAAjB,EAAoBS,CAApB,EAAuBC,CAAvB,EAA0B;AACxB,WAAOpH,GAAG,CAAC+M,IAAJ,CAAS+5B,IAAT,CAAc9mC,GAAG,CAAC+M,IAAJ,CAASurB,SAAT,CAAmBh0B,CAAnB,EAAsBgC,CAAtB,EAAyBI,CAAzB,CAAd,EAA2CS,CAA3C,EAA8CC,CAA9C,CAAP;AACD;;AACD,SAAO2/B,KAAP,CAAaziC,CAAb,EAAgBgC,CAAhB,EAAmBI,CAAnB,EAAsB;AACpB,WAAOqG,IAAI,CAACgF,GAAL,CAAShF,IAAI,CAAC+E,GAAL,CAASxN,CAAT,EAAYgC,CAAZ,CAAT,EAAyBI,CAAzB,CAAP;AACD;;AACD,SAAOsgC,oBAAP,CAA4B1iC,CAA5B,EAA+BgC,CAA/B,EAAkCI,CAAlC,EAAqC;AACnC,QAAIS,CAAC,GAAGb,CAAC,CAAC+S,KAAF,GAAUqS,GAAV,CAAcpnB,CAAd,CAAR;AAAA,QACE8C,CAAC,GAAGD,CAAC,CAACoB,MAAF,EADN;AAEA,WAAQpB,CAAC,GAAGA,CAAC,CAACmxB,SAAF,GAAclM,cAAd,CAA6BhlB,CAAC,GAAGV,CAAjC,CAAL,EAA2CpC,CAAC,CAAC+U,KAAF,GAAUnP,GAAV,CAAc/C,CAAd,CAAlD;AACD;;AACD,SAAO8/B,wBAAP,CAAgC3iC,CAAhC,EAAmCgC,CAAnC,EAAsC;AACpC,QAAII,CAAC,GAAGpC,CAAC,CAACyO,CAAF,GAAMzM,CAAC,CAACyM,CAAhB;AAAA,QACE5L,CAAC,GAAG7C,CAAC,CAAC0O,CAAF,GAAM1M,CAAC,CAAC0M,CADd;AAAA,QAEE5L,CAAC,GAAG9C,CAAC,CAAC2O,CAAF,GAAM3M,CAAC,CAAC2M,CAFd;AAGA,WAAOlG,IAAI,CAACoiB,IAAL,CAAUzoB,CAAC,GAAGA,CAAJ,GAAQS,CAAC,GAAGA,CAAZ,GAAgBC,CAAC,GAAGA,CAA9B,CAAP;AACD;;AACD,SAAO8/B,yBAAP,CAAiC5iC,CAAjC,EAAoCgC,CAApC,EAAuC;AACrC,QAAII,CAAC,GAAGpC,CAAC,CAACyO,CAAF,GAAMzM,CAAC,CAACyM,CAAhB;AAAA,QACE5L,CAAC,GAAG7C,CAAC,CAAC0O,CAAF,GAAM1M,CAAC,CAAC0M,CADd;AAAA,QAEE5L,CAAC,GAAG9C,CAAC,CAAC2O,CAAF,GAAM3M,CAAC,CAAC2M,CAFd;AAGA,WAAO,IAAIpT,KAAK,CAAC8S,OAAV,CAAkBjM,CAAlB,EAAqBS,CAArB,EAAwBC,CAAxB,CAAP;AACD;;AACD,SAAO+/B,aAAP,CAAqB7iC,CAArB,EAAwB;AACtB,QAAIgC,CAAC,GAAG,IAAIzG,KAAK,CAAC8S,OAAV,EAAR;AACA,WACErO,CAAC,CAACgS,QAAF,CAAW1D,kBAAX,IACCtM,CAAC,CAACyM,CAAF,GAAMzO,CAAC,CAACgS,QAAF,CAAWzD,WAAX,CAAuBf,GAAvB,CAA2BiB,CAA3B,GAA+BzO,CAAC,CAACgS,QAAF,CAAWzD,WAAX,CAAuBd,GAAvB,CAA2BgB,CADjE,EAECzM,CAAC,CAAC0M,CAAF,GAAM1O,CAAC,CAACgS,QAAF,CAAWzD,WAAX,CAAuBf,GAAvB,CAA2BkB,CAA3B,GAA+B1O,CAAC,CAACgS,QAAF,CAAWzD,WAAX,CAAuBd,GAAvB,CAA2BiB,CAFjE,EAGC1M,CAAC,CAAC2M,CAAF,GAAM3O,CAAC,CAACgS,QAAF,CAAWzD,WAAX,CAAuBf,GAAvB,CAA2BmB,CAA3B,GAA+B3O,CAAC,CAACgS,QAAF,CAAWzD,WAAX,CAAuBd,GAAvB,CAA2BkB,CAHjE,EAIA3M,CALF;AAOD;;AACD,SAAO8gC,cAAP,CAAsB9iC,CAAtB,EAAyBgC,CAAzB,EAA4B;AAC1B,SAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,CAAC,CAACiC,MAAtB,EAA8B7B,CAAC,EAA/B,EACE,SAASpC,CAAT,IACKgC,CAAC,CAACI,CAAD,CAAD,CAAK2M,QAAL,CAAc6N,GAAd,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,GACD5a,CAAC,CAACI,CAAD,CAAD,CAAKwM,KAAL,CAAWgO,GAAX,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CADC,EAED5a,CAAC,CAACI,CAAD,CAAD,CAAKgN,QAAL,CAAcwN,GAAd,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAHJ,IAII,WAAW5c,CAAX,GACAgC,CAAC,CAACI,CAAD,CAAD,CAAKwM,KAAL,CAAWgO,GAAX,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CADA,GAEA5a,CAAC,CAACI,CAAD,CAAD,CAAKgN,QAAL,CAAcwN,GAAd,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CANJ,EAOE5a,CAAC,CAACI,CAAD,CAAD,CAAK4P,QAAL,IAAiBhQ,CAAC,CAACI,CAAD,CAAD,CAAK4P,QAAL,CAAc1D,kBAAd,EAPnB;AAQH;;AACD,SAAOy0B,cAAP,CAAsB/iC,CAAtB,EAAyBgC,CAAzB,EAA4B;AAC1B,SAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,CAAC,CAACiC,MAAtB,EAA8B7B,CAAC,EAA/B,EAAmC,IAAIJ,CAAC,CAACI,CAAD,CAAD,KAASpC,CAAb,EAAgB,OAAO,CAAC,CAAR;;AACnD,WAAO,CAAC,CAAR;AACD;;AACD,SAAOgjC,YAAP,CAAoBhjC,CAApB,EAAuB;AACrB,QAAIgC,CAAC,GAAG,IAAIzG,KAAK,CAAC8S,OAAV,EAAR;AAAA,QACEjM,CAAC,GAAGpC,CAAC,CAACiE,MADR;;AAEA,SAAK,IAAI7B,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGpC,CAAC,CAACiE,MAAtB,EAA8B7B,IAAC,EAA/B,EACEJ,CAAC,CAAC4a,GAAF,CACE5a,CAAC,CAACyM,CAAF,GAAMzO,CAAC,CAACoC,IAAD,CAAD,CAAK2M,QAAL,CAAcN,CADtB,EAEEzM,CAAC,CAAC0M,CAAF,GAAM1O,CAAC,CAACoC,IAAD,CAAD,CAAK2M,QAAL,CAAcL,CAFtB,EAGE1M,CAAC,CAAC2M,CAAF,GAAM3O,CAAC,CAACoC,IAAD,CAAD,CAAK2M,QAAL,CAAcJ,CAHtB;;AAKF,WAAO3M,CAAC,CAAC4a,GAAF,CAAM5a,CAAC,CAACyM,CAAF,GAAMrM,CAAZ,EAAeJ,CAAC,CAAC0M,CAAF,GAAMtM,CAArB,EAAwBJ,CAAC,CAAC2M,CAAF,GAAMvM,CAA9B,GAAkCJ,CAAzC;AACD;;AACD,SAAOihC,eAAP,CAAuBjjC,CAAvB,EAA0BgC,CAA1B,EAA6B;AAC3B,UAAMI,CAAC,GAAGpC,CAAC,CAAC0J,OAAF,CAAU1H,CAAV,CAAV;AACAhC,IAAAA,CAAC,CAACusB,MAAF,CAASnqB,CAAT,EAAY,CAAZ;AACD;;AACD,SAAO8gC,4BAAP,CAAoCljC,CAApC,EAAuC;AACrC,QAAIgC,CAAC,GAAGhC,CAAC,CAACkK,MAAF,CAAS+Z,qBAAT,EAAR;AACA,WAAO;AAAEkf,MAAAA,EAAE,EAAEnjC,CAAC,CAACkkB,OAAF,GAAYliB,CAAC,CAAC6F,IAApB;AAA0Bu7B,MAAAA,EAAE,EAAEpjC,CAAC,CAACmkB,OAAF,GAAYniB,CAAC,CAAC+F;AAA5C,KAAP;AACD;;AACD,SAAOs7B,kBAAP,CAA0BrjC,CAA1B,EAA6BgC,CAA7B,EAAgC;AAC9B,WAAO;AAAEmhC,MAAAA,EAAE,EAAEnhC,CAAC,CAAC0hB,KAAF,GAAU1jB,CAAC,CAACwD,MAAF,GAAWqE,IAA3B;AAAiCu7B,MAAAA,EAAE,EAAEphC,CAAC,CAAC2hB,KAAF,GAAU3jB,CAAC,CAACwD,MAAF,GAAWuE;AAA1D,KAAP;AACD;;AACD,SAAOu7B,WAAP,CAAmBtjC,CAAnB,EAAsBgC,CAAtB,EAAyB;AACvB,QAAII,CAAC,GAAGpC,CAAC,CAACgS,QAAF,CAAWnE,UAAX,CAAsB/H,KAAtB,CAA4BszB,KAApC;AAAA,QACEv2B,CAAC,GAAG,IAAI7C,CAAC,CAACgS,QAAF,CAAWnE,UAAX,CAAsB/H,KAAtB,CAA4BuE,KADtC;AAAA,QAEEvH,CAAC,GAAG,KAAKd,CAAC,CAACqW,KAAF,GAAUxV,CAAf,CAFN;AAAA,QAGE+B,CAAC,GAAG,IAAIrJ,KAAK,CAAC6F,KAAV,EAHN;;AAIA,SAAK,IAAIpB,IAAC,GAAG,CAAR,EAAW+E,CAAC,GAAGlC,CAApB,EAAuB7C,IAAC,GAAG+E,CAA3B,EAA8B/E,IAAC,EAA/B,EACE4E,CAAC,CAACgY,GAAF,CAAM2mB,iBAAiB,CAACvjC,IAAD,EAAI8C,CAAJ,EAAOd,CAAC,CAACwhC,KAAT,CAAvB,GACGphC,CAAC,CAAC,IAAIpC,IAAL,CAAD,GAAW4E,CAAC,CAAC/B,CADhB,EAEGT,CAAC,CAAC,IAAIpC,IAAJ,GAAQ,CAAT,CAAD,GAAe4E,CAAC,CAACyU,CAFpB,EAGGjX,CAAC,CAAC,IAAIpC,IAAJ,GAAQ,CAAT,CAAD,GAAe4E,CAAC,CAAC0U,CAHpB;;AAIFtZ,IAAAA,CAAC,CAACgS,QAAF,CAAWnE,UAAX,CAAsB/H,KAAtB,CAA4BqQ,WAA5B,GAA0C,CAAC,CAA3C;AACD;;AACD,SAAOstB,oBAAP,CAA4BzjC,CAA5B,EAA+BgC,CAA/B,EAAkCI,CAAlC,EAAqC;AACnC,QAAIS,CAAJ;AAAA,QACEC,CADF;AAAA,QAEE8B,CAFF;AAAA,QAGEG,CAAC,GAAG3C,CAAC,CAACq+B,QAHR;AAAA,QAIEp7B,CAAC,GAAGjD,CAAC,CAACq+B,QAAF,CAAWx8B,MAJjB;AAAA,QAKEqB,CAAC,GAAG,IAAI/J,KAAK,CAACuS,cAAV,EALN;AAAA,QAME1H,CAAC,GAAG,IAAI7K,KAAK,CAACglC,iBAAV,CAA4B;AAAEmD,MAAAA,YAAY,EAAEnoC,KAAK,CAACooC;AAAtB,KAA5B,CANN;AAAA,QAOEh9B,CAAC,GAAG,IAAImK,YAAJ,CAAiB,IAAIzL,CAArB,CAPN;AAAA,QAQEqG,CAAC,GAAG,IAAIoF,YAAJ,CAAiB,IAAIzL,CAArB,CARN;AAAA,QASEwG,CAAC,GAAG,KAAK7L,CAAC,GAAGqF,CAAT,CATN;AAAA,QAUE0G,CAAC,GAAG,IAAIxQ,KAAK,CAAC6F,KAAV,EAVN;;AAWA,SAAK,IAAIpB,IAAC,GAAG,CAAR,EAAWoC,IAAC,GAAGiD,CAApB,EAAuBrF,IAAC,GAAGoC,IAA3B,EAA8BpC,IAAC,EAA/B,EACG6C,CAAC,GAAGkC,CAAC,CAAC/E,IAAD,CAAD,CAAKyO,CAAV,EACG3L,CAAC,GAAGiC,CAAC,CAAC/E,IAAD,CAAD,CAAK0O,CADZ,EAEG9J,CAAC,GAAGG,CAAC,CAAC/E,IAAD,CAAD,CAAK2O,CAFZ,EAGGhI,CAAC,CAAC,IAAI3G,IAAL,CAAD,GAAW6C,CAHd,EAIG8D,CAAC,CAAC,IAAI3G,IAAJ,GAAQ,CAAT,CAAD,GAAe8C,CAJlB,EAKG6D,CAAC,CAAC,IAAI3G,IAAJ,GAAQ,CAAT,CAAD,GAAe4E,CALlB,EAMEmH,CAAC,CAAC6Q,GAAF,CAAM2mB,iBAAiB,CAACvjC,IAAD,EAAI6L,CAAJ,EAAO7J,CAAP,CAAvB,CANF,EAOG0J,CAAC,CAAC,IAAI1L,IAAL,CAAD,GAAW+L,CAAC,CAAClJ,CAPhB,EAQG6I,CAAC,CAAC,IAAI1L,IAAJ,GAAQ,CAAT,CAAD,GAAe+L,CAAC,CAACsN,CARpB,EASG3N,CAAC,CAAC,IAAI1L,IAAJ,GAAQ,CAAT,CAAD,GAAe+L,CAAC,CAACuN,CATpB;;AAUF,WACEhU,CAAC,CAAC0I,YAAF,CAAe,UAAf,EAA2B,IAAIzS,KAAK,CAACqoC,eAAV,CAA0Bj9B,CAA1B,EAA6B,CAA7B,CAA3B,GACArB,CAAC,CAAC0I,YAAF,CAAe,OAAf,EAAwB,IAAIzS,KAAK,CAACqoC,eAAV,CAA0Bl4B,CAA1B,EAA6B,CAA7B,CAAxB,CADA,EAEA,IAAInQ,KAAK,CAACmlC,IAAV,CAAep7B,CAAf,EAAkBc,CAAlB,CAHF;AAKD;;AACD,SAAOm9B,iBAAP,CAAyBvjC,CAAzB,EAA4BgC,CAA5B,EAA+BI,CAA/B,EAAkC;AAChC,QAAIS,CAAJ,EAAOC,CAAP,EAAU8B,CAAV;AACA9B,IAAAA,CAAC,GAAG8B,CAAC,GAAG/B,CAAC,GAAGb,CAAZ;AACA,QAAI+C,CAAC,GAAG3C,CAAC,GAAG,CAAZ;AAAA,QACEiD,CAAC,GAAGjD,CAAC,GAAG,CADV;AAAA,QAEEkD,CAAC,GAAG,MAAMmD,IAAI,CAAC8qB,GAAL,CAAS1wB,CAAC,GAAG7C,CAAJ,GAAQoC,CAAjB,CAAN,GAA4B,GAFlC;AAAA,QAGEgE,CAAC,GAAG,MAAMqC,IAAI,CAAC8qB,GAAL,CAASzwB,CAAC,GAAG9C,CAAJ,GAAQ+E,CAAjB,CAAN,GAA4B,GAHlC;AAAA,QAIE4B,CAAC,GAAG,MAAM8B,IAAI,CAAC8qB,GAAL,CAAS3uB,CAAC,GAAG5E,CAAJ,GAAQqF,CAAjB,CAAN,GAA4B,GAJlC;AAKA,WAAOw+B,QAAQ,CAAC,OAAOC,SAAS,CAACx+B,CAAD,CAAhB,GAAsBw+B,SAAS,CAAC19B,CAAD,CAA/B,GAAqC09B,SAAS,CAACn9B,CAAD,CAA/C,CAAf;AACD;;AACD,SAAOm9B,SAAP,CAAiB9jC,CAAjB,EAAoB;AAClB,WACE+jC,MAAM,CAAC,mBAAmBC,MAAnB,CAA2BhkC,CAAC,IAAI,CAAN,GAAW,EAArC,EAAyC,CAAzC,CAAD,CAAN,GACA,mBAAmBgkC,MAAnB,CAA0B,KAAKhkC,CAA/B,EAAkC,CAAlC,CAFF;AAID;;AACD,SAAOikC,iBAAP,CAAyBjkC,CAAzB,EAA4BgC,CAA5B,EAA+B;AAC7B,QAAII,CAAC,GAAG,IAAI7G,KAAK,CAAC2oC,UAAV,CAAqBlkC,CAArB,EAAwBgC,CAAxB,EAA2BozB,SAA3B,CAAqC,CAArC,CAAR;AAAA,QACEvyB,CAAC,GAAG,IAAItH,KAAK,CAACuS,cAAV,GAA2BkzB,aAA3B,CAAyC5+B,CAAzC,CADN;AAEA,WAAO,IAAI7G,KAAK,CAACmlC,IAAV,CAAe79B,CAAf,EAAkB,IAAItH,KAAK,CAACglC,iBAAV,CAA4B;AAAEz6B,MAAAA,KAAK,EAAE;AAAT,KAA5B,CAAlB,CAAP;AACD;;AACD,SAAO6uB,MAAP,CAAc30B,CAAd,EAAiBgC,CAAjB,EAAoBI,CAApB,EAAuB;AACrB,SAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7C,CAAC,CAAC6N,UAAF,CAAas2B,EAAb,CAAgB/K,KAAhB,CAAsBn1B,MAA1C,EAAkDpB,CAAC,IAAI,CAAvD,EACG7C,CAAC,CAAC6N,UAAF,CAAas2B,EAAb,CAAgB/K,KAAhB,CAAsBv2B,CAAtB,IAA2B,CAAC7C,CAAC,CAAC6N,UAAF,CAAas2B,EAAb,CAAgB/K,KAAhB,CAAsBv2B,CAAtB,IAA2Bb,CAAC,GAAG,CAAhC,IAAqCA,CAAjE,EACGhC,CAAC,CAAC6N,UAAF,CAAas2B,EAAb,CAAgB/K,KAAhB,CAAsBv2B,CAAC,GAAG,CAA1B,IACC,IAAK,CAAC7C,CAAC,CAAC6N,UAAF,CAAas2B,EAAb,CAAgB/K,KAAhB,CAAsBv2B,CAAC,GAAG,CAA1B,IAA+BT,CAAC,GAAG,CAApC,IAAyCA,CAA1C,GAA+C,CAAC,CAFxD;AAGH;;AACD,SAAOgiC,YAAP,CAAoBpkC,CAApB,EAAuB;AACrB,WAAQA,CAAC,GAAG,GAAGyY,MAAH,CAAU4rB,KAAV,CAAgB,EAAhB,EAAoBrkC,CAApB,CAAZ;AACD;;AACD,SAAOskC,UAAP,CAAkBtkC,CAAlB,EAAqBgC,CAArB,EAAwB;AACtB,WAAOhC,CAAC,GAAGgC,CAAX;AACD;;AACD,SAAOuiC,eAAP,CAAuBvkC,CAAvB,EAA0BgC,CAA1B,EAA6BI,CAA7B,EAAgC;AAC9B,QAAIS,CAAC,GAAG7C,CAAC,CAACgC,CAAD,CAAT;AACEhC,IAAAA,CAAC,CAACgC,CAAD,CAAD,GAAOhC,CAAC,CAACoC,CAAD,CAAT,EAAgBpC,CAAC,CAACoC,CAAD,CAAD,GAAOS,CAAvB;AACF;;AAhRe,CAx8CnB;;;;MC9oOY2hC,MAAM,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,MAAT;AAAiBzwB,EAAAA,EAAjB;AAAqB0wB,EAAAA,SAArB;AAAgChlB,EAAAA,KAAhC;AAAuCilB,EAAAA;AAAvC,CAAD;AACpB,QAAMC,SAAS,GAAQC,MAAA,EAAvB;AACAA,EAAAA,SAAA,CAAgB;AACd,UAAM;AAAEC,MAAAA;AAAF,QAAcF,SAApB;;AACA,QAAIE,OAAO,IAAI,IAAf,EAAqB;AAEnBA,MAAAA,OAAO,CAAC/3B,KAAR,GAAgB+3B,OAAO,CAAC/3B,KAAxB;AACD;;AACD,UAAMg4B,aAAa,GAAG,IAAIxnB,UAAJ,CAAeinB,KAAf,EAAsBC,MAAM,IAAI;AAAEvnB,MAAAA,KAAK,EAAE,EAAT;AAAahb,MAAAA,MAAM,EAAE,EAArB;AAAyBib,MAAAA,MAAM,EAAE,EAAjC;AAAqCC,MAAAA,UAAU,EAAE;AAAjD,KAAhC,EAAuF,EAAvF,EAA2F0nB,OAA3F,CAAtB;AAEAC,IAAAA,aAAa,CAAC9nB,GAAd;AACD,GATD,EASG,CAACunB,KAAD,EAAQC,MAAR,CATH;AAUA,SACEI,aAAA,MAAA;AAAKH,IAAAA,SAAS,EAAEA;AAAWhlB,IAAAA,KAAK,EAAEA;GAAlC,EACEmlB,aAAA,MAAA;AAAKH,IAAAA,SAAS,EAAEM,MAAM,CAACC;GAAvB,EACEJ,aAAA,SAAA;AACE7wB,IAAAA,EAAE,EAAEA;AACJ0wB,IAAAA,SAAS,EAAEM,MAAM,CAAC7mB;AAClB+mB,IAAAA,GAAG,EAAEN;AACLllB,IAAAA,KAAK,EAAEilB;GAJT,CADF,CADF,CADF;AAYD,CAxBM;;;;"}